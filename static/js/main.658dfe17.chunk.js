(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{222:function(e,t,a){},334:function(e,t,a){e.exports=a.p+"static/media/logo.851cb50a.png"},447:function(e,t,a){e.exports=a(784)},452:function(e,t,a){},541:function(e,t,a){},557:function(e,t,a){},631:function(e,t,a){},689:function(e,t,a){},712:function(e,t,a){},766:function(e,t,a){},767:function(e,t,a){},769:function(e,t,a){},772:function(e,t,a){},773:function(e,t,a){},774:function(e,t,a){e.exports=a.p+"static/media/podium.60cdab39.png"},775:function(e,t,a){e.exports=a.p+"static/media/raccoon.360d338c.png"},777:function(e,t,a){},784:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(16),s=a.n(o),i=(a(452),a(453),a(12)),l=a(28),c=a(27),m=a(35),u=a(34),d=a(36),p=a(42),h=a(140),g=a(415),f=a.n(g),E=a(7),b=a.n(E);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}a(77);var y=a(20),S=a(13),P=a.n(S),k="blood_status",C="blood_name",w="blood_id",F=function(){return localStorage.getItem("blood_token")},x=function(){return localStorage.getItem(k)},B=function(){return localStorage.getItem(C)},A=function(){return localStorage.getItem(w)},j=function(e,t,a,r){localStorage.setItem("blood_token",e),localStorage.setItem(k,t),localStorage.setItem(C,a),localStorage.setItem(w,r)},T=function(){localStorage.removeItem("blood_token"),localStorage.removeItem(k),localStorage.removeItem(C),localStorage.removeItem(w)},M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={status:x(),nav:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location.href).searchParams.get("code");"-1"!==this.state.status&&t?P.a.get("/api/members/authenticate/".concat(t)).then(function(t){var a=new URL("".concat("http://localhost:3000/githubconnection","?").concat(t.data)).searchParams.get("access_token");a?P.a.put("/api/members",{id:A(),githubCode:a}).then(function(){y.a.success({message:"Conex\xe3o com Github Funfou!!",description:"AEE! HACCOON est\xe1 de portas abertas."}),e.setState({nav:"/home"})}):e.setState({nav:"/home"})}):"-1"!==this.state.status&&this.setState({nav:"/home"})}},{key:"render",value:function(){return this.state.nav?n.a.createElement(h.a,{to:this.state.nav}):["-1"].includes(x())?n.a.createElement(h.a,{to:"/notAuthorizate"}):n.a.createElement("span",null)}}]),t}(r.Component),D=(a(87),a(51)),O=(a(176),a(108)),L=(a(88),a(17)),I=(a(89),a(9)),R=(a(132),a(59)),V=(a(523),a(198)),_=(a(177),a(86)),q=(a(133),a(54)),N=(a(178),a(41)),z=(a(134),a(43)),Y=(a(78),a(26)),G=(a(71),a(3)),U=(a(122),a(30)),W=(a(65),a(15)),H=(a(67),a(5)),$=(a(66),a(6)),X=(a(79),a(39)),J=(a(75),a(14)),K=(a(72),a(31)),Q=(a(333),a(231)),Z=a(92),ee=(a(180),a(98)),te=(a(115),a(57)),ae=(a(541),a(334)),re=ee.a.Header,ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).signout=function(){var e=te.a.loading("Bye Bye \ud83d\udc4b",0);setTimeout(function(){setTimeout(e,1500),T(),a.setState({nav:"/"})},1500)},a.state={nav:"",user:{},name:B(),status:x(),modal:!1},a.toggle=a.toggle.bind(Object(Z.a)(Object(Z.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;"-1"===this.state.status?P.a.get("/api/customers/id/".concat(A())).then(function(t){e.setState({user:t.data})}):this.state.status&&P.a.get("/api/members/id/".concat(A())).then(function(t){t.data.github_code||(window.location.href="https://github.com/login/oauth/authorize?client_id=".concat("a909ba7f264d474e8f36","&scope=user&redirect_uri=").concat("http://localhost:3000/githubconnection","&allow_signup=true")),e.setState({user:t.data})})}},{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){return this.state.nav?n.a.createElement(h.a,{to:this.state.nav}):n.a.createElement(re,{className:"haccoon-header"},n.a.createElement("div",{className:"gradient-top"}),n.a.createElement($.a,{className:"header-content",style:{padding:"0 25px"}},n.a.createElement(H.a,{sm:{span:10,offset:7},xs:{span:12,offset:0}},n.a.createElement("div",{className:"text-center"},n.a.createElement(p.b,{to:"/home"},n.a.createElement("img",{style:{height:35},src:ae,alt:"Logo HACCOON"})))),this.state.status?n.a.createElement(H.a,{sm:{span:7},xs:{span:12},className:"menu-user"},n.a.createElement(_.a,{overlay:n.a.createElement(N.a,null,n.a.createElement(N.a.Item,{key:"perfil"},n.a.createElement(p.b,{to:"-1"!==this.state.status?"/profile/".concat(this.state.user.username):"/edit/profile",replace:!0},n.a.createElement(G.a,{type:"idcard"})," Perfil")),n.a.createElement(N.a.Item,{key:"logout",onClick:this.signout},n.a.createElement(G.a,{type:"frown"})," Logout"))},n.a.createElement("span",{style:{marginLeft:10,fontSize:13}},n.a.createElement(Y.a,{style:{height:20,width:20,marginTop:-6,marginRight:4},src:this.state.user.image}),n.a.createElement("span",{className:"username"}," ",this.state.name," ")," ",n.a.createElement(G.a,{style:{fontSize:9},type:"down"})))):null))}}]),t}(r.Component),oe=(a(557),ee.a.Sider),se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={status:x()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(oe,{style:{background:"#FFF"},collapsedWidth:"60",collapsed:!0},this.state.status>=0?n.a.createElement(N.a,{style:{height:"100%",paddingTop:"60px"},mode:"inline",defaultSelectedKeys:[this.props.page]},n.a.createElement(N.a.Item,{key:"home"},n.a.createElement(p.b,{to:"/home"},n.a.createElement(G.a,{type:"home"}),n.a.createElement("span",null," P\xe1gina Principal "))),n.a.createElement(N.a.Item,{key:"members"},n.a.createElement(p.b,{to:"/members"},n.a.createElement(G.a,{type:"team"}),n.a.createElement("span",null," Nossa Equipe "))),n.a.createElement(N.a.Item,{key:"customers"},n.a.createElement(p.b,{to:"/customers"},n.a.createElement(G.a,{type:"contacts"}),n.a.createElement("span",null," Nossos Clientes "))),n.a.createElement(N.a.Item,{key:"projects"},n.a.createElement(p.b,{to:"/projects"},n.a.createElement(G.a,{type:"laptop"}),n.a.createElement("span",null," Nossos Projetos "))),this.state.status&&this.state.status>="0"&&this.state.status<="4"?n.a.createElement(N.a.Item,{key:"files"},n.a.createElement(p.b,{to:"/files"},n.a.createElement(G.a,{type:"folder-open"}),n.a.createElement("span",null," Arquivos "))):null,n.a.createElement(N.a.Item,{key:"calendar"},n.a.createElement(p.b,{to:"/calendar"},n.a.createElement(G.a,{type:"calendar"}),n.a.createElement("span",null," Calend\xe1rio "))),n.a.createElement(N.a.Item,{key:"goals"},n.a.createElement(p.b,{to:"/goals"},n.a.createElement(G.a,{type:"flag"}),n.a.createElement("span",null," Metas "))),n.a.createElement(N.a.Item,{key:"gamification"},n.a.createElement(p.b,{to:"/gamification"},n.a.createElement(G.a,{type:"trophy"}),n.a.createElement("span",null," Gamification ")))):n.a.createElement(N.a,{style:{height:"100%",paddingTop:"60px"},mode:"inline",defaultSelectedKeys:[this.props.page]},n.a.createElement(N.a.Item,{key:"projects"},n.a.createElement(p.b,{to:"/projects"},n.a.createElement(G.a,{type:"laptop"}),n.a.createElement("span",null," Seus Projetos ")))))}}]),t}(r.Component),ie=ee.a.Footer,le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(ie,{style:{background:"#383A3F",color:"#FFF",fontSize:13,textAlign:"center"}},"R. Rosalina Maria Ferreira, 1233 - Vila Guaruja, Campo Mour\xe3o - PR, 87301-899 ",n.a.createElement("br",null),"\xa9 2019. ",n.a.createElement("a",{href:"http://hakenej.com",rel:"noopener noreferrer",target:"_blank"},"Haken"),", Empresa J\xfanior de Ci\xeancia da Computa\xe7\xe3o.")}}]),t}(r.Component),ce=ee.a.Content,me=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).state={collapsed:!0},e.toggle=e.toggle.bind(Object(Z.a)(Object(Z.a)(e))),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"toggle",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){return F()?n.a.createElement(ee.a,{style:{minHeight:"100vh"}},n.a.createElement(Q.a,null),n.a.createElement(ne,null),n.a.createElement(ee.a,null,n.a.createElement(se,{page:this.props.page}),n.a.createElement(ce,{style:{padding:24,paddingTop:50,background:"#FFF",minHeight:280}},this.props.children)),n.a.createElement(le,null)):n.a.createElement(h.a,{to:"/"})}}]),t}(r.Component),ue=K.a.Title,de=K.a.Paragraph,pe=K.a.Text,he=J.a.Search,ge=[{title:"Presidente",label:"Rei da Cocada Preta"},{title:"Vice-Presidente/Diretor de RH",label:"Manda s\xf3 quando o presidente n\xe3o est\xe1."},{title:"Diretor de Projetos",label:"The Best"},{title:"Diretor Administrativo-Financeiro",label:"Contando Centavos..."},{title:"Diretor de Marketing",label:"Criando umas Artes"},{title:"Membro",label:"Abastecendo-se de Caf\xe9"},{title:"Trainee",label:"Sofrendo"},{title:"Anci\xe3o",label:"Os Baqueados"}],fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).search=function(e){var t=a.state.tasks;""===e.target.value?a.setState({tasksSearched:t}):a.setState({tasksSearched:t.filter(function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())||t.description&&t.description.toLowerCase().includes(e.target.value.toLowerCase())})})},a.changeVisualization=function(){"card"===a.state.view?a.setState({view:"list"}):a.setState({view:"card"})},a.openNewTaskModal=function(){a.props.form.resetFields(),a.setState({visibleTasksModal:!0})},a.openEditTaskModal=function(e){a.props.form.resetFields(),"0"===e.score.type&&a.props.form.setFieldsValue({point:e.score.point}),"1"===e.score.type&&a.props.form.setFieldsValue({min:e.score.min,max:e.score.max}),"2"===e.score.type&&a.props.form.setFieldsValue({point:e.score.point,mult:e.score.mult,observation:e.score.observation}),"3"===e.score.type&&a.props.form.setFieldsValue({point:e.score.point,multMax:e.score.multMax,mult:e.score.mult,observation:e.score.observation}),a.props.form.setFieldsValue({name:e.name,description:e.description,type:e.score.type}),a.setState({visibleTasksModal:!0,task:e})},a.openTaskMemberModal=function(){a.props.form.resetFields(),a.setState({visibleTaskMemberModal:!0,loadingTaskMemberModalButton:!1})},a.hideModals=function(){return a.setState({task:"",visibleTasksModal:!1,visibleTaskMemberModal:!1,loadingTasksModalButton:!1})},a.filteredOptions=function(e,t){return!(t.props.label||!t.key.toLowerCase().includes(e.toLowerCase()))},a.handleSubmitNewTask=function(e){e.preventDefault(),a.setState({loadingTasksModalButton:!0}),a.props.form.validateFields(["type","name","description","min","max","point","mult","multMax","observation"],function(e,t){if(e)a.setState({loadingTasksModalButton:!1});else{var r={type:t.type};"0"!==r.type&&"2"!==r.type&&"3"!==r.type||(r.point=t.point),"1"===r.type&&(r.min=t.min),"1"===r.type&&(r.max=t.max),"2"!==r.type&&"3"!==r.type||(r.mult=t.mult),"2"!==r.type&&"3"!==r.type||(r.observation=t.observation),"3"===r.type&&(r.multMax=t.multMax),P.a.post("/api/task",{name:t.name,description:t.description,score:r}).then(function(){y.a.success({message:"Uhull",description:"Tarefa Criada!"}),a.hideModals(),a.componentDidMount()}).catch(function(){a.setState({loadingTasksModalButton:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos enviar dados no Servidor."})})}})},a.handleSubmitEditTask=function(e){e.preventDefault();var t=a.state.task;a.setState({loadingTasksModalButton:!0}),a.props.form.validateFields(["type","name","description","min","max","point","mult","multMax","observation"],function(e,r){if(e)a.setState({loadingTasksModalButton:!1});else{var n={type:r.type};"0"!==n.type&&"2"!==n.type&&"3"!==n.type||(n.point=r.point),"1"===n.type&&(n.min=r.min),"1"===n.type&&(n.max=r.max),"2"!==n.type&&"3"!==n.type||(n.mult=r.mult),"2"!==n.type&&"3"!==n.type||(n.observation=r.observation),"3"===n.type&&(n.multMax=r.multMax),P.a.put("/api/task",{id:t._id,name:r.name,description:r.description,score:n}).then(function(){y.a.success({message:"Uhull",description:"Tarefa Atualizada!"}),a.hideModals(),a.componentDidMount()}).catch(function(){a.setState({loadingTasksModalButton:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos enviar dados no Servidor."})})}})},a.deleteTask=function(e){P.a.delete("/api/task/".concat(e)).then(function(){y.a.success({message:"Uhull",description:"Tarefa Removida!"}),a.hideModals(),a.componentDidMount()}).catch(function(){a.setState({loadingTasksModalButton:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos enviar dados no Servidor."})})},a.handleTaskToMember=function(e){e.preventDefault(),a.setState({loadingTaskMemberModalButton:!0}),a.props.form.validateFields(["task","member","points"],function(e,t){if(e)a.setState({loadingTaskMemberModalButton:!1});else{var r=a.state.tasks[a.state.tasks.map(function(e){return e._id}).indexOf(t.task)],n=t.points;"3"===r.score.type&&(n=t.points*r.score.mult+r.score.point>r.score.multMax?r.score.multMax:t.points*r.score.mult+r.score.point);var o=a.state.members[a.state.members.map(function(e){return e._id}).indexOf(t.member)];o.points.push({task:r,point:n,date:b()()}),P.a.put("/api/members",{id:o._id,points:o.points}).then(function(){y.a.success({message:"Uhull",description:"Pontos Anexado ao Membro!"}),a.openTaskMemberModal()}).catch(function(){a.setState({loadingTaskMemberModalButton:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos enviar dados no Servidor."})})}})},a.state={members:[],view:"card",tasks:[],tasksSearched:[],task:"",loadingPage:!0,visibleTasksModal:!1,visibleTaskMemberModal:!1,loadingTasksModalButton:!1,loadingTaskMemberModalButton:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loadingPage:!0}),P.a.get("/api/members").then(function(t){var a=t.data;a.sort(function(e,t){return e.status<t.status?-1:e.status>t.status?1:0}),a=a.filter(function(e){return e.status<7}),P.a.get("api/task").then(function(t){var r=t.data;e.setState({tasks:r,tasksSearched:r,members:a,loadingPage:!1})}).catch(function(){})}).catch(function(){})}},{key:"render",value:function(){var e=this;if(["-1"].includes(x()))return n.a.createElement(h.a,{to:"/notAuthorizate"});var t=this.props.form,a=t.getFieldDecorator,r=t.getFieldValue,o=t.getFieldError,s=t.setFieldsValue;return n.a.createElement(me,{page:"gamification"},n.a.createElement(D.a,{spinning:this.state.loadingPage},n.a.createElement($.a,{style:{marginBottom:0}},n.a.createElement(ue,{id:"info",level:2,style:{fontWeight:500}}," Gamification ",n.a.createElement("span",{role:"img","aria-label":"Trophy"},"\ud83c\udfc6")," "),n.a.createElement(X.a,{style:{marginTop:0}})),n.a.createElement($.a,{gutter:16,type:"flex",justify:"end"},n.a.createElement(H.a,{span:18},n.a.createElement(he,{placeholder:"Pesquise pelo nome ou descri\xe7\xe3o",onChange:function(t){return e.search(t)},style:{marginBottom:18},size:"default"})),n.a.createElement(U.a,{content:"card"===this.state.view?"Lista":"Visualiza\xe7\xe3o em Grade",placement:"bottom"},n.a.createElement(W.a,{style:{marginRight:8},onClick:function(){return e.changeVisualization()},type:"dashed",shape:"circle",icon:"card"===this.state.view?"align-left":"appstore"})),x()<5?n.a.createElement(W.a,{type:"primary",icon:"plus",onClick:function(){return e.openTaskMemberModal()}}," Adicione Pontos - Membros "):null),"card"===this.state.view?n.a.createElement($.a,null,x()<5?n.a.createElement(H.a,{style:{marginTop:20,height:120,paddingRight:8,paddingLeft:8},span:6},n.a.createElement(z.a,{bordered:!0,hoverable:!0,style:{textAlign:"center",height:120},onClick:function(){return e.openNewTaskModal()}},n.a.createElement(Y.a,{style:{color:"#383A3F",backgroundColor:"#383A3F38"}},n.a.createElement(G.a,{type:"plus"})),n.a.createElement(ue,{style:{marginBottom:0,marginTop:10,fontWeight:600,fontSize:13},level:4}," Adicionar Nova Tarefa "))):null,this.state.tasksSearched?this.state.tasksSearched.map(function(t){return"0"===t.score.type?n.a.createElement(H.a,{key:t._id,style:{marginTop:20,height:120,paddingRight:8,paddingLeft:8},span:6},n.a.createElement(U.a,{overlayStyle:{width:300,textAlign:"center"},content:n.a.createElement(pe,null," ",t.description?n.a.createElement(pe,null," ",n.a.createElement(pe,{strong:!0}," Descri\xe7\xe3o: ")," ",t.description):null," ")},n.a.createElement(z.a,{bordered:!0,hoverable:!0,style:{textAlign:"center",height:120}},x()<5?n.a.createElement(_.a,{overlay:n.a.createElement(N.a,null,n.a.createElement(N.a.Item,{onClick:function(){return e.openEditTaskModal(t)}}," ",n.a.createElement(G.a,{type:"edit"})," Editar "),n.a.createElement(N.a.Item,{onClick:function(){var a=e;q.a.confirm({title:"Deseja realmente apagar esta tarefa?",content:"Esta a\xe7\xe3o \xe9 permanente, ainda n\xe3o implmentamos lixeira (e nem vamos)",okType:"danger",onOk:function(){a.deleteTask(t._id)},onCancel:function(){}})}},n.a.createElement(G.a,{type:"delete"})," Excluir")),placement:"bottomRight"},n.a.createElement(G.a,{style:{cursor:"pointer",position:"absolute",right:10,top:13},type:"more"})):null,n.a.createElement(V.a,{value:t.score.point,valueStyle:{color:t.score.point>0?"#20BF6B":"#EB3B5A"}}),n.a.createElement(ue,{style:{marginBottom:0,marginTop:10,fontWeight:600,fontSize:13},level:4}," ",t.name," ")))):"1"===t.score.type?n.a.createElement(H.a,{key:t._id,style:{marginTop:20,height:120,paddingRight:8,paddingLeft:8},span:6},n.a.createElement(U.a,{overlayStyle:{width:300,textAlign:"center"},content:n.a.createElement(pe,null," ",t.description?n.a.createElement(pe,null," ",n.a.createElement(pe,{strong:!0}," Descri\xe7\xe3o: ")," ",t.description):null," ")},n.a.createElement(z.a,{bordered:!0,hoverable:!0,style:{textAlign:"center",height:120}},x()<5?n.a.createElement(_.a,{overlay:n.a.createElement(N.a,null,n.a.createElement(N.a.Item,{onClick:function(){return e.openEditTaskModal(t)}}," ",n.a.createElement(G.a,{type:"edit"})," Editar "),n.a.createElement(N.a.Item,{onClick:function(){var a=e;q.a.confirm({title:"Deseja realmente apagar esta tarefa?",content:"Esta a\xe7\xe3o \xe9 permanente, ainda n\xe3o implmentamos lixeira (e nem vamos)",okType:"danger",onOk:function(){a.deleteTask(t._id)},onCancel:function(){}})}},n.a.createElement(G.a,{type:"delete"})," Excluir")),placement:"bottomRight"},n.a.createElement(G.a,{style:{cursor:"pointer",position:"absolute",right:10,top:13},type:"more"})):null,n.a.createElement(V.a,{value:t.score.max,valueStyle:{color:"#3867D6"},prefix:"".concat(t.score.min," -")}),n.a.createElement(ue,{style:{marginBottom:0,marginTop:10,fontWeight:600,fontSize:13},level:4}," ",t.name," ")))):"2"===t.score.type?n.a.createElement(H.a,{key:t._id,style:{marginTop:20,height:120,paddingRight:8,paddingLeft:8},span:6},n.a.createElement(U.a,{overlayStyle:{width:300,textAlign:"center"},content:n.a.createElement($.a,null," ",t.description?n.a.createElement(de,null," ",n.a.createElement(pe,{strong:!0}," Descri\xe7\xe3o: ")," ",t.description):null," ",n.a.createElement(de,null," ",n.a.createElement(pe,{strong:!0}," Regra: ")," X: ","".concat(t.score.mult," ").concat(t.score.observation)," "))},n.a.createElement(z.a,{bordered:!0,hoverable:!0,style:{textAlign:"center",height:120}},x()<5?n.a.createElement(_.a,{overlay:n.a.createElement(N.a,null,n.a.createElement(N.a.Item,{onClick:function(){return e.openEditTaskModal(t)}}," ",n.a.createElement(G.a,{type:"edit"})," Editar "),n.a.createElement(N.a.Item,{onClick:function(){var a=e;q.a.confirm({title:"Deseja realmente apagar esta tarefa?",content:"Esta a\xe7\xe3o \xe9 permanente, ainda n\xe3o implmentamos lixeira (e nem vamos)",okType:"danger",onOk:function(){a.deleteTask(t._id)},onCancel:function(){}})}},n.a.createElement(G.a,{type:"delete"})," Excluir")),placement:"bottomRight"},n.a.createElement(G.a,{style:{cursor:"pointer",position:"absolute",right:10,top:13},type:"more"})):null,n.a.createElement(V.a,{value:t.score.point,valueStyle:{color:"#FD9644"},prefix:"X +"}),n.a.createElement(ue,{style:{marginBottom:0,marginTop:10,fontWeight:600,fontSize:13},level:4}," ",t.name," ")))):n.a.createElement(H.a,{key:t._id,style:{marginTop:20,height:120,paddingRight:8,paddingLeft:8},span:6},n.a.createElement(U.a,{overlayStyle:{width:300,textAlign:"center"},content:n.a.createElement($.a,null," ",t.description?n.a.createElement(de,null," ",n.a.createElement(pe,{strong:!0}," Descri\xe7\xe3o: ")," ",t.description):null," ",n.a.createElement(de,null," ",n.a.createElement(pe,{strong:!0}," Regra: ")," X: ","".concat(t.score.mult," ").concat(t.score.observation)," ")," ",n.a.createElement(de,null," ",n.a.createElement(pe,{strong:!0}," M\xe1ximo: ")," ",t.score.multMax," "))},n.a.createElement(z.a,{bordered:!0,hoverable:!0,style:{textAlign:"center",height:120}},x()<5?n.a.createElement(_.a,{overlay:n.a.createElement(N.a,null,n.a.createElement(N.a.Item,{onClick:function(){return e.openEditTaskModal(t)}}," ",n.a.createElement(G.a,{type:"edit"})," Editar "),n.a.createElement(N.a.Item,{onClick:function(){var a=e;q.a.confirm({title:"Deseja realmente apagar esta tarefa?",content:"Esta a\xe7\xe3o \xe9 permanente, ainda n\xe3o implmentamos lixeira (e nem vamos)",okType:"danger",onOk:function(){a.deleteTask(t._id)},onCancel:function(){}})}},n.a.createElement(G.a,{type:"delete"})," Excluir")),placement:"bottomRight"},n.a.createElement(G.a,{style:{cursor:"pointer",position:"absolute",right:10,top:13},type:"more"})):null,n.a.createElement(V.a,{value:t.score.point,valueStyle:{color:"#A55EEA"},prefix:"X +"}),n.a.createElement(ue,{style:{marginBottom:0,marginTop:10,fontWeight:600,fontSize:13},level:4}," ",t.name," "))))}):null):n.a.createElement(R.a,{header:n.a.createElement($.a,null,n.a.createElement($.a,null,n.a.createElement(H.a,{span:8},n.a.createElement(pe,{strong:!0}," Tarefa ")),n.a.createElement(H.a,{span:8},n.a.createElement(pe,{strong:!0}," Descri\xe7\xe3o ")),n.a.createElement(H.a,{span:3,offset:1},n.a.createElement(pe,{strong:!0}," Pontua\xe7\xe3o ")),n.a.createElement(H.a,{span:3},n.a.createElement(pe,{strong:!0}," Observa\xe7\xe3o "))),n.a.createElement($.a,null," ",n.a.createElement(W.a,{type:"dashed",icon:"plus",style:{width:"100%",marginTop:10},onClick:function(){return e.openNewTaskModal()}}," Adicionar Nova Tarefa ")," ")),dataSource:this.state.tasksSearched,renderItem:function(t){return n.a.createElement(R.a.Item,null,n.a.createElement(H.a,{span:8}," ",t.name," "),n.a.createElement(H.a,{span:8},n.a.createElement(de,{ellipsis:!0}," ",t.description||""," ")),n.a.createElement(H.a,{span:3,offset:1}," ","0"===t.score.type?t.score.point:"1"===t.score.type?"".concat(t.score.min," - ").concat(t.score.max):"X + ".concat(t.score.point)," "),n.a.createElement(H.a,{span:3},"2"===t.score.type?n.a.createElement(de,null," ",n.a.createElement(pe,{strong:!0}," X: ")," ",t.score.mult," "):null,"3"===t.score.type?n.a.createElement(de,null," ",n.a.createElement(pe,{strong:!0}," X: ")," ",t.score.mult," (max: ",t.score.multMax,") "):null),n.a.createElement(H.a,{span:1},x()<5?n.a.createElement(_.a,{overlay:n.a.createElement(N.a,null,n.a.createElement(N.a.Item,{onClick:function(){return e.openEditTaskModal(t)}}," ",n.a.createElement(G.a,{type:"edit"})," Editar "),n.a.createElement(N.a.Item,{onClick:function(){var a=e;q.a.confirm({title:"Deseja realmente apagar esta tarefa?",content:"Esta a\xe7\xe3o \xe9 permanente, ainda n\xe3o implmentamos lixeira (e nem vamos)",okType:"danger",onOk:function(){a.deleteTask(t._id)},onCancel:function(){}})}},n.a.createElement(G.a,{type:"delete"})," Excluir")),placement:"bottomRight"},n.a.createElement(G.a,{style:{cursor:"pointer"},type:"more"})):null))}}),n.a.createElement(q.a,{visible:this.state.visibleTasksModal,footer:null,onCancel:this.hideModals,centered:!0},n.a.createElement(de,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," ",this.state.task?"Editar":"Nova"," Tarefa "),n.a.createElement(X.a,{style:{minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},n.a.createElement(G.a,{type:this.state.task?"edit":"plus-circle"})),n.a.createElement(I.a,{onSubmit:this.state.task?this.handleSubmitEditTask:this.handleSubmitNewTask},n.a.createElement(I.a.Item,{label:"Nome",hasFeedback:!0,validateStatus:o("name")?"error":this.state.task&&r("name")!==this.state.task.name?"success":!this.state.task&&r("name")?"success":""},a("name",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira um nome!"}]})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"font-colors",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Nome"}))),n.a.createElement(I.a.Item,{label:"Descri\xe7\xe3o",hasFeedback:!0,validateStatus:o("description")?"error":this.state.task&&r("description")!==this.state.task.description?"success":!this.state.task&&r("description")?"success":""},a("description")(n.a.createElement(J.a.TextArea,{placeholder:"Descri\xe7\xe3o da Tarefa",autosize:{minRows:5,maxRows:5}}))),n.a.createElement(I.a.Item,{label:"Tipo",hasFeedback:!0,validateStatus:o("type")?"error":this.state.task&&r("type")!==this.state.task.score.type?"success":!this.state.task&&r("type")?"success":""},a("type",{rules:[{required:!0,message:"Por favor, insira um tipo!"}],initialValue:"0"})(n.a.createElement(L.a,{placeholder:"Tipo da Tarefa"},n.a.createElement(L.a.Option,{value:"0"}," Valor Fixo "),n.a.createElement(L.a.Option,{value:"1"}," M\xednimo/M\xe1ximo "),n.a.createElement(L.a.Option,{value:"2"}," F\xf3rmula "),n.a.createElement(L.a.Option,{value:"3"}," F\xf3rmula + Valor M\xe1ximo ")))),n.a.createElement($.a,{gutter:16,style:{display:"0"===r("type")||"2"===r("type")||"3"===r("type")?"block":"none"}},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Pontua\xe7\xe3o",hasFeedback:!0,validateStatus:o("point")?"error":this.state.task&&this.state.task.score.point&&r("point")!==this.state.task.score.point.toString()?"success":!this.state.task&&r("point")?"success":""},a("point",{normalize:function(e){return e?e.toString().replace(/[^\d.-]/g,""):""},rules:[{required:"0"===r("type")||"2"===r("type")||"3"===r("type"),message:"Por favor, insira uma pontua\xe7\xe3o!"}]})(n.a.createElement(J.a,{placeholder:"Pontua\xe7\xe3o",style:{width:120},addonBefore:"2"===r("type")||"3"===r("type")?"X +":null})))),n.a.createElement(H.a,{span:12,style:{display:"3"===r("type")?"block":"none"}},n.a.createElement(I.a.Item,{label:"Valor M\xe1ximo",hasFeedback:!0,validateStatus:o("multMax")?"error":this.state.task&&this.state.task.score.multMax&&r("multMax")!==this.state.task.score.multMax.toString()?"success":!this.state.task&&r("multMax")?"success":""},a("multMax",{normalize:function(e){return e?e.toString().replace(/[^\d.-]/g,""):""},rules:[{required:"3"===r("type"),message:"Por favor, insira um valor m\xe1ximo!"}]})(n.a.createElement(J.a,{style:{width:120},placeholder:"Valor M\xe1ximo"}))))),n.a.createElement($.a,{gutter:16,style:{display:"1"===r("type")?"block":"none"}},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"M\xednimo",hasFeedback:!0,validateStatus:o("min")?"error":this.state.task&&r("min")!==this.state.task.score.min?"success":!this.state.task&&r("min")?"success":""},a("min",{rules:[{required:"1"===r("type"),message:"Por favor, insira um valor m\xednimo!"}]})(n.a.createElement(O.a,{placeholder:"M\xednimo",min:0,max:r("max")?r("max")-1:null})))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"M\xe1ximo",hasFeedback:!0,validateStatus:o("max")?"error":this.state.task&&r("max")!==this.state.task.score.max?"success":!this.state.task&&r("max")?"success":""},a("max",{rules:[{required:"1"===r("type"),message:"Por favor, insira um valor m\xe1ximo!"}]})(n.a.createElement(O.a,{placeholder:"M\xe1ximo",min:r("min")?r("min")+1:null}))))),n.a.createElement($.a,{gutter:16,style:{display:"2"===r("type")||"3"===r("type")?"block":"none"}},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Valor X",hasFeedback:!0,validateStatus:o("mult")?"error":this.state.task&&this.state.task.score.mult&&r("mult")!==this.state.task.score.mult.toString()?"success":!this.state.task&&r("mult")?"success":""},a("mult",{normalize:function(e){return e?e.toString().replace(/[^\d.-]/g,""):""},rules:[{required:"2"===r("type")||"3"===r("type"),message:"Por favor, insira o valor de X!"}]})(n.a.createElement(J.a,{placeholder:"Valor do X"})))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Observa\xe7\xe3o",hasFeedback:!0,validateStatus:o("observation")?"error":this.state.task&&r("observation")!==this.state.task.score.observation?"success":!this.state.task&&r("observation")?"success":""},a("observation",{rules:[{required:"2"===r("type")||"3"===r("type"),message:"Por favor, insira a observa\xe7\xe3o!"}]})(n.a.createElement(J.a,{placeholder:"Ex: por dias \xfateis."}))))),n.a.createElement($.a,null,n.a.createElement(H.a,{span:14,offset:8,style:{textAlign:"right"}},n.a.createElement(W.a,{type:"primary",htmlType:"submit",loading:this.state.loadingTasksModalButton}," Salvar "))))),n.a.createElement(q.a,{visible:this.state.visibleTaskMemberModal,footer:null,onCancel:this.hideModals,centered:!0},n.a.createElement(de,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," Pontos Para Membros "),n.a.createElement(X.a,{style:{minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},n.a.createElement(G.a,{type:"trophy"})),n.a.createElement(I.a,{onSubmit:this.handleTaskToMember},n.a.createElement(I.a.Item,{label:"Membro",hasFeedback:!0,validateStatus:o("member")?"error":r("member")?"success":""},a("member",{rules:[{required:!0,message:"Por favor, selecione um membro!"}]})(n.a.createElement(L.a,{allowClear:!0,placeholder:"Membro",showSearch:!0,filterOption:this.filteredOptions},n.a.createElement(L.a.OptGroup,{key:"Diretoria",label:"Diretoria"},this.state.members.map(function(e){return e.status<5?n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.username),value:e._id},e.name," (",e.username,")"):null})),ge.map(function(t,a){return a>4&&a<7?n.a.createElement(L.a.OptGroup,{key:t.title,label:t.title},e.state.members.map(function(e){return a===e.status?n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.username),value:e._id},e.name," (",e.username,")"):null})):null})))),n.a.createElement(I.a.Item,{label:"Tarefa",hasFeedback:!0,validateStatus:o("task")?"error":r("task")?"success":""},a("task",{rules:[{required:!0,message:"Por favor, selecione uma tarefa!"}]})(n.a.createElement(L.a,{allowClear:!0,placeholder:"Tarefa",showSearch:!0,filterOption:this.filteredOptions,onChange:function(t){return"0"===e.state.tasks[e.state.tasks.map(function(e){return e._id}).indexOf(t)].score.type?s({point:e.state.tasks[e.state.tasks.map(function(e){return e._id}).indexOf(t)].score.point}):null}},this.state.tasks.map(function(e){return n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.description),value:e._id},e.name)})))),r("task")?n.a.createElement($.a,null,n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"2"===this.state.tasks[this.state.tasks.map(function(e){return e._id}).indexOf(r("task"))].score.type||"3"===this.state.tasks[this.state.tasks.map(function(e){return e._id}).indexOf(r("task"))].score.type?this.state.tasks[this.state.tasks.map(function(e){return e._id}).indexOf(r("task"))].score.observation:"Pontua\xe7\xe3o",hasFeedback:!0,validateStatus:o("points")?"error":r("points")?"success":""},a("points",{initialValue:"0"===this.state.tasks[this.state.tasks.map(function(e){return e._id}).indexOf(r("task"))].score.type?this.state.tasks[this.state.tasks.map(function(e){return e._id}).indexOf(r("task"))].score.point:0,rules:[{required:!0,message:"Por favor, insira a ".concat("2"===this.state.tasks[this.state.tasks.map(function(e){return e._id}).indexOf(r("task"))].score.type||"3"===this.state.tasks[this.state.tasks.map(function(e){return e._id}).indexOf(r("task"))].score.type?"medida":"pontua\xe7\xe3o","!")}]})(n.a.createElement(O.a,{disabled:"0"===this.state.tasks[this.state.tasks.map(function(e){return e._id}).indexOf(r("task"))].score.type,placeholder:"2"===this.state.tasks[this.state.tasks.map(function(e){return e._id}).indexOf(r("task"))].score.type||"3"===this.state.tasks[this.state.tasks.map(function(e){return e._id}).indexOf(r("task"))].score.type?"Medida":"Pontua\xe7\xe3o",max:this.state.tasks[this.state.tasks.map(function(e){return e._id}).indexOf(r("task"))].score.max,min:this.state.tasks[this.state.tasks.map(function(e){return e._id}).indexOf(r("task"))].score.min||0})))),n.a.createElement(H.a,{span:12},"1"===this.state.tasks[this.state.tasks.map(function(e){return e._id}).indexOf(r("task"))].score.type?n.a.createElement($.a,{style:{marginTop:20}},n.a.createElement(de,null," ",n.a.createElement(pe,{strong:!0}," M\xednimo: ")," ",this.state.tasks[this.state.tasks.map(function(e){return e._id}).indexOf(r("task"))].score.min," "),n.a.createElement(de,null," ",n.a.createElement(pe,{strong:!0}," M\xe1ximo: ")," ",this.state.tasks[this.state.tasks.map(function(e){return e._id}).indexOf(r("task"))].score.max," ")):null)):null,n.a.createElement($.a,null,n.a.createElement(H.a,{span:14,offset:8,style:{textAlign:"right"}},n.a.createElement(W.a,{type:"primary",htmlType:"submit",loading:this.state.loadingTaskMemberModalButton}," Salvar ")))))))}}]),t}(r.Component),Ee=I.a.create()(fe),be=(a(135),a(55)),ve=(a(631),K.a.Title),ye=K.a.Text,Se=K.a.Paragraph,Pe=J.a.Search,ke=L.a.Option,Ce=[{color:"#3867D6",icon:"deployment-unit",title:"Planejamento",label:"Come\xe7ando o sofrimento denovo."},{color:"#FA8231",icon:"rocket",title:"Inicializando",label:"Fechando contrato e preparando as almas de membros para o abate."},{color:"#45AAF2",icon:"coffee",title:"Em Andamento",label:"Abastecendo os membros com caf\xe9 para manter o progresso."},{color:"#778CA3",icon:"frown",title:"Cancelado",label:"Cliente deu pra tr\xe1s."},{color:"#EB3B5A",icon:"stop",title:"Congelado",label:"Sei l\xe1, deu uma parada por agora."},{color:"#20BF6B",icon:"like",title:"Acabou",label:"Acaboooouuuu!!"}],we=[{color:"#F7B731",title:"Consultoria",icon:"book"},{color:"#FED330",title:"Site",icon:"desktop"},{color:"#26DE81",title:"Aplicativo",icon:"mobile"},{color:"#0FB9B1",title:"Sistema Web",icon:"ie"},{color:"#2BCBBA",title:"Sistema Interno",icon:"home"}],Fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).searchByName=function(e){if(""===e.target.value)a.componentDidMount();else{var t=a.state.customers;P.a.get("/api/projects/search/".concat(e.target.value)).then(function(e){var r=e.data;r.sort(function(e,t){return e.status<t.status?-1:e.status<t.status?1:0}),r.forEach(function(e,a){r[a].customer=t[t.map(function(e){return e._id}).indexOf(e.customer[0])]}),a.setState({projects:r})}).catch(function(){})}},a.state={loadingPage:!0,statusProject:[],labelsProject:[],projects:[],customers:[],nav:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/api/customers").then(function(t){var a=t.data;P.a.get("/api/projects").then(function(t){var r=t.data;r.sort(function(e,t){return e.status<t.status?-1:e.status<t.status?1:0}),r.forEach(function(e,t){r[t].customer=a[a.map(function(e){return e._id}).indexOf(e.customer[0])]}),e.setState({customers:a,projects:r,loadingPage:!1})}).catch(function(){})}).catch(function(){})}},{key:"render",value:function(){var e=this;return this.state.nav?n.a.createElement(h.a,{to:this.state.nav}):n.a.createElement(me,{page:"projects"},n.a.createElement(D.a,{spinning:this.state.loadingPage},n.a.createElement($.a,{style:{marginBottom:0}},n.a.createElement(ve,{id:"info",level:2,style:{fontWeight:500}}," ","-1"!==x()?"Projetinhos da Haken :D":"Seus Projetos"," "),n.a.createElement(X.a,{style:{marginTop:0}})),n.a.createElement($.a,{gutter:16,type:"flex",justify:"end"},n.a.createElement(H.a,{span:9},n.a.createElement(Pe,{placeholder:"Pesquise pelo nome ou descri\xe7\xe3o",onChange:function(t){return e.searchByName(t)}})),n.a.createElement(H.a,{span:6},n.a.createElement(L.a,{className:"selectProjectByStatus",style:{width:"100%"},mode:"multiple",placeholder:"Pesquise por Status",filterOption:this.filteredOptions,onChange:function(t){return e.setState({statusProject:t})}},Ce.map(function(e,t){return n.a.createElement(ke,{key:e.title,value:t.toString()},n.a.createElement(be.a,{color:e.color}," ",e.title," "))}))),n.a.createElement(H.a,{span:6},n.a.createElement(L.a,{className:"selectProjectByStatus",style:{width:"100%"},mode:"multiple",placeholder:"Pesquise por R\xf3tulos",filterOption:this.filteredOptions,onChange:function(t){return e.setState({labelsProject:t})}},we.map(function(e,t){return n.a.createElement(ke,{key:e.title,value:t.toString()},n.a.createElement(be.a,{color:e.color}," ",e.title," "))}))),x()<5&&"-1"!==x()?n.a.createElement(p.b,{to:"/newProject"},n.a.createElement(W.a,{type:"primary",icon:"plus"}," Criar Projeto ")):null),n.a.createElement(R.a,{style:{marginBottom:50},grid:{gutter:16,column:4},size:"small",dataSource:this.state.projects,renderItem:function(t){return 0!==e.state.statusProject.length&&!e.state.statusProject.includes(t.status.toString())||0!==e.state.labelsProject.length&&!t.labels.some(function(t){return e.state.labelsProject.includes(t.toString())})?n.a.createElement("span",null):"-1"!==x()||t.customer&&t.customer._id===A()?n.a.createElement(H.a,{style:{paddingTop:30},span:6},n.a.createElement(z.a,{bordered:!0,hoverable:!0},n.a.createElement($.a,{type:"flex"},n.a.createElement(H.a,{span:10,style:{textAlign:"left"}},"-1"!==x()?n.a.createElement(U.a,{overlayStyle:{width:300},title:n.a.createElement(ye,null," ",n.a.createElement(G.a,{type:Ce[t.status].icon})," \xa0 ",Ce[t.status].title," "),content:n.a.createElement(Se,{style:{marginBottom:0}}," ",Ce[t.status].label," ")},n.a.createElement(be.a,{style:{verticalAlign:3,fontWeight:600,cursor:"pointer"},color:Ce[t.status].color}," ",Ce[t.status].title," ")):null),n.a.createElement(H.a,{span:14,style:{textAlign:"right"}},x()<5&&"-1"!==x()?n.a.createElement(U.a,{placement:"top",content:"Editar Projeto"},n.a.createElement(W.a,{size:"small",onClick:function(){return e.setState({nav:"/editProject/".concat(t._id)})},icon:"edit",style:{marginRight:5}})):null,n.a.createElement(U.a,{placement:"top",content:"Ver Detalhes do Projeto"},n.a.createElement(W.a,{size:"small",type:"primary",onClick:function(){return e.setState({nav:"/insideProject/".concat(t._id)})},icon:"eye"})))),n.a.createElement($.a,{type:"flex",justify:"center",style:{textAlign:"center"}},n.a.createElement(ve,{level:3}," ",t.name," ")),n.a.createElement($.a,{type:"flex",justify:"center"},n.a.createElement("img",{alt:"Imagem do Projeto",style:{width:"100%",maxHeight:200,objectFit:"cover"},src:t.image})),n.a.createElement($.a,{style:{marginTop:30}},t.customer?n.a.createElement(Se,{style:{marginBottom:3}},n.a.createElement(ye,{strong:!0}," Cliente: "),n.a.createElement(ye,null," ",t.customer.name," ")):n.a.createElement(Se,{style:{marginBottom:3}}," Este projeto n\xe3o t\xeam cliente ",n.a.createElement("span",{role:"img","aria-label":"Feliz"},"\ud83d\ude1c")," "),n.a.createElement(Se,{style:{marginBottom:3}},n.a.createElement(ye,{strong:!0}," R\xf3tulos: "),t.labels.map(function(e){return n.a.createElement(U.a,{key:we[e].title,placement:"top",content:we[e].title},n.a.createElement(be.a,{color:we[e].color,style:{marginBottom:3,marginRight:2,fontWeight:600}}," ",n.a.createElement(G.a,{type:we[e].icon})," "))}))))):n.a.createElement("span",null)}})))}}]),t}(r.Component),xe=I.a.create()(Fe),Be=(a(632),a(246)),Ae=a(102),je=(a(349),a(153)),Te=z.a.Meta,Me=K.a.Title,De=K.a.Text,Oe=K.a.Paragraph,Le=J.a.TextArea,Ie=[{color:"#3867D6",icon:"deployment-unit",title:"Planejamento",label:"Come\xe7ando o sofrimento denovo."},{color:"#FA8231",icon:"rocket",title:"Inicializando",label:"Fechando contrato e preparando as almas de membros para o abate."},{color:"#45AAF2",icon:"coffee",title:"Em Andamento",label:"Abastecendo os membros com caf\xe9 para manter o progresso."},{color:"#778CA3",icon:"frown",title:"Cancelado",label:"Cliente deu pra tr\xe1s."},{color:"#EB3B5A",icon:"stop",title:"Congelado",label:"Sei l\xe1, deu uma parada por agora."},{color:"#20BF6B",icon:"like",title:"Acabou",label:"Acaboooouuuu!!"}],Re=[{color:"#F7B731",title:"Consultoria",icon:"book"},{color:"#FED330",title:"Site",icon:"desktop"},{color:"#26DE81",title:"Aplicativo",icon:"mobile"},{color:"#0FB9B1",title:"Sistema Web",icon:"ie"},{color:"#2BCBBA",title:"Sistema Interno",icon:"home"}],Ve=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getProjectData=function(e){a.setState({visibleModalRate:!0,rateServices:5,rateGrade:5,rateHelp:5,textPositivePoints:"",textGetBetter:"",project:"",nav:"",name:"",link:"",newMessage:"",members:[],customers:[],loadingPage:!0,loadingProjectCard:!0,loadingMembersCard:!0,visiblePopoverNewLink:!1,buttonLoadingNewLink:!1,buttonLoadingModalRate:!1}),P.a.get("/api/members").then(function(t){var r=t.data;P.a.get("/api/customers").then(function(t){var n=t.data;P.a.get("/api/projects").then(function(t){var o=t.data,s=o[o.map(function(e){return e._id}).indexOf(e)];if(s)if("-1"===x()&&s.customer[0]!==A())a.setState({nav:"/notFound"});else{s.customer=n[n.map(function(e){return e._id}).indexOf(s.customer[0])],s.leader=r[r.map(function(e){return e._id}).indexOf(s.leader[0])],s.chatReverse=s.chat,s.chatReverse.reverse();var i=[];s.members[0]&&s.members[0].forEach(function(e){var t=r[r.map(function(e){return e._id}).indexOf(e)];t&&i.push(t)}),s.members=i;var l=[];s.embedded[0]&&s.embedded[0].forEach(function(e){var t=o[o.map(function(e){return e._id}).indexOf(e)];t&&l.push(t)}),s.embedded=l,a.setState({project:s,members:r,customers:n,loadingPage:!1,loadingProjectCard:!1,loadingMembersCard:!1})}else a.setState({nav:"/notFound"})}).catch(function(){})}).catch(function(){})}).catch(function(){})},a.handleSubmitNewLink=function(){a.setState({buttonLoadingNewLink:!0});var e=a.state,t=e.name,r=e.link,n=e.project,o=n.links,s=n._id;""!==t&&""!==r?(o.push({name:t,link:r}),P.a.put("/api/projects",{id:s,links:o}).then(function(){y.a.success({message:"Tudo Certo!",description:"Link Adicionado!"}),a.setState({visiblePopoverNewLink:!1,buttonLoadingNewLink:!1,name:"",link:""})})):(a.setState({buttonLoadingNewLink:!1}),te.a.error(""===t?"Por favor, insira um nome!":"Por favor, insira um link!"))},a.confirmDeleteLink=function(e){var t=Object(Z.a)(Object(Z.a)(a));q.a.confirm({title:"Deseja realmente apagar este link?",content:"Esta a\xe7\xe3o \xe9 permanente, ainda n\xe3o implmentamos lixeira (e nem vamos)",okType:"danger",onOk:function(){t.handleSubmitDeleteLink(e)},onCancel:function(){}})},a.handleSubmitDeleteLink=function(e){var t=a.state.project,r=t.links.filter(function(t){return t._id!==e._id});P.a.put("/api/projects",{id:t._id,links:r}).then(function(){y.a.success({message:"Tudo Certo!",description:"Link Deletado!"}),a.componentDidMount()})},a.sendMessage=function(e){var t={};t.message=e,t.date=b()(),"-1"===x()?t.customerID=[A()]:t.memberID=[A()];var r=a.state.project,n=r.chat,o=r._id;r.chatReverse;""!==e.trim()?(n.push(t),n.reverse(),P.a.put("/api/projects",{id:o,chat:n}).then(function(){a.setState({newMessage:""})})):te.a.error("Por favor, insira uma mensagem!")},a.rateProject=function(){if(a.state.textPositivePoints&&a.state.textGetBetter){a.setState({buttonLoadingModalRate:!0});var e=a.state,t=e.rateServices,r=e.rateGrade,n=e.rateHelp,o=e.textPositivePoints,s=e.textGetBetter;P.a.put("/api/projects",{id:a.state.project._id,grade:{rateServices:t,rateGrade:r,rateHelp:n,textPositivePoints:o,textGetBetter:s}}).then(function(){y.a.success({message:"Deu certo!",description:"Avalia\xe7\xe3o Enviada! Obrigado pelo feedback."}),a.setState({visibleModalRate:!1,buttonLoadingModalRate:!1})}).catch(function(){a.setState({buttonLoadingModalRate:!1}),y.a.error({message:"Ops!",description:"Houve um problema aqui: N\xe3o conseguimos enviar dados no Servidor."})})}else a.state.textPositivePoints||te.a.error("Digite nossos pontos positivos, eles dados s\xe3o importantes para melhorar nosso servi\xe7o!"),a.state.textGetBetter||te.a.error("Digite o que podemos melhorar, eles dados s\xe3o importantes para melhorar nosso servi\xe7o!")},a.state={visibleModalRate:!0,rateServices:5,rateGrade:5,rateHelp:5,textPositivePoints:"",textGetBetter:"",project:"",nav:"",name:"",link:"",newMessage:"",members:[],customers:[],loadingPage:!0,loadingProjectCard:!0,loadingMembersCard:!0,visiblePopoverNewLink:!1,buttonLoadingNewLink:!1,buttonLoadingModalRate:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getProjectData(this.props.match.params.id)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.getProjectData(e.match.params.id)}},{key:"render",value:function(){var e=this;return this.state.nav?n.a.createElement(h.a,{to:this.state.nav}):n.a.createElement(me,{page:"projects"},n.a.createElement(D.a,{spinning:this.state.loadingPage},n.a.createElement($.a,{style:{marginBottom:60}},n.a.createElement(H.a,{span:14,offset:2},n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:8},n.a.createElement(z.a,{bodyStyle:{padding:16},bordered:!1,style:{textAlign:"center"},loading:this.state.loadingProjectCard},n.a.createElement("img",{alt:"Imagem do Projeto",style:{width:"100%",maxHeight:200,marginBottom:20,objectFit:"cover"},src:this.state.project.image}),this.state.project?this.state.project.labels.map(function(e){return n.a.createElement(U.a,{key:Re[e].title,placement:"top",content:Re[e].title},n.a.createElement(be.a,{color:Re[e].color,style:{marginBottom:3,marginRight:5,fontWeight:600}}," ",n.a.createElement(G.a,{type:Re[e].icon})," "))}):null),n.a.createElement(z.a,{title:n.a.createElement(Me,{level:4,style:{fontWeight:500,marginBottom:0,marginTop:0}}," Projetos Relacionados: "),loading:this.state.loadingProjectCard,size:"small",bordered:!0,hoverable:!0},n.a.createElement(R.a,{size:"small",dataSource:this.state.project.embedded&&"-1"!==x()?this.state.project.embedded.filter(function(e){return null!==e[0]}):this.state.project.embedded?this.state.project.embedded.filter(function(e){return null!==e[0]&&e[0]===A()}):[],locale:{emptyText:"N\xe3o h\xe1 projetos relacionados \ud83d\ude1b"},renderItem:function(t){return n.a.createElement($.a,{style:{paddingLeft:9},onClick:function(){return e.setState({nav:"/insideProject/".concat(t._id)})}},n.a.createElement(Y.a,{size:30,shape:"square",style:{marginBottom:5},src:t.image}),n.a.createElement(De,{style:{marginLeft:9,fontSize:16}}," ",t.name," "))}})),"-1"!==x()?n.a.createElement(z.a,{style:{marginTop:15},title:n.a.createElement(Me,{level:4,style:{fontWeight:500,marginBottom:0}}," Links Relacionados: "),loading:this.state.loadingProjectCard,size:"small",bordered:!0,hoverable:!0,extra:n.a.createElement(U.a,{content:"Adicionar Link"},n.a.createElement(U.a,{title:"Novo Link",trigger:"click",visible:this.state.visiblePopoverNewLink,onVisibleChange:function(t){return e.setState({visiblePopoverNewLink:t})},content:n.a.createElement($.a,{style:{display:"grid"}},n.a.createElement(J.a,{style:{width:300,marginBottom:5},size:"small",placeholder:"T\xedtulo",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}}),n.a.createElement(J.a,{addonBefore:"www.",style:{width:300},size:"small",placeholder:"Link",value:this.state.link,onChange:function(t){return e.setState({link:t.target.value})}}),n.a.createElement(W.a,{loading:this.state.buttonLoadingNewLink,size:"small",type:"primary",style:{marginTop:10,width:"100%"},onClick:function(){return e.handleSubmitNewLink()}}," Inserir "))},n.a.createElement(W.a,{size:"small",type:"primary",icon:"plus",style:{height:25}})))},n.a.createElement(R.a,{size:"small",dataSource:this.state.project.links,locale:{emptyText:"N\xe3o h\xe1 links \ud83d\ude1b"},renderItem:function(t){return n.a.createElement(Oe,{style:{marginLeft:10,marginRight:18,marginTop:5,marginBottom:0}},n.a.createElement(De,{strong:!0,onClick:function(){return window.open("https://www.".concat(t.link),"_blank")}}," ",t.name," "),n.a.createElement(De,{type:"secondary",onClick:function(){return window.open("https://www.".concat(t.link),"_blank")}}," (",t.link,") "),n.a.createElement(De,{style:{position:"absolute",right:4}},n.a.createElement(U.a,{content:"Deletar Link"}," ",n.a.createElement(G.a,{onClick:function(){return e.confirmDeleteLink(t)},style:{color:"#EB3B5A"},type:"delete"})," ")))}})):null,x()<5&&"-1"!==x()?n.a.createElement(W.a,{style:{marginTop:20,width:"100%"},onClick:function(){return e.setState({nav:"/files/".concat(e.state.project.files[0]||"")})}},n.a.createElement(G.a,{type:"folder"})," Acessar Arquivos"):null),n.a.createElement(H.a,{span:15,offset:1},n.a.createElement($.a,null,n.a.createElement(H.a,{span:16},n.a.createElement(je.a,{loading:this.state.loadingProjectCard,active:!0,avatar:!0},n.a.createElement(Me,{level:2,style:{fontWeight:500,marginBottom:4}},this.state.project.name,"-1"!==x()&&this.state.project?n.a.createElement(U.a,{placement:"bottomRight",overlayStyle:{width:300},title:n.a.createElement(De,null," ",n.a.createElement(G.a,{type:Ie[this.state.project.status].icon})," \xa0 ",Ie[this.state.project.status].title," "),content:n.a.createElement(Oe,{style:{marginBottom:0}}," ",Ie[this.state.project.status].label," ")},n.a.createElement(be.a,{style:{verticalAlign:3,marginLeft:10,fontWeight:600,cursor:"pointer"},color:Ie[this.state.project.status].color}," ",Ie[this.state.project.status].title," ")):null))),n.a.createElement(H.a,{style:{textAlign:"right"},span:8},x()<5&&"-1"!==x()?n.a.createElement(W.a,{onClick:function(){return e.setState({nav:"/editProject/".concat(e.state.project._id)})}},n.a.createElement(G.a,{type:"edit"})," Editar Projeto"):null)),n.a.createElement(X.a,{style:{marginTop:0}}),n.a.createElement(je.a,{loading:this.state.loadingProjectCard,active:!0,avatar:!0},n.a.createElement(Oe,{type:"secondary",style:{textAlign:"center"}}," ",this.state.project.description," "),this.state.project.customer?n.a.createElement(Oe,{style:{marginLeft:20,marginBottom:3}},n.a.createElement(De,{strong:!0}," Cliente: "),n.a.createElement(De,null," ",this.state.project.customer.name," ")):null,n.a.createElement(Oe,{style:{marginLeft:20,marginBottom:3}},n.a.createElement(De,{strong:!0}," Pre\xe7o: "),n.a.createElement(De,null," R$ ",this.state.project.cost?this.state.project.cost.toString().replace(/[^\d]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"."):this.state.project.cost,",00 "))),n.a.createElement(z.a,{title:n.a.createElement(Me,{id:"info",level:4,style:{fontWeight:500,marginBottom:0,marginTop:0}}," Membros: "),loading:this.state.loadingMembersCard,bordered:!1,style:{marginTop:50}},n.a.createElement(R.a,{size:"small",locale:{emptyText:"N\xe3o h\xe1 membros ainda \ud83d\ude1b"},dataSource:this.state.project.members&&this.state.project.leader?Object(Ae.a)(new Set([this.state.project.leader].concat(this.state.project.members))):[],renderItem:function(t){return"-1"!==x()?n.a.createElement(H.a,{key:t._id,span:12,style:{paddingLeft:20}},n.a.createElement(p.b,{to:"/profile/".concat(t.username)},n.a.createElement(Y.a,{size:30,style:{marginBottom:5},src:t.image}),t===e.state.project.leader?n.a.createElement(U.a,{placement:"top",content:"Lider do Projeto"},n.a.createElement(Y.a,{icon:"crown",style:{cursor:"pointer",position:"absolute",bottom:0,left:40,backgroundColor:"#F7B731"},size:20})):null,n.a.createElement(De,{style:{marginLeft:11},ellipsis:!0},t.username))):n.a.createElement(H.a,{key:t._id,span:12,style:{paddingLeft:20}},n.a.createElement(Y.a,{size:30,style:{marginBottom:5},src:t.image}),t===e.state.project.leader?n.a.createElement(U.a,{placement:"top",content:"Lider do Projeto"},n.a.createElement(Y.a,{icon:"crown",style:{cursor:"pointer",position:"absolute",bottom:0,left:40,backgroundColor:"#F7B731"},size:20})):null,n.a.createElement(De,{style:{marginLeft:11},ellipsis:!0},t.username))}}))))),n.a.createElement(H.a,{span:5,offset:1},n.a.createElement(Me,{level:4,style:{fontWeight:500,marginBottom:0,marginTop:0}}," Mural: "),n.a.createElement(J.a.Search,{style:{marginTop:10,marginBottom:10},value:this.state.newMessage,onChange:function(t){return e.setState({newMessage:t.target.value})},placeholder:"Envie uma mensagem",enterButton:n.a.createElement(G.a,{type:"mail"}),onSearch:function(t){return e.sendMessage(t)}}),n.a.createElement(R.a,{style:{maxHeight:700,overflowY:"scroll"},size:"small",dataSource:this.state.project.chatReverse,locale:{emptyText:"N\xe3o h\xe1 mensagens no chat \ud83d\ude1b"},renderItem:function(t){return n.a.createElement($.a,{className:"chat-message-col",type:"flex",justify:"space-around",align:"middle"},n.a.createElement(z.a,{bordered:!1,hoverable:!0,size:"small",style:{width:"calc(100% - 7px)",borderColor:"rgba(0, 0, 0, 0.09)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.09)"}},n.a.createElement(Te,{avatar:n.a.createElement(H.a,null,t.memberID&&t.memberID.length>0?n.a.createElement(Y.a,{size:30,style:{marginBottom:5},src:e.state.members[e.state.members.map(function(e){return e._id}).indexOf(t.memberID[0])].image}):n.a.createElement(Y.a,{size:30,style:{marginBottom:5},src:e.state.customers[e.state.customers.map(function(e){return e._id}).indexOf(t.customerID[0])].image})),title:t.memberID&&t.memberID.length>0?n.a.createElement(De,{style:{fontSize:16}},e.state.members[e.state.members.map(function(e){return e._id}).indexOf(t.memberID[0])].name):n.a.createElement(De,{style:{fontSize:16}},e.state.customers[e.state.customers.map(function(e){return e._id}).indexOf(t.customerID[0])].name),description:n.a.createElement($.a,{style:{marginTop:-12}}," ",n.a.createElement(De,{style:{fontSize:10}},b()(t.date).fromNow())," ")}),n.a.createElement(H.a,{style:{marginTop:15}},n.a.createElement($.a,{type:"flex",justify:"start"},n.a.createElement(Oe,{ellipsis:{rows:2},style:{fontSize:12,marginBottom:0}},t.message)))))}})))),this.state.project&&!this.state.project.grade&&5===this.state.project.status&&"-1"===x()&&this.state.project.customer&&this.state.project.customer._id===A()?n.a.createElement(q.a,{okButtonProps:{loading:this.state.buttonLoadingModalRate},visible:this.state.visibleModalRate,closable:!1,cancelText:"Voltar",onCancel:function(){return e.setState({nav:"/projects"})},okText:"Avaliar",onOk:this.rateProject},n.a.createElement(Oe,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," Avalie o Projeto "),n.a.createElement(X.a,{style:{minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},n.a.createElement(G.a,{type:"like"})),n.a.createElement($.a,{style:{padding:20,paddingBottom:0},gutter:16},n.a.createElement(Oe,null,n.a.createElement(De,null," O quanto voc\xea indica nossos servi\xe7os? "),n.a.createElement(Be.a,{marks:{0:n.a.createElement(G.a,{style:{color:this.state.rateServices<=5?"#383A3F":"#778CA3"},type:"frown-o"}),10:n.a.createElement(G.a,{style:{color:this.state.rateServices>5?"#383A3F":"#778CA3"},type:"smile-o"})},value:this.state.rateServices,onChange:function(t){return e.setState({rateServices:t})},max:10,min:0})),n.a.createElement(Oe,{style:{marginTop:20}},n.a.createElement(De,null," Qual nota voc\xea d\xe1 aos nossos servi\xe7os? "),n.a.createElement(Be.a,{marks:{0:n.a.createElement(G.a,{style:{color:this.state.rateGrade<=5?"#383A3F":"#778CA3"},type:"frown-o"}),10:n.a.createElement(G.a,{style:{color:this.state.rateGrade>5?"#383A3F":"#778CA3"},type:"smile-o"})},value:this.state.rateGrade,onChange:function(t){return e.setState({rateGrade:t})},max:10,min:0})),n.a.createElement(Oe,{style:{marginTop:20}},n.a.createElement(De,null," O quanto nosso servi\xe7o ajudou voc\xea com o seu problema? "),n.a.createElement(Be.a,{marks:{0:n.a.createElement(G.a,{style:{color:this.state.rateHelp<=5?"#383A3F":"#778CA3"},type:"frown-o"}),10:n.a.createElement(G.a,{style:{color:this.state.rateHelp>5?"#383A3F":"#778CA3"},type:"smile-o"})},value:this.state.rateHelp,onChange:function(t){return e.setState({rateHelp:t})},max:10,min:0})),n.a.createElement(Oe,{style:{marginTop:20}},n.a.createElement(De,null," O que voc\xea gostaria de destacar como pontos positivos? "),n.a.createElement(Le,{rows:4,value:this.state.textPositivePoints,onChange:function(t){return e.setState({textPositivePoints:t.target.value})}})),n.a.createElement(Oe,{style:{marginTop:20}},n.a.createElement(De,null," Em quais pontos voc\xea julga que precisamos melhorar? "),n.a.createElement(Le,{rows:4,value:this.state.textGetBetter,onChange:function(t){return e.setState({textGetBetter:t.target.value})}})))):null)}}]),t}(r.Component),_e=(a(136),a(80)),qe=a(50),Ne=a.n(qe),ze=a(107),Ye=K.a.Title,Ge=L.a.Option,Ue=[{color:"#FED330",icon:"star",title:"Presidente",label:"Rei da Cocada Preta"},{color:"#26DE81",icon:"star",title:"Vice-Presidente/Diretor de RH",label:"Manda s\xf3 quando o presidente n\xe3o est\xe1."},{color:"#45AAF2",icon:"crown",title:"Diretor de Projetos",label:"The Best"},{color:"#0FB9B1",icon:"star",title:"Diretor Administrativo-Financeiro",label:"Contando Centavos..."},{color:"#A55EEA",icon:"star",title:"Diretor de Marketing",label:"Criando umas Artes"},{color:"#FD9644",icon:"thunderbolt",title:"Membro",label:"Abastecendo-se de Caf\xe9"},{color:"#FC5C65",icon:"fire",title:"Trainee",label:"Sofrendo"},{color:"#4B6584",icon:"bulb",title:"Anci\xe3o",label:"Os Baqueados"}],We=[{color:"#3867D6",icon:"deployment-unit",title:"Planejamento",label:"Come\xe7ando o sofrimento denovo."},{color:"#FA8231",icon:"rocket",title:"Inicializando",label:"Fechando contrato e preparando as almas de membros para o abate."},{color:"#45AAF2",icon:"coffee",title:"Em Andamento",label:"Abastecendo os membros com caf\xe9 para manter o progresso."},{color:"#778CA3",icon:"frown",title:"Cancelado",label:"Cliente deu pra tr\xe1s."},{color:"#EB3B5A",icon:"stop",title:"Congelado",label:"Sei l\xe1, deu uma parada por agora."},{color:"#20BF6B",icon:"like",title:"Acabou",label:"Acaboooouuuu!!"}],He=[{color:"#F7B731",title:"Consultoria",icon:"book"},{color:"#FED330",title:"Site",icon:"desktop"},{color:"#26DE81",title:"Aplicativo",icon:"mobile"},{color:"#0FB9B1",title:"Sistema Web",icon:"ie"},{color:"#2BCBBA",title:"Sistema Interno",icon:"home"}],$e=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).nameValidation=function(e,t,r){var n=a.state.projects;n[n.map(function(e){return e.name}).indexOf(t)]&&a.state.project.name!==t?r("Nome j\xe1 Cadastrado!"):r(),void 0===a.props.form.isFieldValidating("RA")&&a.props.form.validateFields(["RA"])},a.filteredOptions=function(e,t){return!(t.props.label||!t.key.toLowerCase().includes(e.toLowerCase()))},a.beforeUploadPhoto=function(e){if("image/jpeg"===e.type||"image/png"===e.type){var t=[e];return a.setState({newProjectPhoto:t}),!0}return te.a.error("Extens\xe3o Inv\xe1lida! Permitido apenas imagens"),a.setState({newProjectPhoto:[]}),!1},a.changeProjectPhoto=function(){a.setState({projectPhotoButtonLoading:!0});var e=new FormData;e.append("api_key","784737987534174"),e.append("timestamp",Date.now()/1e3),e.append("upload_preset","hatsxc2p"),e.append("file",a.state.newProjectPhoto[0]),P.a.post("https://api.cloudinary.com/v1_1/haken/image/upload",e,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){a.setState({projectPhoto:e.data.secure_url,projectPhotoButtonLoading:!1})}).catch(function(){a.setState({newProjectPhoto:[],projectPhotoButtonLoading:!1})})},a.handleSubmit=function(){var e=Object(ze.a)(Ne.a.mark(function e(t){return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.setState({buttonLoading:!0}),a.props.form.validateFields(["name","leader","customer","status","labels","cost","embedded","members","description"],function(e,t){if(e)a.setState({buttonLoading:!1});else{var r=t.name,n=t.leader,o=t.customer,s=t.status,i=t.labels,l=t.cost,c=t.embedded,m=t.members,u=t.description,d=a.state,p=d.projectPhoto,h=d.project,g=p,f=a.state.project._id;P.a.put("/api/files",{id:h.files[0],name:r}).then(function(e){P.a.put("/api/projects",{id:f,name:r,members:m||[],leader:n||"",labels:i,description:u,image:g,customer:o||"",status:s,files:e.data._id,embedded:c||[],cost:l?l.replace(/[^\d]/g,""):"0"}).then(function(){y.a.success({message:"Uhullll!",description:"Informa\xe7\xf5es Editadas!"}),a.setState({buttonLoading:!1,nav:"/projects"})}).catch(function(){a.setState({buttonLoading:!1}),y.a.error({message:"Erroouuuuu!",description:"Houve um problema aqui: N\xe3o conseguimos enviar dados no Servidor."})})}).catch(function(){a.setState({buttonLoading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos editar este arquivo/diret\xf3rio."})})}});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={members:[],customers:[],projects:[],project:"",newProjectPhoto:[],projectPhoto:"",loadingPage:!0,buttonLoading:!1,projectPhotoButtonLoading:!1,nav:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/api/members").then(function(t){var a=t.data;a.sort(function(e,t){return e.status<t.status?-1:e.status<t.status?1:0}),P.a.get("/api/customers").then(function(t){var r=t.data;r.sort(function(e,t){return e.status<t.status?-1:e.status<t.status?1:0}),P.a.get("/api/projects").then(function(t){var n=t.data,o=n[n.map(function(e){return e._id}).indexOf(e.props.match.params.id)];o?(e.props.form.setFieldsValue({name:o.name,leader:o.leader[0]||void 0,customer:o.customer[0]||void 0,status:o.status.toString(),labels:o.labels.map(function(e){return e.toString()}),members:o.members[0].length>-1?o.members[0].map(function(e){return e.toString()}):[],embedded:o.embedded[0],description:o.description,cost:o.cost.toString()}),n.sort(function(e,t){return e.status<t.status?-1:e.status<t.status?1:0}),e.setState({project:o,projectPhoto:o.image,projects:n,members:a,customers:r,loadingPage:!1})):e.setState({nav:"/notFound"})}).catch(function(){})}).catch(function(){})}).catch(function(){})}},{key:"render",value:function(){var e=this;if(this.state.nav)return n.a.createElement(h.a,{to:this.state.nav});if(["-1","5","6","7"].includes(x()))return n.a.createElement(h.a,{to:"/notAuthorizate"});var t=this.props.form,a=t.getFieldDecorator,r=t.getFieldError,o=t.getFieldValue,s=t.resetFields;return n.a.createElement(me,{page:"projects"},n.a.createElement(D.a,{spinning:this.state.loadingPage},n.a.createElement($.a,{style:{marginBottom:60}},n.a.createElement(H.a,{span:16,offset:4},n.a.createElement(Ye,{id:"info",level:2,style:{fontWeight:500,marginBottom:4}}," Editar Projeto "),n.a.createElement(X.a,{style:{marginTop:0}}),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:8},n.a.createElement(Y.a,{shape:"square",size:200,src:this.state.projectPhoto}),n.a.createElement(_e.a,{beforeUpload:this.beforeUploadPhoto,customRequest:this.changeProjectPhoto,fileList:this.state.newProjectPhoto,showUploadList:!1,accept:"image/*"},n.a.createElement(W.a,{loading:this.state.projectPhotoButtonLoading,icon:"edit",type:"primary",style:{backgroundColor:"#383A3F",borderColor:"#383A3F",position:"absolute",bottom:5,left:12}}," Alterar Imagem "))),n.a.createElement(H.a,{span:14},n.a.createElement(I.a,{onSubmit:this.handleSubmit},n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Nome",hasFeedback:!0,validateStatus:r("name")?"error":o("name")&&o("name")!==this.state.project.name?"success":""},a("name",{rules:[{required:!0,message:"Por favor, insira um nome!"},{validator:this.nameValidation}]})(n.a.createElement(J.a,{style:{width:"100%"},placeholder:"Nome"})))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"L\xedder",hasFeedback:!0,validateStatus:r("leader")?"error":o("leader")&&this.state.project.leader&&o("leader")!==this.state.project.leader[0]?"success":""},a("leader")(n.a.createElement(L.a,{allowClear:!0,onChange:function(){return s(["members"])},placeholder:"L\xedder",showSearch:!0,filterOption:this.filteredOptions},n.a.createElement(L.a.OptGroup,{key:"Diretoria",label:"Diretoria"},this.state.members.map(function(e){return e.status<5?n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.username),value:e._id},e.name," (",e.username,")"):null})),Ue.map(function(t,a){return a>4?n.a.createElement(L.a.OptGroup,{key:t.title,label:t.title},e.state.members.map(function(e){return a===e.status?n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.username),value:e._id},e.name," (",e.username,")"):null})):null})))))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Cliente",hasFeedback:!0,validateStatus:r("customer")?"error":o("customer")&&this.state.project.customer&&o("customer")!==this.state.project.customer[0]?"success":""},a("customer")(n.a.createElement(L.a,{disabled:!o("labels")||0===o("labels").length||o("labels")&&o("labels").includes("4"),placeholder:"Cliente do Projeto",showSearch:!0,filterOption:this.filteredOptions},this.state.customers?this.state.customers.map(function(e){return n.a.createElement(Ge,{key:e.name,value:e._id}," ",e.name," ")}):null)))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Status",hasFeedback:!0,validateStatus:r("status")?"error":o("status")&&void 0!==this.state.project.status&&o("status")!==this.state.project.status.toString()?"success":""},a("status",{rules:[{required:!0,message:"Por favor, insira um status!"}]})(n.a.createElement(L.a,{placeholder:"Status",showSearch:!0,filterOption:this.filteredOptions},We.map(function(e,t){return n.a.createElement(Ge,{key:e.title,value:t.toString()}," ",e.title," ")})))))),n.a.createElement(I.a.Item,{label:"Labels",hasFeedback:!0,validateStatus:r("labels")?"error":o("labels")&&this.state.project.labels&&o("labels").toString()!==this.state.project.labels.toString()?"success":""},a("labels",{rules:[{required:!0,message:"Por favor, adicione labels!"}]})(n.a.createElement(L.a,{mode:"multiple",filterOption:this.filteredOptions,onChange:function(e){return e.includes("4")?s(["customer"]):null},placeholder:"Labels"},He.map(function(e,t){return n.a.createElement(Ge,{key:e.title,value:t.toString()}," ",e.title," ")})))),n.a.createElement(I.a.Item,{label:"Custo",hasFeedback:!0,validateStatus:r("cost")?"error":o("cost")&&void 0!==this.state.project.cost&&o("cost").replace(/[^\d]/g,"")!==this.state.project.cost.toString()?"success":""},a("cost",{normalize:function(e){return e?e.toString().replace(/[^\d]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"."):null}})(n.a.createElement(J.a,{addonBefore:"R$",style:{maxWidth:250},addonAfter:",00",placeholder:"Custo",type:"text"}))),n.a.createElement(I.a.Item,{label:"Projetos Relacionados",hasFeedback:!0,validateStatus:r("embedded")?"error":o("embedded")&&this.state.project.embedded&&this.state.project.embedded[0]&&o("embedded").toString()!==this.state.project.embedded[0].toString()?"success":""},a("embedded")(n.a.createElement(L.a,{mode:"multiple",filterOption:this.filteredOptions,placeholder:"Projetos Relacionados"},this.state.projects?this.state.projects.map(function(t){return t._id!==e.state.project._id?n.a.createElement(Ge,{key:t.name,value:t._id}," ",t.name," "):null}):null))),n.a.createElement(I.a.Item,{label:"Membros",hasFeedback:!0,validateStatus:r("members")?"error":o("members")&&this.state.project.members&&o("members").toString()!==this.state.project.members[0].toString()?"success":""},a("members")(n.a.createElement(L.a,{disabled:!o("leader")||0===o("leader").length,mode:"multiple",placeholder:"Membros do Projeto",filterOption:this.filteredOptions},n.a.createElement(L.a.OptGroup,{key:"Diretoria",label:"Diretoria"},this.state.members.map(function(e){return e.status<5&&e._id.toString()!==o("leader")?n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.username),value:e._id},e.name," (",e.username,")"):null})),Ue.map(function(t,a){return a>4?n.a.createElement(L.a.OptGroup,{key:t.title,label:t.title},e.state.members.map(function(e){return a===e.status&&e._id.toString()!==o("leader")?n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.username),value:e._id},e.name," (",e.username,")"):null})):null})))),n.a.createElement(I.a.Item,{label:"Descri\xe7\xe3o",hasFeedback:!0,validateStatus:r("description")?"error":o("description")&&this.state.project.description&&o("description")!==this.state.project.description?"success":""},a("description",{rules:[{required:!0,message:"Por favor, insira uma descri\xe7\xe3o!"}]})(n.a.createElement(J.a.TextArea,{placeholder:"Descri\xe7\xe3o do Projeto",autosize:{minRows:5,maxRows:5}}))),n.a.createElement($.a,{style:{textAlign:"right"}},n.a.createElement(W.a,{type:"primary",htmlType:"submit",loading:this.state.buttonLoading}," Editar Projeto ")))))))))}}]),t}(r.Component),Xe=I.a.create()($e),Je=K.a.Title,Ke=L.a.Option,Qe=[{color:"#FED330",icon:"star",title:"Presidente",label:"Rei da Cocada Preta"},{color:"#26DE81",icon:"star",title:"Vice-Presidente/Diretor de RH",label:"Manda s\xf3 quando o presidente n\xe3o est\xe1."},{color:"#45AAF2",icon:"crown",title:"Diretor de Projetos",label:"The Best"},{color:"#0FB9B1",icon:"star",title:"Diretor Administrativo-Financeiro",label:"Contando Centavos..."},{color:"#A55EEA",icon:"star",title:"Diretor de Marketing",label:"Criando umas Artes"},{color:"#FD9644",icon:"thunderbolt",title:"Membro",label:"Abastecendo-se de Caf\xe9"},{color:"#FC5C65",icon:"fire",title:"Trainee",label:"Sofrendo"},{color:"#4B6584",icon:"bulb",title:"Anci\xe3o",label:"Os Baqueados"}],Ze=[{color:"#3867D6",icon:"deployment-unit",title:"Planejamento",label:"Come\xe7ando o sofrimento denovo."},{color:"#FA8231",icon:"rocket",title:"Inicializando",label:"Fechando contrato e preparando as almas de membros para o abate."},{color:"#45AAF2",icon:"coffee",title:"Em Andamento",label:"Abastecendo os membros com caf\xe9 para manter o progresso."},{color:"#778CA3",icon:"frown",title:"Cancelado",label:"Cliente deu pra tr\xe1s."},{color:"#EB3B5A",icon:"stop",title:"Congelado",label:"Sei l\xe1, deu uma parada por agora."},{color:"#20BF6B",icon:"like",title:"Acabou",label:"Acaboooouuuu!!"}],et=[{color:"#F7B731",title:"Consultoria",icon:"book"},{color:"#FED330",title:"Site",icon:"desktop"},{color:"#26DE81",title:"Aplicativo",icon:"mobile"},{color:"#0FB9B1",title:"Sistema Web",icon:"ie"},{color:"#2BCBBA",title:"Sistema Interno",icon:"home"}],tt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).beforeUploadPhoto=function(e){if("image/jpeg"===e.type||"image/png"===e.type){var t=[e];return a.setState({newProjectPhoto:t}),!0}return te.a.error("Extens\xe3o Inv\xe1lida! Permitido apenas imagens"),a.setState({newProjectPhoto:[]}),!1},a.nameValidation=function(e,t,r){var n=a.state.projects;n[n.map(function(e){return e.name}).indexOf(t)]?r("Nome j\xe1 Cadastrado!"):r(),void 0===a.props.form.isFieldValidating("RA")&&a.props.form.validateFields(["RA"])},a.changeProjectPhoto=function(){a.setState({projectPhotoButtonLoading:!0});var e=new FormData;e.append("api_key","784737987534174"),e.append("timestamp",Date.now()/1e3),e.append("upload_preset","hatsxc2p"),e.append("file",a.state.newProjectPhoto[0]),P.a.post("https://api.cloudinary.com/v1_1/haken/image/upload",e,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){a.setState({projectPhoto:e.data.secure_url,projectPhotoButtonLoading:!1})}).catch(function(){a.setState({newProjectPhoto:[],projectPhotoButtonLoading:!1})})},a.filteredOptions=function(e,t){return!(t.props.label||!t.key.toLowerCase().includes(e.toLowerCase()))},a.handleSubmit=function(){var e=Object(ze.a)(Ne.a.mark(function e(t){return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.setState({buttonLoading:!0}),a.props.form.validateFields(["name","leader","customer","status","labels","cost","embedded","members","description"],function(e,t){if(e)a.setState({buttonLoading:!1});else{var r=t.name,n=t.leader,o=t.customer,s=t.status,i=t.labels,l=t.cost,c=t.embedded,m=t.members,u=t.description,d=a.state.projectPhoto||"https://api.adorable.io/avatars/285/".concat(r,".png");P.a.post("/api/files",{name:r,father:"5ceed7dc6ff597001754d28b",type:1}).then(function(e){P.a.post("/api/projects",{name:r,members:m||[],leader:n,labels:i,description:u,image:d,customer:o,status:s,files:e.data._id,embedded:c||[],cost:l?l.replace(/[^\d]/g,""):"0"}).then(function(){y.a.success({message:"Uhullll!",description:"Informa\xe7\xf5es Cadastradas!"}),a.setState({buttonLoading:!1,nav:"/projects"})}).catch(function(){a.setState({buttonLoading:!1}),y.a.error({message:"Erroouuuuu!",description:"Houve um problema aqui: N\xe3o conseguimos enviar dados no Servidor."})})}).catch(function(){a.setState({buttonLoading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos criar este arquivo/diret\xf3rio."})})}});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={members:[],customers:[],projects:[],newProjectPhoto:[],projectPhoto:"",projectPhotoButtonLoading:!1,loadingPage:!0,buttonLoading:!1,nav:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/api/members").then(function(t){var a=t.data;a.sort(function(e,t){return e.status<t.status?-1:e.status<t.status?1:0}),P.a.get("/api/customers").then(function(t){var r=t.data;r.sort(function(e,t){return e.status<t.status?-1:e.status<t.status?1:0}),P.a.get("/api/projects").then(function(t){var n=t.data;n.sort(function(e,t){return e.status<t.status?-1:e.status<t.status?1:0}),e.setState({projects:n,members:a,customers:r,loadingPage:!1})}).catch(function(){})}).catch(function(){})}).catch(function(){})}},{key:"render",value:function(){var e=this;if(this.state.nav)return n.a.createElement(h.a,{to:this.state.nav});if(["-1","5","6","7"].includes(x()))return n.a.createElement(h.a,{to:"/notAuthorizate"});var t=this.props.form,a=t.getFieldDecorator,r=t.getFieldError,o=t.getFieldValue,s=t.resetFields;return n.a.createElement(me,{page:"projects"},n.a.createElement(D.a,{spinning:this.state.loadingPage},n.a.createElement($.a,{style:{marginBottom:60}},n.a.createElement(H.a,{span:16,offset:4},n.a.createElement(Je,{id:"info",level:2,style:{fontWeight:500,marginBottom:4}}," Novo Projeto "),n.a.createElement(X.a,{style:{marginTop:0}}),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:8},n.a.createElement(Y.a,{shape:"square",size:200,src:this.state.projectPhoto?this.state.projectPhoto:"https://api.adorable.io/avatars/285/".concat(o("name"),".png")}),n.a.createElement(_e.a,{beforeUpload:this.beforeUploadPhoto,customRequest:this.changeProjectPhoto,fileList:this.state.newProjectPhoto,showUploadList:!1,accept:"image/*"},n.a.createElement(W.a,{loading:this.state.projectPhotoButtonLoading,icon:"edit",type:"primary",style:{backgroundColor:"#383A3F",borderColor:"#383A3F",position:"absolute",bottom:5,left:12}}," Inserir Imagem "))),n.a.createElement(H.a,{span:14},n.a.createElement(I.a,{onSubmit:this.handleSubmit},n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Nome",hasFeedback:!0,validateStatus:r("name")?"error":o("name")?"success":""},a("name",{rules:[{required:!0,message:"Por favor, insira um nome!"},{validator:this.nameValidation}]})(n.a.createElement(J.a,{style:{width:"100%"},placeholder:"Nome"})))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"L\xedder",hasFeedback:!0,validateStatus:r("leader")?"error":o("leader")?"success":""},a("leader")(n.a.createElement(L.a,{allowClear:!0,onChange:function(){return s(["members"])},placeholder:"L\xedder",showSearch:!0,filterOption:this.filteredOptions},n.a.createElement(L.a.OptGroup,{key:"Diretoria",label:"Diretoria"},this.state.members.map(function(e){return e.status<5?n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.username),value:e._id},e.name," (",e.username,")"):null})),Qe.map(function(t,a){return a>4?n.a.createElement(L.a.OptGroup,{key:t.title,label:t.title},e.state.members.map(function(e){return a===e.status?n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.username),value:e._id},e.name," (",e.username,")"):null})):null})))))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Cliente",hasFeedback:!0,validateStatus:r("customer")?"error":o("customer")?"success":""},a("customer")(n.a.createElement(L.a,{disabled:!o("labels")||0===o("labels").length||o("labels")&&o("labels").includes("4"),placeholder:"Cliente do Projeto",showSearch:!0,filterOption:this.filteredOptions},this.state.customers?this.state.customers.map(function(e){return n.a.createElement(Ke,{key:e.name,value:e._id}," ",e.name," ")}):null)))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Status",hasFeedback:!0,validateStatus:r("status")?"error":o("status")?"success":""},a("status",{rules:[{required:!0,message:"Por favor, insira um status!"}]})(n.a.createElement(L.a,{placeholder:"Status",showSearch:!0,filterOption:this.filteredOptions},Ze.map(function(e,t){return t<3?n.a.createElement(Ke,{key:e.title,value:t.toString()}," ",e.title," "):null})))))),n.a.createElement(I.a.Item,{label:"Labels",hasFeedback:!0,validateStatus:r("labels")?"error":o("labels")?"success":""},a("labels",{rules:[{required:!0,message:"Por favor, adicione labels!"}]})(n.a.createElement(L.a,{mode:"multiple",filterOption:this.filteredOptions,onChange:function(e){return e.includes("4")?s(["customer"]):null},placeholder:"Labels"},et.map(function(e,t){return n.a.createElement(Ke,{key:e.title,value:t.toString()}," ",e.title," ")})))),n.a.createElement(I.a.Item,{label:"Custo"},a("cost",{normalize:function(e){return e?e.toString().replace(/[^\d]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"."):null}})(n.a.createElement(J.a,{addonBefore:"R$",style:{maxWidth:250},addonAfter:",00",placeholder:"Custo",type:"text"}))),n.a.createElement(I.a.Item,{label:"Projetos Relacionados",hasFeedback:!0,validateStatus:r("embedded")?"error":o("embedded")?"success":""},a("embedded")(n.a.createElement(L.a,{mode:"multiple",filterOption:this.filteredOptions,placeholder:"Projetos Relacionados"},this.state.projects?this.state.projects.map(function(e){return n.a.createElement(Ke,{key:e.name,value:e._id}," ",e.name," ")}):null))),n.a.createElement(I.a.Item,{label:"Membros",hasFeedback:!0,validateStatus:r("members")?"error":o("members")?"success":""},a("members")(n.a.createElement(L.a,{disabled:!o("leader")||0===o("leader").length,mode:"multiple",placeholder:"Membros do Projeto",filterOption:this.filteredOptions},n.a.createElement(L.a.OptGroup,{key:"Diretoria",label:"Diretoria"},this.state.members.map(function(e){return e.status<5&&e._id.toString()!==o("leader")?n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.username),value:e._id},e.name," (",e.username,")"):null})),Qe.map(function(t,a){return a>4?n.a.createElement(L.a.OptGroup,{key:t.title,label:t.title},e.state.members.map(function(e){return a===e.status&&e._id.toString()!==o("leader")?n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.username),value:e._id},e.name," (",e.username,")"):null})):null})))),n.a.createElement(I.a.Item,{label:"Descri\xe7\xe3o",hasFeedback:!0,validateStatus:r("description")?"error":o("description")?"success":""},a("description",{rules:[{required:!0,message:"Por favor, insira uma descri\xe7\xe3o!"}]})(n.a.createElement(J.a.TextArea,{placeholder:"Descri\xe7\xe3o do Projeto",autosize:{minRows:5,maxRows:5}}))),n.a.createElement($.a,{style:{textAlign:"right"}},n.a.createElement(W.a,{type:"primary",htmlType:"submit",loading:this.state.buttonLoading}," Cadastrar Projeto ")))))))))}}]),t}(r.Component),at=I.a.create()(tt),rt=(a(681),a(199)),nt=(a(683),a(311)),ot=(a(685),a(310)),st=(a(689),ot.a.Column),it=nt.a.DirectoryTree,lt=nt.a.TreeNode,ct=K.a.Paragraph,mt=0,ut=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getFileDataForPage=function(e){a.setState({path:[],children:[],files:[],currentFile:"",editNameText:"",enableEditRow:"",enableMovePopover:"",fileMovePopover:"",filesToUpload:"",filesUploaded:[],buttonEditNameLoading:!1,buttonMoveFileLoading:!1,buttonCreateDirectoryLoading:!1,visibleModalCreateDirectory:!1,loadingPage:!0,nav:""}),P.a.get("/api/files").then(function(t){for(var r=t.data,n=r[r.map(function(e){return e._id}).indexOf(e)]||r[r.map(function(e){return e.father.length}).indexOf(0)],o=[],s=[],i=[],l=n._id;0!==r[r.map(function(e){return e._id}).indexOf(l)].father.length;){o.unshift(r[r.map(function(e){return e._id}).indexOf(l)]),l=r[r.map(function(e){return e._id}).indexOf(l)].father[0]}n.children.forEach(function(e){var t=r[r.map(function(e){return e._id}).indexOf(e[0])];t&&(1===t.type?s.push({_id:t._id,name:t.name,father:t.father[0],file:t.file,type:t.type,updatedAt:t.updatedAt}):i.push({_id:t._id,name:t.name,father:t.father[0],file:t.file,type:t.type,updatedAt:t.updatedAt}))}),s=s.sort(function(e,t){return e.name&&t.name?e.name.toLowerCase().localeCompare(t.name.toLowerCase()):1}),i=i.sort(function(e,t){return e.name&&t.name?e.name.toLowerCase().localeCompare(t.name.toLowerCase()):1}),a.setState({path:o,files:r,currentFile:n,children:s.concat(i),loadingPage:!1})}).catch(function(){})},a.tableChange=function(e,t,r){var n=[],o=[];a.state.children.forEach(function(e){1===e.type?n.push(e):o.push(e)}),n=n.sort(function(e,t){return e.name&&t.name?e.name.toLowerCase().localeCompare(t.name.toLowerCase()):1}),o=o.sort(function(e,t){return e.name&&t.name?e.name.toLowerCase().localeCompare(t.name.toLowerCase()):1}),r&&"descend"===r.order&&(n=n.reverse(),o=o.reverse()),a.setState({children:n.concat(o)})},a.directoryNameValidation=function(e,t,r){var n=a.state.children;n[n.map(function(e){return e.name}).indexOf(t)]?r("Nome j\xe1 Cadastrado nessa Pasta!"):"projetos"===t.toLowerCase()?r("Nome Proibido!"):r()},a.handleFilterSearch=function(e,t){return t()},a.handleResetFilters=function(e){return e()},a.showModalCreateDirectory=function(){return a.setState({visibleModalCreateDirectory:!0})},a.hideModalCreateDirectory=function(){return a.setState({visibleModalCreateDirectory:!1})},a.renameDirectory=function(e){a.setState({buttonEditNameLoading:!0});var t=a.state,r=t.children,n=t.currentFile,o=a.state.editNameText,s=r[r.map(function(e){return e.name}).indexOf(o)];!o||s&&s._id!==e?(o?te.a.error("Tem problema aqui, \xf3: J\xe1 tem pasta/arquivo com esse nome."):te.a.error("Tem problema aqui, \xf3: Digite um nome v\xe1lido."),a.setState({buttonEditNameLoading:!1})):P.a.put("/api/files",{name:o,id:e}).then(function(){a.setState({nav:"/files/".concat(n._id)})}).catch(function(){a.setState({buttonEditNameLoading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos renomear este arquivo/diret\xf3rio."})})},a.moveDirectory=function(e){a.setState({buttonMoveFileLoading:!0}),P.a.put("/api/files/move",{idChild:e._id,idFather:a.state.fileMovePopover?a.state.fileMovePopover:a.state.files[a.state.files.map(function(e){return e.father.length}).indexOf(0)]._id}).then(function(){a.setState({nav:"/files/".concat(a.state.fileMovePopover)})}).catch(function(){a.setState({buttonMoveFileLoading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos mover este arquivo/diret\xf3rio."})})},a.deleteDirectory=function(e){P.a.delete("/api/files/".concat(e)).then(function(){var e=a.state.currentFile;a.setState({nav:"/files/".concat(e._id)})}).catch(function(){y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos apagar este arquivo/diret\xf3rio."})})},a.createDirectory=function(e){a.setState({buttonCreateDirectoryLoading:!0}),e.preventDefault(),a.props.form.validateFields(function(e,t){if(e)a.setState({buttonCreateDirectoryLoading:!1});else{var r=t.name,n=a.state.currentFile;P.a.post("/api/files",{name:r,father:n._id,type:1}).then(function(){a.setState({nav:"/files/".concat(n._id)})}).catch(function(){a.setState({buttonCreateDirectoryLoading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos apagar este arquivo/diret\xf3rio."})})}})},a.beforeUploadFiles=function(e,t){return mt=0,a.setState({filesToUpload:t,filesUploaded:[]}),!0},a.uploadFiles=function(){a.setState({loadingPage:!0});var e=mt,t=a.state.filesToUpload.length,r=a.state.filesToUpload[e];mt++;var n=new FormData;n.append("api_key","784737987534174"),n.append("timestamp",Date.now()/1e3),n.append("upload_preset","hatsxc2p"),n.append("file",r),P.a.post("https://api.cloudinary.com/v1_1/haken/raw/upload",n,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(r){var n=a.state.currentFile,o=r.data,s=o.public_id.split(".");o.format||(o.format=s.length>1?s[s.length-1]:" "),P.a.post("/api/files",{name:r.data.original_filename,father:n._id,type:2,file:o}).then(function(){var r=a.state.filesUploaded.concat(e);a.setState({filesUploaded:r}),t===r.length&&a.setState({nav:"/files/".concat(n._id)})}).catch(function(){a.setState({loadingPage:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos adicionar um dos arquivos."})})}).catch(function(){a.setState({loadingPage:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos enviar dados no Servidor de Arquivos."})})},a.state={path:[],children:[],files:[],currentFile:"",editNameText:"",enableEditRow:"",enableMovePopover:"",fileMovePopover:"",filesToUpload:"",filesUploaded:[],buttonEditNameLoading:!1,buttonMoveFileLoading:!1,buttonCreateDirectoryLoading:!1,visibleModalCreateDirectory:!1,loadingPage:!0,nav:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getFileDataForPage(this.props.match.params.id)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.form.isFieldsTouched(["name"])||this.props.form.isFieldsTouched(["name"])||this.getFileDataForPage(e.match.params.id)}},{key:"render",value:function(){var e=this;if(this.state.nav)return n.a.createElement(h.a,{to:this.state.nav});if(["-1","5","6","7"].includes(x()))return n.a.createElement(h.a,{to:"/notAuthorizate"});var t=this.props.form.getFieldDecorator;return n.a.createElement(me,{page:"files"},n.a.createElement(D.a,{spinning:this.state.loadingPage},n.a.createElement($.a,{style:{marginBottom:0,display:"flex"}},n.a.createElement(rt.a,null,n.a.createElement(rt.a.Item,null,n.a.createElement(p.b,{to:"/files"},n.a.createElement(G.a,{type:"home"}))),this.state.path.map(function(t,a){return e.state.path.length===a+1?n.a.createElement(rt.a.Item,{style:{cursor:"pointer"},key:t._id},t.name):n.a.createElement(rt.a.Item,{key:t._id},n.a.createElement(p.b,{to:"/files/".concat(t._id)},t.name))})),this.state.currentFile&&"projetos"!==this.state.currentFile.name.toLowerCase()?n.a.createElement(_.a,{placement:"bottomRight",overlay:n.a.createElement(N.a,null,n.a.createElement(N.a.Item,{onClick:this.showModalCreateDirectory}," ",n.a.createElement(G.a,{type:"folder"})," \xa0 Pasta "),n.a.createElement(N.a.Item,null," ",n.a.createElement(_e.a,{showUploadList:!1,beforeUpload:this.beforeUploadFiles,customRequest:this.uploadFiles,fileList:this.state.filesToUpload,multiple:!0}," ",n.a.createElement(G.a,{type:"file"})," \xa0 Arquivos ")," "))},n.a.createElement(W.a,{style:{marginLeft:"auto",marginRight:10},icon:"plus",type:"primary"}," Novo ")):null),n.a.createElement(X.a,{style:{marginTop:5}}),n.a.createElement(ot.a,{onChange:this.tableChange,locale:{emptyText:"N\xe3o h\xe1 nada nessa pasta... Adicione um arquivo."},dataSource:this.state.children,pagination:!1,rowKey:function(e){return e._id},onRow:function(t){return{onDoubleClick:function(){return 1===t.type?e.setState({nav:"/files/".concat(t._id)}):window.open(t.file.url,"_blank")}}}},n.a.createElement(st,{className:"columnType",width:20,dataIndex:"type",render:function(e,t){return 1===t.type?n.a.createElement(G.a,{theme:"twoTone",twoToneColor:"#4B6584",type:"folder"}):["jpg","png","gif"].includes(t.file.format.toLowerCase())?n.a.createElement(G.a,{theme:"twoTone",twoToneColor:"#A55EEA",type:"file-image"}):"pdf"===t.file.format.toLowerCase()?n.a.createElement(G.a,{theme:"twoTone",twoToneColor:"#EB3B5A",type:"file-pdf"}):"md"===t.file.format.toLowerCase()?n.a.createElement(G.a,{theme:"twoTone",twoToneColor:"#FED330",type:"file-markdown"}):["doc","docx","docm","dot","dotx","dotm","rtf","odt"].includes(t.file.format.toLowerCase())?n.a.createElement(G.a,{theme:"twoTone",twoToneColor:"#3867D6",type:"file-word"}):["html","txt"].includes(t.file.format.toLowerCase())?n.a.createElement(G.a,{theme:"twoTone",twoToneColor:"#4B7BEC",type:"file-text"}):["ppt","pptx","pptm","pps","ppsx","ppsm","pot","potx","potm"].includes(t.file.format.toLowerCase())?n.a.createElement(G.a,{theme:"twoTone",twoToneColor:"#FA8231",type:"file-ppt"}):["xlsx","xlsm","xlt","xltx","xltm","ods","csv","tsv","tab"].includes(t.file.format.toLowerCase())?n.a.createElement(G.a,{theme:"twoTone",twoToneColor:"#20BF6B",type:"file-excel"}):["zip","rar","7z","tar"].includes(t.file.format.toLowerCase())?n.a.createElement(G.a,{theme:"twoTone",twoToneColor:"#778CA3",type:"file-zip"}):n.a.createElement(G.a,{theme:"twoTone",twoToneColor:"#4B6584",type:"file"})}}),n.a.createElement(st,{title:"Nome",key:"name",dataIndex:"name",sorter:!0,defaultSortOrder:"ascend",filterDropdown:function(t){var a=t.setSelectedKeys,r=t.selectedKeys,o=t.confirm,s=t.clearFilters;return n.a.createElement("div",{style:{padding:8}},n.a.createElement(J.a,{ref:function(t){e.searchInput=t},placeholder:"Procurar por nome",value:r[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleFilterSearch(r,o)},style:{width:188,marginBottom:8,display:"block"}}),n.a.createElement(W.a,{type:"primary",onClick:function(){return e.handleFilterSearch(r,o)},icon:"search",size:"small",style:{width:90,marginRight:8}}," Procurar "),n.a.createElement(W.a,{onClick:function(){return e.handleResetFilters(s)},size:"small",style:{width:90}}," Resetar "))},filterIcon:function(e){return n.a.createElement(G.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(e,t){return t.name?t.name.toString().toLowerCase().includes(e.toLowerCase()):null},onFilterDropdownVisibleChange:function(t){t&&setTimeout(function(){return e.searchInput.select()})},render:function(t,a){return e.state.enableEditRow===a._id?n.a.createElement($.a,{style:{display:"flex"}},n.a.createElement(J.a,{disabled:e.state.buttonEditNameLoading,onPressEnter:function(){return e.renameDirectory(a._id)},value:e.state.editNameText,onChange:function(t){return e.setState({editNameText:t.target.value})}}),n.a.createElement(W.a,{loading:e.state.buttonEditNameLoading,icon:"check",type:"primary",onClick:function(){return e.renameDirectory(a._id)},style:{marginLeft:5,marginRight:5}}),n.a.createElement(W.a,{disabled:e.state.buttonEditNameLoading,icon:"close",type:"danger",onClick:function(){return e.setState({enableEditRow:"",editNameText:""})}})):n.a.createElement(U.a,{placement:"bottomLeft",arrowPointAtCenter:!0,trigger:"contextMenu",onVisibleChange:function(t){return t?null:e.setState({enableMovePopover:""})},visible:e.state.enableMovePopover===a._id,title:n.a.createElement("span",null,"Escolha uma pasta para mover... \xa0\xa0",n.a.createElement(G.a,{className:"close-modal-move-directory",type:"close",onClick:function(){return e.setState({enableMovePopover:""})}})),content:n.a.createElement("div",null,n.a.createElement(ct,{strong:!0,style:{marginBottom:2}}," ",e.state.files[e.state.files.map(function(t){return e.state.fileMovePopover?t._id:t.father.length}).indexOf(e.state.fileMovePopover?e.state.fileMovePopover:0)].name,": "),e.state.files&&e.state.files.length?n.a.createElement(it,{expandedKeys:[e.state.fileMovePopover],onExpand:function(t){return e.setState({fileMovePopover:t[t.length-1]})}},e.state.fileMovePopover&&e.state.files[e.state.files.map(function(e){return e.father.length}).indexOf(0)]._id!==e.state.fileMovePopover?n.a.createElement(lt,{title:"/..",key:e.state.files[e.state.files.map(function(e){return e._id}).indexOf(e.state.fileMovePopover)].father[0]}):"",e.state.files[e.state.files.map(function(t){return e.state.fileMovePopover?t._id:t.father.length}).indexOf(e.state.fileMovePopover?e.state.fileMovePopover:0)].children.map(function(t){var r=e.state.files[e.state.files.map(function(e){return e._id}).indexOf(t[0])];return r&&1===r.type?n.a.createElement(lt,{disabled:a._id===r._id,title:r.name,key:r._id}):""})):n.a.createElement(D.a,null),n.a.createElement(W.a,{loading:e.state.buttonMoveFileLoading,onClick:function(){return e.moveDirectory(a)},style:{width:"100%",marginTop:10},disabled:e.state.files[e.state.files.map(function(t){return e.state.fileMovePopover?t._id:t.father.length}).indexOf(e.state.fileMovePopover?e.state.fileMovePopover:0)]._id===a.father||e.state.fileMovePopover&&"projetos"===e.state.files[e.state.files.map(function(e){return e._id}).indexOf(e.state.fileMovePopover)].name.toLowerCase(),type:"primary",size:"small"}," Mover Aqui "))},1===a.type?t||"":" "!==a.file.format?"".concat(t||"",".").concat(a.file.format):t||"")}}),n.a.createElement(st,{align:"right",title:"\xdaltima Modifica\xe7\xe3o",key:"updatedAt",dataIndex:"updatedAt",render:function(e){return n.a.createElement("span",null," ",b()(e).format("DD")," de ",b()(e).format("MMMM")," de ",b()(e).format("YYYY")," ")}}),n.a.createElement(st,{align:"right",key:"_id",dataIndex:"_id",width:20,render:function(t,a){return 1===a.type&&"projetos"===a.name.toLowerCase()||"projetos"===e.state.currentFile.name.toLowerCase()?null:n.a.createElement(_.a,{overlay:n.a.createElement(N.a,null,n.a.createElement(N.a.Item,{onClick:function(){return e.setState({enableEditRow:t,editNameText:a.name,enableMovePopover:"",fileMovePopover:""})}}," ",n.a.createElement(G.a,{type:"edit"})," Renomear "),n.a.createElement(N.a.Item,{onClick:function(){return e.setState({enableMovePopover:t,fileMovePopover:"",enableEditRow:"",editNameText:""})}}," ",n.a.createElement(G.a,{type:"snippets"})," Mover "),n.a.createElement(N.a.Item,{onClick:function(){var a=e;q.a.confirm({title:"Deseja realmente apagar esta pasta?",content:"Esta a\xe7\xe3o \xe9 permanente, ainda n\xe3o implmentamos lixeira (e nem vamos)",okType:"danger",onOk:function(){a.deleteDirectory(t)},onCancel:function(){}})}},n.a.createElement(G.a,{type:"delete"})," Excluir")),placement:"bottomRight"},n.a.createElement(G.a,{style:{cursor:"pointer"},type:"more"}))}})),n.a.createElement(q.a,{visible:this.state.visibleModalCreateDirectory,footer:null,onCancel:this.hideModalCreateDirectory,centered:!0,width:391},n.a.createElement(ct,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," Nova Pasta "),n.a.createElement(X.a,{style:{fontSize:20,minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},n.a.createElement(G.a,{type:"folder-add"})),n.a.createElement($.a,{gutter:16},n.a.createElement(I.a,{onSubmit:this.createDirectory},n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:24},n.a.createElement(I.a.Item,null,t("name",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira um nome para a pasta!"},{validator:this.directoryNameValidation}]})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"folder",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Nova Pasta"}))))),n.a.createElement($.a,{style:{textAlign:"right"}},n.a.createElement(W.a,{size:"default",onClick:this.hideModalCreateDirectory,style:{marginRight:8}}," Cancelar "),n.a.createElement(W.a,{loading:this.state.buttonCreateDirectoryLoading,type:"primary",htmlType:"submit",size:"default"}," Criar ")))))))}}]),t}(r.Component),dt=I.a.create()(ut),pt=(a(705),a(416)),ht=(a(289),a(118)),gt=(a(707),a(417)),ft=(a(375),a(169)),Et=(a(288),a(147)),bt=(a(186),a(111)),vt=(a(712),K.a.Paragraph),yt=K.a.Text,St=K.a.Title,Pt=bt.a.RangePicker,kt=L.a.Option,Ct=be.a.CheckableTag,wt=J.a.TextArea,Ft=J.a.Search,xt=q.a.confirm,Bt=Et.a.Group,At=0,jt=[{name:"FEJEPAR",color:"#FC5C65"},{name:"Reuni\xe3o DIREX",color:"#FA8231"},{name:"Reuni\xe3o Geral",color:"#FD9644"},{name:"Reuni\xe3o com Cliente",color:"#F7B731"},{name:"Levantamento de Requisitos",color:"#FED330"},{name:"Planning Poker",color:"#26DE81"},{name:"Processo Seletivo",color:"#0FB9B1"},{name:"Reuni\xe3o do Conselho",color:"#2D98DA"},{name:"Reuni\xe3o de Projeto",color:"#4B7BEC"},{name:"Outros",color:"#A55EEA"}],Tt=[{color:"#FED330",icon:"star",title:"Presidente",label:"Rei da Cocada Preta"},{color:"#26DE81",icon:"star",title:"Vice-Presidente/Diretor de RH",label:"Manda s\xf3 quando o presidente n\xe3o est\xe1."},{color:"#45AAF2",icon:"crown",title:"Diretor de Projetos",label:"The Best"},{color:"#0FB9B1",icon:"star",title:"Diretor Administrativo-Financeiro",label:"Contando Centavos..."},{color:"#A55EEA",icon:"star",title:"Diretor de Marketing",label:"Criando umas Artes"},{color:"#FD9644",icon:"thunderbolt",title:"Membro",label:"Abastecendo-se de Caf\xe9"},{color:"#FC5C65",icon:"fire",title:"Trainee",label:"Sofrendo"},{color:"#4B6584",icon:"bulb",title:"Anci\xe3o",label:"Os Baqueados"}],Mt=["Convidado","Presente"],Dt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).dateCellRender=function(e){if(a.state.eventsFiltered.length>0){var t=b()(e);return n.a.createElement("ul",null,a.state.eventsFiltered.map(function(e){return t.isSameOrAfter(b()(e.initialDate),"day")&&t.isSameOrBefore(b()(e.finalDate),"day")?n.a.createElement(U.a,{key:e._id,placement:"topLeft",trigger:"click",overlayStyle:{zIndex:30},content:n.a.createElement("div",{style:{padding:10,width:400}},x()<5?n.a.createElement($.a,{style:{textAlign:"right",marginBottom:10}},n.a.createElement(G.a,{onClick:function(){return a.showEditableDrawer(e)},className:"calendar-edit-event",style:{cursor:"pointer",marginRight:10},type:"edit"}),n.a.createElement(G.a,{onClick:function(){return a.handleDelete(e)},className:"calendar-delete-event",style:{cursor:"pointer"},type:"delete"})):null,n.a.createElement($.a,null,n.a.createElement(H.a,null,n.a.createElement(St,{level:4,style:{marginBottom:0,paddingBottom:6,borderBottom:"1px solid #E9E9E9",fontWeight:500}},n.a.createElement(U.a,{placement:"topLeft",content:jt[e.status].name,arrowPointAtCenter:!0},n.a.createElement(Y.a,{size:14,style:{backgroundColor:"".concat(jt[e.status].color),marginBottom:3,marginRight:14}})),e.name),n.a.createElement("div",{style:{height:10}}),n.a.createElement(yt,null,n.a.createElement(G.a,{type:"calendar",style:{marginRight:5}})," ",0===b()(e.finalDate).diff(b()(e.initialDate),"days")?e.allDay?b()(e.initialDate).format("dddd, D MMMM"):"".concat(b()(e.initialDate).format("dddd, D MMMM")," \u2802").concat(b()(e.initialDate).format("HH:mm")," - ").concat(b()(e.finalDate).format("HH:mm")):e.allDay?"".concat(b()(e.initialDate).format("D")," - ").concat(b()(e.finalDate).format("D")," de ").concat(b()(e.finalDate).format("MMMM")," de ").concat(b()(e.finalDate).format("YYYY")):"".concat(b()(e.initialDate).format("D MMMM YYYY, HH:mm")," - ").concat(b()(e.finalDate).format("D MMMM YYYY, HH:mm"))),n.a.createElement("div",{style:{height:10}}),n.a.createElement(yt,null,e.description?n.a.createElement(G.a,{type:"align-left",style:{marginRight:5}}):null," ",e.description),n.a.createElement("div",{style:{height:10}}),n.a.createElement(yt,null,e.membersInvited.length>0&&e.membersInvited[0].length>0?n.a.createElement("div",null,n.a.createElement(G.a,{type:"user",style:{marginRight:5}}),e.membersInvited.length," membros convidados"):null),n.a.createElement("div",{style:{height:5}}),e.membersInvited.length>0&&e.membersInvited[0].length>0?e.membersInvited.map(function(t){var r=t[0],o=a.state.members.map(function(e){return e._id}).indexOf(r),s=e.membersPresent.map(function(e){return e[0]}).includes(r);return o>-1?n.a.createElement(vt,{key:r,style:{marginBottom:5}},n.a.createElement(Y.a,{style:{height:24,width:24,marginRight:5,marginLeft:20},src:a.state.members[o].image}),s?n.a.createElement(Y.a,{size:16,style:{backgroundColor:"#87d068",marginLeft:-12,verticalAlign:"bottom",marginBottom:-2},icon:"check"}):null,n.a.createElement(yt,{style:{marginLeft:2}}," ",a.state.members[o].name," ")):null}):null,n.a.createElement("div",{style:{height:5}}),n.a.createElement(ft.a,{autoplay:!0},e.photos&&e.photos.length>0?e.photos.map(function(e){return n.a.createElement("div",{key:e.url,style:{width:"100% !important",height:"200px !important",overflow:"hidden !important"}},n.a.createElement("img",{style:{width:"100%",height:200,objectFit:"cover"},alt:"Imagem do Evento",src:e.url}))}):null))))},n.a.createElement(vt,{style:{cursor:"pointer !important",marginBottom:0,marginTop:0}},n.a.createElement(U.a,{placement:"topLeft",content:jt[e.status].name,arrowPointAtCenter:!0},n.a.createElement(Y.a,{size:8,style:{backgroundColor:"".concat(jt[e.status].color),verticalAlign:"baseline",marginRight:5}})),b()(e.initialDate).isSame(b()(e.finalDate),"day")?e.name:"".concat(e.name," (Dia ").concat(b()(e.finalDate).diff(b()(e.initialDate),"days")-b()(e.finalDate).endOf("day").diff(t,"days")+1," - ").concat(b()(e.finalDate).diff(b()(e.initialDate),"days")+1,")"))):null}))}return n.a.createElement("span",null)},a.dateValidation=function(e,t,a){t&&t[0].isAfter(t[1])?a("Data Inicial deve ser menor que Data Final"):a()},a.filteredOptions=function(e,t){return!(t.props.label||!t.key.toLowerCase().includes(e.toLowerCase()))},a.searchEvents=function(e,t,r,n){var o=a.state.events.filter(function(a){if((a.name.toLowerCase().includes(e.toLowerCase())||a.description&&a.description.toLowerCase().includes(e.toLowerCase()))&&n.map(function(e){return jt.indexOf(e)}).includes(a.status)){if(0===r.length)return!0;if("Convidado"===t&&a.membersInvited.some(function(e){return r.includes(e[0])}))return!0;if("Presente"===t&&a.membersPresent.some(function(e){return r.includes(e[0])}))return!0}return!1});a.setState({eventsFiltered:o})},a.onChangeMembersOption=function(e){a.setState({checkedMemberList:e.target.value}),a.searchEvents(a.state.searchText,e.target.value,a.state.membersSelectedItems,a.state.selectedTagsCalendars)},a.searchEventsByMembers=function(e){a.setState({membersSelectedItems:e}),a.searchEvents(a.state.searchText,a.state.checkedMemberList,e,a.state.selectedTagsCalendars)},a.searchEventsByValue=function(e){a.setState({searchText:e}),a.searchEvents(e,a.state.checkedMemberList,a.state.membersSelectedItems,a.state.selectedTagsCalendars)},a.searchEventsByCalendar=function(e,t){var r=t?[].concat(Object(Ae.a)(a.state.selectedTagsCalendars),[e]):a.state.selectedTagsCalendars.filter(function(t){return t.name!==e.name});a.setState({selectedTagsCalendars:r}),a.searchEvents(a.state.searchText,a.state.checkedMemberList,a.state.membersSelectedItems,r)},a.clearFilters=function(){a.setState({searchText:"",membersSelectedItems:[],selectedTagsCalendars:jt}),a.searchEvents("",a.state.checkedMemberList,[],jt)},a.showDrawer=function(){a.setState({visibleDrawer:!0})},a.showEditableDrawer=function(e){a.props.form.setFieldsValue({name:e.name,date:[b()(e.initialDate),b()(e.finalDate)],allDay:e.allDay,status:e.status.toString(),description:e.description,membersInvited:e.membersInvited.length>0&&e.membersInvited[0].length>0?e.membersInvited.map(function(e){return e[0]}):[],membersPresent:e.membersPresent.length>0&&e.membersPresent[0].length>0?e.membersPresent.map(function(e){return e[0]}):[]}),a.setState({editable:!0,event:e,eventsPhotosList:e.photos.slice(0),visibleDrawer:!0})},a.hideDrawer=function(){a.setState({visibleDrawer:!1,editable:!1,event:"",eventsPhotosList:[],eventsPhotosListUpload:[]}),a.props.form.resetFields()},a.beforeUploadPhotos=function(e,t){return At=0,"image/jpeg"===e.type||"image/png"===e.type?(a.setState({eventsPhotosListUpload:t}),!0):(te.a.error("Extens\xe3o Inv\xe1lida! Permitido apenas imagens"),a.setState({eventsPhotosListUpload:[]}),!1)},a.addEventPhotos=function(){a.setState({addPhotosButtonLoading:!0});var e=At,t=a.state.eventsPhotosList.length+a.state.eventsPhotosListUpload.length,r=a.state.eventsPhotosListUpload[e];At++;var n=new FormData;n.append("api_key","784737987534174"),n.append("timestamp",Date.now()/1e3),n.append("upload_preset","hatsxc2p"),n.append("file",r),P.a.post("https://api.cloudinary.com/v1_1/haken/image/upload",n,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){var n=a.state.eventsPhotosList.concat({uid:r.uid,name:e.data.original_filename,url:e.data.secure_url,thumbUrl:e.data.secure_url});a.setState({eventsPhotosList:n}),t===n.length&&a.setState({addPhotosButtonLoading:!1})}).catch(function(){a.setState({addPhotosButtonLoading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos enviar dados no Servidor de Imagens."})})},a.onRemovePhoto=function(e){var t=a.state.eventsPhotosList;return t.splice(t.map(function(e){return e.uid}).indexOf(e.uid),1),a.setState({eventsPhotosList:t}),!1},a.handleSubmit=function(e){e.preventDefault(),a.setState({buttonLoading:!0}),a.props.form.validateFields(["name","date","allDay","status","description","membersInvited","membersPresent"],function(e,t){if(e)a.setState({buttonLoading:!1});else{var r=t.name,n=t.date,o=t.allDay,s=t.description,i=t.status,l=t.membersInvited,c=t.membersPresent;P.a.post("/api/calendar",{name:r,initialDate:n[0],finalDate:n[1],allDay:o,description:s,status:i,membersInvited:l||[],membersPresent:c||[],photos:a.state.eventsPhotosList}).then(function(){a.setState({buttonLoading:!1}),y.a.success({message:"Uhull",description:"Evento Cadastrado!"}),a.hideDrawer(),a.componentDidMount()}).catch(function(){a.setState({buttonLoading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos enviar dados no Servidor."})})}})},a.handleEdit=function(e){e.preventDefault(),a.setState({buttonLoading:!0}),a.props.form.validateFields(["name","date","allDay","status","description","membersInvited","membersPresent"],function(e,t){if(e)a.setState({buttonLoading:!1});else{var r=t.name,n=t.date,o=t.allDay,s=t.description,i=t.status,l=t.membersInvited,c=t.membersPresent;P.a.put("/api/calendar",{id:a.state.event._id,name:r,initialDate:n[0],finalDate:n[1],allDay:o,description:s,status:i,membersInvited:l,membersPresent:c,photos:a.state.eventsPhotosList}).then(function(){a.setState({buttonLoading:!1}),y.a.success({message:"Uhull",description:"Evento Editado!"}),a.hideDrawer(),a.componentDidMount()}).catch(function(){a.setState({buttonLoading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos enviar dados no Servidor."})})}})},a.handleDelete=function(e){var t=Object(Z.a)(Object(Z.a)(a));xt({title:"Certeza absoluta que quer apagar este evento?",content:"Certeza absoluta mesmo? N\xe3o vai dar pra voltar atr\xe1s hein.",okType:"danger",onOk:function(){P.a.delete("/api/calendar/".concat(e._id)).then(function(){y.a.success({message:"Uhull",description:"Evento Apagado!"}),t.componentDidMount()}).catch(function(){y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos apagar evento do Servidor."})})},onCancel:function(){}})},a.state={loadingPage:!0,events:[],eventsFiltered:[],members:[],eventsPhotosList:[],eventsPhotosListUpload:[],searchText:"",checkedMemberList:Mt[0],membersSelectedItems:[],selectedTagsCalendars:jt,visibleDrawer:!1,editable:!1,event:"",buttonLoading:!1,addPhotosButtonLoading:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/api/calendar").then(function(t){P.a.get("/api/members").then(function(a){var r=a.data;r.sort(function(e,t){return e.status<t.status?-1:e.status<t.status?1:0}),e.setState({members:r,loadingPage:!1,events:t.data,eventsFiltered:t.data}),e.searchEvents(e.state.searchText,e.state.checkedMemberList,e.state.membersSelectedItems,e.state.selectedTagsCalendars)}).catch(function(){})}).catch(function(){})}},{key:"render",value:function(){var e=this;if(["-1"].includes(x()))return n.a.createElement(h.a,{to:"/notAuthorizate"});var t=this.props.form,a=t.getFieldDecorator,r=t.getFieldError,o=t.getFieldValue;return n.a.createElement(me,{page:"calendar"},n.a.createElement(D.a,{spinning:this.state.loadingPage},n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:12},n.a.createElement(Ft,{placeholder:"Pesquise eventos por nome ou descri\xe7\xe3o",value:this.state.searchText,onChange:function(t){return e.searchEventsByValue(t.target.value)},onSearch:function(t){return e.searchEventsByValue(t)}})),n.a.createElement(H.a,{span:1},n.a.createElement(U.a,{content:"Limpar Filtros"},n.a.createElement(W.a,{icon:"close",type:"danger",style:{width:30,textAlign:"center"},onClick:this.clearFilters}))),n.a.createElement(H.a,{span:4},n.a.createElement(U.a,{placement:"bottomRight",title:"Filtros de Pesquisa",content:n.a.createElement("div",null,n.a.createElement("div",{style:{marginTop:10,paddingBottom:6,borderBottom:"1px solid #E9E9E9"}},n.a.createElement(Bt,{options:Mt,value:this.state.checkedMemberList,onChange:this.onChangeMembersOption}),n.a.createElement("br",null),n.a.createElement(L.a,{mode:"multiple",placeholder:"Membros",style:{width:400,marginTop:10},value:this.state.membersSelectedItems,filterOption:this.filteredOptions,onChange:this.searchEventsByMembers},n.a.createElement(L.a.OptGroup,{key:"Diretoria",label:"Diretoria"},this.state.members.map(function(e){return e.status<5?n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.username),value:e._id},e.name," (",e.username,")"):null})),Tt.map(function(t,a){return a>4?n.a.createElement(L.a.OptGroup,{key:t.title,label:t.title},e.state.members.map(function(e){return a===e.status?n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.username),value:e._id},e.name," (",e.username,")"):null})):null}))),n.a.createElement("br",null),n.a.createElement($.a,{style:{maxWidth:400,textAlign:"center"}},jt.map(function(t){return n.a.createElement(Ct,{style:{color:"".concat(t.color),borderColor:"".concat(t.color),background:"".concat(t.color,"20"),marginTop:5},key:t.name,checked:e.state.selectedTagsCalendars.indexOf(t)>-1,onChange:function(a){return e.searchEventsByCalendar(t,a)}},t.name)})))},n.a.createElement(W.a,{icon:"filter",style:{width:"100%",textAlign:"left"}}," Outros Filtros "))),x()<5?n.a.createElement(W.a,{onClick:this.showDrawer,style:{textAlign:"right"},type:"primary",icon:"plus"}," Adicionar Evento "):null),n.a.createElement(gt.a,{style:{marginTop:50},dateCellRender:this.dateCellRender})),n.a.createElement(pt.a,{visible:this.state.visibleDrawer,width:720,footer:null,onClose:this.hideDrawer,centered:!0},n.a.createElement(vt,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," ",this.state.editable?"Editar Evento":"Novo Evento"," "),n.a.createElement(X.a,{style:{minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},n.a.createElement(G.a,{type:"plus-circle"})),n.a.createElement($.a,{style:{marginTop:20,paddingLeft:10,paddingRight:10},gutter:16},n.a.createElement(I.a,{onSubmit:this.state.editable?this.handleEdit:this.handleSubmit},n.a.createElement(I.a.Item,{label:"Nome",hasFeedback:!0,validateStatus:r("name")?"error":this.state.editable&&o("name")!==this.state.event.name?"success":!this.state.editable&&o("name")?"success":""},a("name",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira um nome!"}]})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"user",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Nome"}))),n.a.createElement(I.a.Item,{style:{marginBottom:5},label:"Data do Evento",hasFeedback:!0,validateStatus:r("date")?"error":this.state.editable&&o("date")!==[b()(this.state.event.initialDate),b()(this.state.event.finalDate)]?"success":!this.state.editable&&o("date")?"success":""},a("date",{initialValue:[b()(),b()()],rules:[{required:!0,message:"Por favor, insira uma data!"},{validator:this.dateValidation}]})(n.a.createElement(Pt,{separator:"---",showTime:!o("allDay"),style:{width:"100%"},placeholder:"Data",format:o("allDay")?"DD/MM/YYYY":"DD/MM/YYYY - HH:mm",allowClear:!1}))),a("allDay",{valuePropName:"checked",initialValue:!0})(n.a.createElement(ht.a,{style:{marginBottom:25}}," Dia Inteiro ")),n.a.createElement(I.a.Item,{label:"Tipo de Evento",hasFeedback:!0,validateStatus:r("status")?"error":this.state.editable&&o("status").toString()!==this.state.event.status.toString()?"success":!this.state.editable&&o("status")?"success":""},a("status",{rules:[{required:!0,message:"Por favor, selecione uma op\xe7\xe3o!"}]})(n.a.createElement(L.a,{showSearch:!0,placeholder:"Tipo de Evento",filterOption:this.filteredOptions},jt.map(function(e,t){return n.a.createElement(kt,{key:e.name,value:t.toString()},n.a.createElement(Y.a,{size:14,style:{backgroundColor:"".concat(e.color)}})," ",e.name)})))),n.a.createElement(I.a.Item,{label:"Descri\xe7\xe3o",hasFeedback:!0,validateStatus:r("description")?"error":this.state.editable&&o("description")!==this.state.event.description?"success":!this.state.editable&&o("description")?"success":""},a("description")(n.a.createElement(wt,{rows:4,placeholder:"Descri\xe7\xe3o"}))),n.a.createElement(I.a.Item,{label:"Membros Convidados",hasFeedback:!0,validateStatus:r("membersInvited")?"error":!this.state.editable&&o("membersInvited")&&o("membersInvited").length>0?"success":this.state.editable&&this.state.event.membersInvited.map(function(e){return e[0]}).toString()!==o("membersInvited").toString()?"success":""},a("membersInvited")(n.a.createElement(L.a,{mode:"multiple",placeholder:"Membros Convidados",style:{width:"100%"},filterOption:this.filteredOptions},n.a.createElement(L.a.OptGroup,{key:"Diretoria",label:"Diretoria"},this.state.members.map(function(e){return e.status<5?n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.username),value:e._id},e.name," (",e.username,")"):null})),Tt.map(function(t,a){return a>4?n.a.createElement(L.a.OptGroup,{key:t.title,label:t.title},e.state.members.map(function(e){return a===e.status?n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.username),value:e._id},e.name," (",e.username,")"):null})):null})))),n.a.createElement(I.a.Item,{label:"Membros Presentes",hasFeedback:!0,validateStatus:r("membersPresent")?"error":!this.state.editable&&o("membersPresent")&&o("membersPresent").length>0?"success":this.state.editable&&this.state.event.membersPresent.map(function(e){return e[0]}).toString()!==o("membersPresent").toString()?"success":""},a("membersPresent")(n.a.createElement(L.a,{mode:"multiple",placeholder:"Membros Presentes",style:{width:"100%"},filterOption:this.filteredOptions},n.a.createElement(L.a.OptGroup,{key:"Diretoria",label:"Diretoria"},this.props.form.getFieldValue("membersInvited")?this.props.form.getFieldValue("membersInvited").map(function(t){return e.state.members.map(function(e){return e.status<5&&e._id===t?n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.username),value:e._id},e.name," (",e.username,")"):null})}):null),this.props.form.getFieldValue("membersInvited")?this.props.form.getFieldValue("membersInvited").map(function(t){return Tt.map(function(a,r){return r>4?n.a.createElement(L.a.OptGroup,{key:a.title,label:a.title},e.state.members.map(function(e){return r===e.status&&e._id===t?n.a.createElement(L.a.Option,{key:"".concat(e.name," ").concat(e.username),value:e._id},e.name," (",e.username,")"):null})):null})}):null))),n.a.createElement(_e.a,{beforeUpload:this.beforeUploadPhotos,customRequest:this.addEventPhotos,listType:"picture-card",fileList:this.state.eventsPhotosList,onRemove:this.onRemovePhoto,multiple:!0,disabled:this.state.addPhotosButtonLoading,accept:"image/*"},n.a.createElement(yt,{style:{marginTop:8,color:"#666"}}," ",n.a.createElement(G.a,{type:this.state.addPhotosButtonLoading?"loading":"plus"})," ",n.a.createElement("br",null)," Fotos do Evento ")),n.a.createElement($.a,{style:{textAlign:"right"}},n.a.createElement(W.a,{size:"default",onClick:this.hideDrawer,style:{marginRight:8}}," Cancelar "),n.a.createElement(W.a,{loading:this.state.buttonLoading,type:"primary",htmlType:"submit",size:"default"}," ",this.state.editable?"Editar":"Cadastrar"," "))))))}}]),t}(r.Component),Ot=I.a.create()(Dt),Lt=a(408),It=(a(766),K.a.Title),Rt=K.a.Paragraph,Vt=K.a.Text,_t=L.a.Option,qt=[{name:"Faturamento",icon:"dollar",color:"#FED330",min:0,formatterBefore:"R$ ",formatterAfter:",00",parser:/\B(?=(\d{3})+(?!\d))/g,replace:"."},{name:"Projeto",icon:"appstore",color:"#26DE81",min:0,defaultValue:0},{name:"Membros em Projeto",icon:"global",color:"#45AAF2",defaultValue:100,min:0,max:100,formatterAfter:"%"}],Nt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).searchByYear=function(e){var t=a.state.goals.filter(function(t){return b()(t.year).format("YYYY")===e.format("YYYY")&&t.goals.map(function(e){return e.status}).includes(a.state.status)});a.setState({goalsFiltered:t,yearSearch:e,openYearSearch:!1})},a.searchByGoal=function(e){var t=a.state.goals.filter(function(t){return b()(t.year).format("YYYY")===a.state.yearSearch.format("YYYY")&&t.goals.map(function(e){return e.status}).includes(e)});a.setState({goalsFiltered:t,status:e})},a.changeYearModal=function(e){var t=a.props.form.getFieldValue("goals"),r=a.state.goals[a.state.goals.map(function(e){return b()(e.year).format("YYYY")}).indexOf(e.format("YYYY"))];t.forEach(function(e,a){t[a].status=!1,t[a].value=null!==qt[a].defaultValue&&void 0!==qt[a].defaultValue&&qt[a].parser?qt[a].defaultValue.replace(/[^\d]/g,"").replace(qt[a].parser,qt[a].replace):null!==qt[a].defaultValue&&void 0!==qt[a].defaultValue?qt[a].defaultValue:""}),r&&r.goals.forEach(function(e){t[e.status].status=!0,t[e.status].value=e.value}),a.props.form.setFieldsValue({goals:t}),a.setState({yearModal:e,openYearModal:!1})},a.showModal=function(){a.changeYearModal(b()()),a.setState({visibleModal:!0})},a.hideModal=function(){a.setState({visibleModal:!1})},a.handleGoals=function(e){e.preventDefault();var t=a.state.yearModal;a.setState({loadingGoalsSettings:!0}),a.props.form.validateFields(function(e,r){if(e)a.setState({loadingGoalsSettings:!1});else{var n=[];if(r.goals.forEach(function(e,t){e.status&&n.push({status:t,value:e.value})}),a.state.goals.map(function(e){return b()(e.year).format("YYYY")}).includes(t.format("YYYY"))){var o=a.state.goals[a.state.goals.map(function(e){return b()(e.year).format("YYYY")}).indexOf(t.format("YYYY"))];P.a.put("/api/goals",{id:o,goals:n.map(function(e){return{status:e.status,value:e.value.replace(/[^\d]/g,"")}})}).then(function(){y.a.success({message:"Uhull",description:"Meta Atualizada!"}),a.componentDidMount()}).catch(function(){a.setState({loadingGoalsSettings:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos enviar dados no Servidor."})})}else P.a.post("/api/goals",{year:t,goals:n.map(function(e){return{status:e.status,value:e.value.replace(/[^\d]/g,"")}})}).then(function(){y.a.success({message:"Uhull",description:"Meta Cadastrada!"}),a.componentDidMount()}).catch(function(){a.setState({loadingGoalsSettings:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos enviar dados no Servidor."})})}})},a.state={goals:[],goalsFiltered:[],yearSearch:b()(),yearModal:b()(),status:0,visibleModal:!1,openYearSearch:!1,openYearModal:!1,loadingPage:!0,loadingGoalsSettings:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loadingPage:!0,yearSearch:b()(),visibleModal:!1,loadingGoalsSettings:!1}),P.a.get("/api/projects").then(function(t){var a=t.data;P.a.get("/api/members").then(function(t){var r=t.data;P.a.get("/api/goals").then(function(t){var n=[];t.data.forEach(function(e){var t=[],o=0,s=0,i=0,l=[{id:qt[0].name,data:[]},{id:"Meta",data:[]}],c=[{id:qt[1].name,data:[]},{id:"Meta",data:[]}],m=[{id:qt[2].name,data:[]},{id:"Meta",data:[]}];r.forEach(function(t){(b()(e.year).isSameOrAfter(b()(t.createdAt),"year")&&t.status<7||7===t.status&&b()(t.updatedAt).isSameOrAfter(b()(e.year),"year"))&&(i+=1)}),a.forEach(function(a){b()(e.year).isSame(b()(a.createdAt),"year")&&(a.members[0].forEach(function(e){t.push(e)}),s+=a.cost,o+=1);var r=0,n=0,u=0;b.a.monthsShort().forEach(function(s,d){b()(a.createdAt).format("MMM")===s&&b()(e.year).isSame(b()(a.createdAt),"year")&&(r+=a.cost,n+=o,u+=100*(Object(Ae.a)(new Set(t)).length/i).toFixed(2));var p=l[1].data.map(function(e){return e.x}).indexOf(s);-1!==p?((!b()().isSame(b()(e.year),"year")||b()().format("M")>d)&&(l[0].data[p].y+=r,c[0].data[p].y=n,m[0].data[p].y=u),l[1].data[p].y=e.goals.map(function(e){return e.status}).indexOf(0)>-1?parseInt((e.goals[e.goals.map(function(e){return e.status}).indexOf(0)].value/12*(d+1)).toFixed(),10):0,c[1].data[p].y=e.goals.map(function(e){return e.status}).indexOf(1)>-1?parseInt((e.goals[e.goals.map(function(e){return e.status}).indexOf(1)].value/12*(d+1)).toFixed(),10):0,m[1].data[p].y=e.goals.map(function(e){return e.status}).indexOf(2)>-1?parseInt((e.goals[e.goals.map(function(e){return e.status}).indexOf(2)].value/12*(d+1)).toFixed(),10):0):((!b()().isSame(b()(e.year),"year")||b()().format("M")>d)&&(l[0].data.push({x:s,y:r}),c[0].data.push({x:s,y:n}),m[0].data.push({x:s,y:u})),l[1].data.push({x:s,y:e.goals.map(function(e){return e.status}).indexOf(0)>-1?parseInt((e.goals[e.goals.map(function(e){return e.status}).indexOf(0)].value/12*(d+1)).toFixed(),10):0}),c[1].data.push({x:s,y:e.goals.map(function(e){return e.status}).indexOf(1)>-1?parseInt((e.goals[e.goals.map(function(e){return e.status}).indexOf(1)].value/12*(d+1)).toFixed(),10):0}),m[1].data.push({x:s,y:e.goals.map(function(e){return e.status}).indexOf(2)>-1?parseInt((e.goals[e.goals.map(function(e){return e.status}).indexOf(2)].value/12*(d+1)).toFixed(),10):0}))})});var u=Object(Ae.a)(new Set(t)).length,d=[];e.goals.forEach(function(e){d.push({status:e.status,value:e.value,data:0===e.status?l:1===e.status?c:m,currentValue:0===e.status?s:1===e.status?o:(100*(u/i).toFixed(2)).toFixed(),percentage:0===e.status?(100*(s/e.value).toFixed(2)).toFixed():1===e.status?(100*(o/e.value).toFixed(2)).toFixed():(100*(100*(u/i).toFixed(2)/e.value).toFixed(2)).toFixed()})}),n.push({_id:e._id,year:e.year,goals:d})});var o=n.filter(function(e){return b()(e.year).format("YYYY")===b()().format("YYYY")&&e.goals.map(function(e){return e.status}).includes(0)});e.setState({goals:n,goalsFiltered:o,loadingPage:!1})}).catch(function(){})}).catch(function(){})}).catch(function(){})}},{key:"render",value:function(){var e=this;if(["-1"].includes(x()))return n.a.createElement(h.a,{to:"/notAuthorizate"});var t=this.props.form,a=t.getFieldDecorator,r=t.getFieldValue,o=t.resetFields;return n.a.createElement(me,{page:"goals"},n.a.createElement(D.a,{spinning:this.state.loadingPage},n.a.createElement($.a,{style:{marginBottom:0}},n.a.createElement(It,{id:"info",level:2,style:{fontWeight:500}}," Metaasss :D "),n.a.createElement(X.a,{style:{marginTop:0}})),n.a.createElement($.a,{gutter:16,type:"flex",justify:"end",align:"top"},n.a.createElement(H.a,{span:5},n.a.createElement(L.a,{onChange:function(t){return e.searchByGoal(t)},defaultValue:0,className:"goalSelectBy",style:{width:"100%"},placeholder:"Selecione uma Meta"},qt.map(function(e,t){return n.a.createElement(_t,{key:e.name,value:t},e.name)}))),n.a.createElement(H.a,{span:4},n.a.createElement(bt.a,{onChange:function(t){return e.searchByYear(t)},allowClear:!1,onPanelChange:function(t){return e.searchByYear(t)},onOpenChange:function(t){return e.setState({openYearSearch:t})},open:this.state.openYearSearch,value:this.state.yearSearch,format:"YYYY",mode:"year"})),parseInt(x(),10)<5?n.a.createElement(W.a,{onClick:this.showModal},n.a.createElement(G.a,{type:"setting"})):null),n.a.createElement(R.a,{size:"small",dataSource:this.state.goalsFiltered,renderItem:function(t){return n.a.createElement($.a,{style:{width:"100%",background:"#F6F6F5",padding:"30px",marginTop:20,marginLeft:0,marginRight:0},gutter:16},n.a.createElement(H.a,{span:14},n.a.createElement(z.a,{bordered:!1,hoverable:!0,style:{height:400,borderColor:"rgba(0, 0, 0, 0.09)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.09)"}},n.a.createElement("div",{style:{height:350}},n.a.createElement(It,{level:3,style:{textAlign:"center",position:"absolute",left:0,width:"100%"}}," Meta de ",qt[e.state.status].name," "),n.a.createElement(Lt.a,{data:t.goals[t.goals.map(function(e){return e.status}).indexOf(e.state.status)].data,margin:{top:60,right:40,bottom:50,left:80},xScale:{type:"point"},yScale:{type:"linear",stacked:!1},curve:"catmullRom",axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"",legendOffset:36,legendPosition:"middle"},yFormat:function(t){return"".concat(qt[e.state.status].formatterBefore||"").concat(t.toString().replace(/[^\d]/g,"").replace(qt[e.state.status].parser,qt[e.state.status].replace)).concat(qt[e.state.status].formatterAfter||"")},axisLeft:{format:function(t){return"".concat(qt[e.state.status].formatterBefore||"").concat(t.toString().replace(/[^\d]/g,"").replace(qt[e.state.status].parser,qt[e.state.status].replace)).concat(qt[e.state.status].formatterAfter||"")},orient:"left",tickSize:5,tickPadding:5,tickRotation:30,legendOffset:-40,legendPosition:"middle"},enableGridX:!1,colors:[qt[e.state.status].color,"#4B6584"],pointColor:"#FFFFFF",pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"yFormatted",pointSize:10,pointLabelYOffset:-12,enableSlices:"x",crosshairType:"x",useMesh:!0,legends:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:50,itemWidth:100,itemHeight:20,itemsSpacing:4,symbolSize:14,symbolShape:"circle",itemDirection:"left-to-right",itemTextColor:"#383A3F"}],theme:{axis:{ticks:{line:{stroke:"#383A3F"},text:{fill:"#383A3F",fontFamily:"Maven Pro"},legend:{fill:"#383A3F",fontFamily:"Maven Pro"}}}}})))),n.a.createElement(H.a,{span:5},n.a.createElement(z.a,{bordered:!1,hoverable:!0,style:{height:400,borderColor:"rgba(0, 0, 0, 0.09)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.09)"}},n.a.createElement($.a,{style:{marginTop:50},type:"flex",justify:"center",align:"middle"},n.a.createElement(Y.a,{style:{color:qt[e.state.status].color,backgroundColor:"".concat(qt[e.state.status].color,"38")},size:100,icon:qt[e.state.status].icon})),n.a.createElement($.a,{style:{marginTop:25},type:"flex",justify:"center",align:"middle"},n.a.createElement(It,{style:{marginBottom:0,marginTop:0},level:3}," ","".concat(qt[e.state.status].formatterBefore||"").concat(t.goals[t.goals.map(function(e){return e.status}).indexOf(e.state.status)].currentValue.toString().replace(/[^\d]/g,"").replace(qt[e.state.status].parser,qt[e.state.status].replace)).concat(qt[e.state.status].formatterAfter||"")," "),n.a.createElement(Vt,{style:{fontSize:22,textAlign:"center",width:"100%"}}," Acumulado "),n.a.createElement(Vt,{type:"secondary",style:{textAlign:"center"}}," ",qt[e.state.status].name," total em ",e.state.yearSearch.format("YYYY"),". ")))),n.a.createElement(H.a,{span:5},n.a.createElement(z.a,{bordered:!1,hoverable:!0,style:{height:400,borderColor:"rgba(0, 0, 0, 0.09)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.09)"}},n.a.createElement($.a,{style:{marginTop:50},type:"flex",justify:"center",align:"middle"},n.a.createElement(Y.a,{style:{color:"#4B6584",backgroundColor:"#4B658438"},size:100,icon:"rocket"})),n.a.createElement($.a,{style:{marginTop:25},type:"flex",justify:"center",align:"middle"},n.a.createElement(It,{style:{marginBottom:0,marginTop:0},level:3}," ","".concat(qt[e.state.status].formatterBefore||"").concat(t.goals[t.goals.map(function(e){return e.status}).indexOf(e.state.status)].value.toString().replace(/[^\d]/g,"").replace(qt[e.state.status].parser,qt[e.state.status].replace)).concat(qt[e.state.status].formatterAfter||"")," "),n.a.createElement(Vt,{style:{fontSize:22,textAlign:"center",width:"100%"}}," Meta "),n.a.createElement(Vt,{type:"secondary",style:{textAlign:"center"}}," ",t.goals[t.goals.map(function(e){return e.status}).indexOf(e.state.status)].percentage,"% da meta anual alcan\xe7ada. ")))))}}),n.a.createElement(q.a,{visible:this.state.visibleModal,footer:null,onCancel:this.hideModal,centered:!0},n.a.createElement(Rt,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," Configura\xe7\xf5es de Metas "),n.a.createElement(X.a,{style:{minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},n.a.createElement(G.a,{type:"flag"})),n.a.createElement($.a,{gutter:16,style:{marginBottom:20}},n.a.createElement(H.a,{span:16},n.a.createElement(bt.a,{onChange:function(t){return e.changeYearModal(t)},onPanelChange:function(t){return e.changeYearModal(t)},allowClear:!1,value:this.state.yearModal,format:"YYYY",mode:"year",onOpenChange:function(t){return e.setState({openYearModal:t})},open:this.state.openYearModal}))),n.a.createElement(I.a,{onSubmit:this.handleGoals},qt.map(function(e,t){return n.a.createElement($.a,{style:{marginBottom:0},key:e.name,gutter:16},n.a.createElement(H.a,{span:14},n.a.createElement(I.a.Item,null,a("goals[".concat(t,"].status"),{valuePropName:"checked",initialValue:!1})(n.a.createElement(ht.a,{onChange:function(){return o(["goals[".concat(t,"].value")],{force:!0})}},e.name)))),n.a.createElement(H.a,{style:{display:r("goals[".concat(t,"].status"))?"block":"none"},span:10},n.a.createElement(I.a.Item,null,a("goals[".concat(t,"].value"),{initialValue:null!==e.defaultValue&&void 0!==e.defaultValue?e.defaultValue:"",normalize:function(t){return t.toString().replace(/[^\d]/g,"").replace(e.parser,e.replace)},rules:[{required:r("goals[".concat(t,"].status")),message:"Por favor, insira um valor!"}]})(n.a.createElement(J.a,{addonBefore:e.formatterBefore,addonAfter:e.formatterAfter,style:{width:"100%"},placeholder:"Valor Meta"})))))}),n.a.createElement($.a,null,n.a.createElement(H.a,{span:14,offset:8,style:{textAlign:"right"}},n.a.createElement(W.a,{type:"primary",htmlType:"submit",loading:this.state.loadingGoalsSettings}," Salvar ")))))))}}]),t}(r.Component),zt=I.a.create()(Nt),Yt=(a(767),z.a.Meta),Gt=K.a.Title,Ut=K.a.Paragraph,Wt=K.a.Text,Ht=J.a.Search,$t=L.a.Option,Xt=[{color:"#FED330",icon:"star",title:"Presidente",label:"Rei da Cocada Preta"},{color:"#26DE81",icon:"star",title:"Vice-Presidente/Diretor de RH",label:"Manda s\xf3 quando o presidente n\xe3o est\xe1."},{color:"#45AAF2",icon:"crown",title:"Diretor de Projetos",label:"The Best"},{color:"#0FB9B1",icon:"star",title:"Diretor Administrativo-Financeiro",label:"Contando Centavos..."},{color:"#A55EEA",icon:"star",title:"Diretor de Marketing",label:"Criando umas Artes"},{color:"#FD9644",icon:"thunderbolt",title:"Membro",label:"Abastecendo-se de Caf\xe9"},{color:"#FC5C65",icon:"fire",title:"Trainee",label:"Sofrendo"},{color:"#4B6584",icon:"bulb",title:"Anci\xe3o",label:"Os Baqueados"}],Jt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).searchByName=function(e){""===e.target.value&&a.componentDidMount(),P.a.get("/api/members/search/".concat(e.target.value)).then(function(e){var t=e.data;t.sort(function(e,t){return e.status<t.status?-1:e.status>t.status?1:0}),a.setState({members:t})}).catch(function(){})},a.searchByStatus=function(e){var t=e.includes("-1")?e.concat(["0","1","2","3","4"]):e;a.setState({tags:t})},a.showModalSettings=function(e){a.setState({visibleModalSettings:!0,member:e})},a.showModalChangePassword=function(e){a.setState({visibleModalPassword:!0,member:e})},a.hideModal=function(){a.setState({visibleModalSettings:!1,visibleModalPassword:!1,member:""}),a.props.form.resetFields()},a.compareToFirstPassword=function(e,t,r){t&&t!==a.props.form.getFieldValue("password")?r("Senhas Diferentes!"):r()},a.validateToNextPassword=function(e,t,r){t&&a.props.form.getFieldValue("confirmPassword")&&a.props.form.validateFields(["confirmPassword"],{force:!0}),r()},a.filteredOptions=function(e,t){return!(t.props.label||!t.key.toLowerCase().includes(e.toLowerCase()))},a.handleStatus=function(e){a.setState({changeStatusLoading:!0});var t=a.state.member;x()>4?(a.setState({changeStatusLoading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: Voc\xea n\xe3o tem autoriza\xe7\xe3o, man\xe9"})):a.state.members.map(function(e){return e.status}).includes(e)&&e<5?(a.setState({changeStatusLoading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o pode ter 2 diretores com o mesmo cargo!"})):P.a.put("/api/members",{id:t._id,status:e.toString()}).then(function(){a.setState({changeStatusLoading:!1}),a.hideModal(),y.a.success({message:"Uhull",description:"Status Atualizado com sucesso!"}),a.componentDidMount()}).catch(function(){a.setState({changeStatusLoading:!1}),a.hideModal(),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o sabemos ao certo, tente novamente, se persistirem os sintomas o m\xe9dico dever\xe1 ser consultado, ops, o t\xe9cnico."})})},a.handlePasswords=function(e){a.setState({passwordsButtonLoading:!0}),e.preventDefault(),a.props.form.validateFields(function(e,t){if(x()>4)a.setState({passwordsButtonLoading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: Voc\xea n\xe3o tem autoriza\xe7\xe3o, man\xe9"});else if(e)a.setState({passwordsButtonLoading:!1});else{var r=t.password;P.a.put("/api/members",{id:a.state.member._id,password:r}).then(function(){a.setState({passwordsButtonLoading:!1}),a.hideModal(),y.a.success({message:"Uhull",description:"Senha Atualizada com sucesso!"})}).catch(function(){a.setState({passwordsButtonLoading:!1}),a.hideModal(),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o sabemos ao certo, tente novamente, se persistirem os sintomas o m\xe9dico dever\xe1 ser consultado, ops, o t\xe9cnico."})})}})},a.state={loadingPage:!0,tags:[],members:[],member:"",visibleModalSettings:!1,visibleModalPassword:!1,passwordsButtonLoading:!1,changeStatusLoading:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/api/members").then(function(t){var a=t.data;a.sort(function(e,t){return e.status<t.status?-1:e.status>t.status?1:0}),e.setState({members:a,loadingPage:!1})}).catch(function(){})}},{key:"render",value:function(){var e=this;if(this.state.nav)return n.a.createElement(h.a,{to:this.state.nav});if(["-1"].includes(x()))return n.a.createElement(h.a,{to:"/notAuthorizate"});var t=this.props.form,a=t.getFieldDecorator,r=t.getFieldValue,o=t.getFieldError;return n.a.createElement(me,{page:"members"},n.a.createElement(D.a,{spinning:this.state.loadingPage},n.a.createElement($.a,{style:{marginBottom:0}},n.a.createElement(Gt,{id:"info",level:2,style:{fontWeight:500}}," Polvilhosss :D "),n.a.createElement(X.a,{style:{marginTop:0}})),n.a.createElement($.a,{gutter:16,type:"flex",justify:"end"},n.a.createElement(H.a,{span:12},n.a.createElement(Ht,{placeholder:"Pesquise pelo nome, username ou RA",onChange:function(t){return e.searchByName(t)},style:{marginBottom:18},size:"default"})),n.a.createElement(H.a,{span:6},n.a.createElement(L.a,{className:"membersSelectByCargo",style:{width:"100%"},mode:"multiple",placeholder:"Pesquise por Cargos",filterOption:this.filteredOptions,onChange:function(t){return e.searchByStatus(t)}},n.a.createElement($t,{key:"Diretoria",value:"-1"},n.a.createElement(be.a,{color:"#3867D6"}," Diretoria ")),Xt.map(function(e,t){return t>4?n.a.createElement($t,{key:e.title,value:t.toString()},n.a.createElement(be.a,{color:e.color}," ",e.title," ")):null}))),x()<5?n.a.createElement(p.b,{to:"/memberSignUp"},n.a.createElement(W.a,{type:"primary",icon:"plus"}," Adicionar Membros ")):null),n.a.createElement($.a,{style:{marginBottom:50}},n.a.createElement(H.a,{span:22,offset:1},n.a.createElement(R.a,{grid:{gutter:16,column:4},size:"small",dataSource:this.state.members,renderItem:function(t){return 0===e.state.tags.length||e.state.tags.includes(t.status.toString())?n.a.createElement(H.a,{style:{paddingTop:30},span:6},n.a.createElement(z.a,{bordered:!0,hoverable:!0},n.a.createElement(Y.a,{size:70,src:t.image}),n.a.createElement(U.a,{placement:"bottomRight",title:Xt[t.status].title,content:Xt[t.status].label},n.a.createElement(Y.a,{icon:Xt[t.status].icon,style:{cursor:"pointer",verticalAlign:"bottom",marginLeft:"-26px",marginBottom:"-10px",color:"white",backgroundColor:Xt[t.status].color},size:30})),n.a.createElement(U.a,{placement:"top",content:"Ver Perfil"},n.a.createElement(W.a,{size:"small",style:{position:"absolute",right:10,top:10},type:"primary",onClick:function(){return e.setState({nav:"/profile/".concat(t.username)})},icon:"eye"})),x()<5?[n.a.createElement(W.a.Group,{key:t._id,size:"small",style:{position:"absolute",right:46,top:10}},n.a.createElement(U.a,{placement:"top",content:"Alterar Senha"},n.a.createElement(W.a,{onClick:function(){return e.showModalChangePassword(t)},icon:"lock"})),n.a.createElement(U.a,{placement:"top",content:"Configura\xe7\xf5es"},n.a.createElement(W.a,{onClick:function(){return e.showModalSettings(t)},icon:"setting"})))]:null,n.a.createElement(Yt,{style:{marginTop:20},title:t.name,description:[n.a.createElement(Wt,{key:t._id,type:"secondary"}," ",Xt[t.status].title," ")]}))):n.a.createElement("span",null)}}))),n.a.createElement(q.a,{visible:this.state.visibleModalSettings,footer:null,onCancel:this.hideModal,centered:!0},n.a.createElement($.a,{type:"flex",justify:"center"},n.a.createElement(Y.a,{size:60,src:this.state.member.image})),n.a.createElement(Ut,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," Configura\xe7\xf5es "),n.a.createElement(X.a,{style:{minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},n.a.createElement(G.a,{type:"setting"})),n.a.createElement(Gt,{level:4,style:{textAlign:"left",marginBottom:0,fontWeight:500}}," ",this.state.member.name," "),n.a.createElement(Wt,{type:"secondary",style:{textAlign:"left"}}," ",this.state.member?Xt[this.state.member.status].title:null," "),n.a.createElement(D.a,{spinning:this.state.changeStatusLoading},n.a.createElement(Ut,{style:{marginTop:20,textAlign:"center"}},"Troca de Cargo: ",n.a.createElement("br",null),Xt.map(function(t,a){return e.state.member.status!==a?n.a.createElement(be.a,{style:{marginTop:4},key:t.title,onClick:function(){return e.handleStatus(a)},color:Xt[a].color},n.a.createElement(G.a,{type:"retweet"})," ",Xt[a].title):null})))),n.a.createElement(q.a,{visible:this.state.visibleModalPassword,footer:null,onCancel:this.hideModal,centered:!0},n.a.createElement($.a,{type:"flex",justify:"center"},n.a.createElement(Y.a,{size:60,src:this.state.member.image})),n.a.createElement(Ut,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," Trocar Senhas "),n.a.createElement(X.a,{style:{minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},n.a.createElement(G.a,{type:"lock"})),n.a.createElement($.a,{style:{marginTop:20},gutter:16},n.a.createElement(I.a,{onSubmit:this.handlePasswords},n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Senha"},a("password",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira uma nova senha!"},{min:6,message:"Por favor, insira uma senha maior que 5!"},{validator:this.validateToNextPassword}]})(n.a.createElement(J.a.Password,{prefix:n.a.createElement(G.a,{type:"lock",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Nova Senha"})))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Confirmar Senha",hasFeedback:!0,validateStatus:o("confirmPassword")?"error":r("confirmPassword")?"success":""},a("confirmPassword",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira uma senha!"},{min:6,message:"Por favor, insira uma senha maior que 5!"},{validator:this.compareToFirstPassword}]})(n.a.createElement(J.a,{type:"password",prefix:n.a.createElement(G.a,{type:"lock",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Repita a Nova Senha"}))))),n.a.createElement($.a,{style:{textAlign:"right"}},n.a.createElement(W.a,{size:"default",onClick:this.hideModal,style:{marginRight:8}}," Cancelar "),n.a.createElement(W.a,{loading:this.state.passwordsButtonLoading,type:"primary",htmlType:"submit",size:"default"}," Cadastrar Nova Senha ")))))))}}]),t}(r.Component),Kt=I.a.create()(Jt),Qt=(a(391),a(172)),Zt=Qt.a.Step,ea=K.a.Title,ta=L.a.Option,aa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).RAValidation=function(e,t,r){var n=a.state.users,o=t?t.substring(0,9).replace(/[^\d]/g,""):"";a.props.form.setFieldsValue({RA:o}),o&&o.length>=10?r("RA deve ter menos que 10 d\xedgitos!"):n[n.map(function(e){return e.RA}).indexOf(o)]?r("RA j\xe1 Cadastrado!"):r(),void 0===a.props.form.isFieldValidating("RA")&&a.props.form.validateFields(["RA"])},a.RGValidation=function(e,t,r){var n=t?t.substring(0,14).toUpperCase():"";a.props.form.setFieldsValue({RG:n}),n&&n.length>=15?r("RG deve ter menos que 15 d\xedgitos!"):r(),void 0===a.props.form.isFieldValidating("RG")&&a.props.form.validateFields(["RG"])},a.CPFValidation=function(e,t,r){var n=t?t.substring(0,14).replace(/[^\d]/g,"").replace(/^(\d{3})(\d{3})(\d{3})(\d)/,"$1.$2.$3-$4"):"";a.props.form.setFieldsValue({CPF:n}),n&&14!==n.length?r("CPF deve ter 14 d\xedgitos!"):r(),void 0===a.props.form.isFieldValidating("CPF")&&a.props.form.validateFields(["CPF"])},a.usernameValidation=function(e,t,r){var n=a.state.users;a.props.form.setFieldsValue({username:t.replace(/ /g,"")}),n[n.map(function(e){return e.username}).indexOf(t)]?r("Username j\xe1 Cadastrado!"):r(),void 0===a.props.form.isFieldValidating("username")&&a.props.form.validateFields(["username"])},a.cellphoneValidation=function(e,t,r){var n=t?t.substring(0,16).replace(/[^\d]/g,"").replace(/^(\d{2})(\d{1})(\d{4})(\d)/,"($1) $2 $3-$4"):"";a.props.form.setFieldsValue({cellphone:n}),n&&16!==n.toString().length?r("Telefone deve ter 16 d\xedgitos!"):r(),void 0===a.props.form.isFieldValidating("cellphone")&&a.props.form.validateFields(["cellphone"])},a.cepValidation=function(){var e=Object(ze.a)(Ne.a.mark(function e(t,r,n){var o,s;return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r?r.substring(0,9).replace(/[^\d]/g,"").replace(/^(\d{5})(\d)/,"$1-$2"):"",a.props.form.setFieldsValue({cep:o}),!o||9!==o.length){e.next=15;break}return e.prev=3,e.next=6,P.a.get("http://api.postmon.com.br/v1/cep/".concat(o));case 6:200===(s=e.sent).status&&(a.props.form.setFieldsValue({city:s.data.cidade,uf:s.data.estado}),a.setState({hasAddress:!0,hasNeighborhood:!0}),s.data.logradouro?a.props.form.setFieldsValue({address:s.data.logradouro}):a.setState({hasAddress:!1}),s.data.bairro?a.props.form.setFieldsValue({neighborhood:s.data.bairro}):a.setState({hasNeighborhood:!1}),n()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n("CEP n\xe3o Existe!");case 13:e.next=16;break;case 15:o&&9!==o.length?n("CEP deve ter 9 d\xedgitos!"):n();case 16:void 0===a.props.form.isFieldValidating("cep")&&a.props.form.validateFields(["cep"]);case 17:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t,a,r){return e.apply(this,arguments)}}(),a.compareToFirstPassword=function(e,t,r){t&&t!==a.props.form.getFieldValue("password")?r("Senhas Diferentes!"):r()},a.validateToNextPassword=function(e,t,r){t&&a.props.form.getFieldValue("confirmPassword")&&a.props.form.validateFields(["confirmPassword"],{force:!0}),r()},a.prevStep=function(){var e=a.state.current-1,t={cep:a.props.form.getFieldValue("cep"),neighborhood:a.props.form.getFieldValue("neighborhood"),address:a.props.form.getFieldValue("address"),number:a.props.form.getFieldValue("number"),complement:a.props.form.getFieldValue("complement"),city:a.props.form.getFieldValue("city"),uf:a.props.form.getFieldValue("uf")};a.setState({current:e,status:a.props.form.getFieldValue("status"),email:a.props.form.getFieldValue("email"),cellphone:a.props.form.getFieldValue("cellphone"),location:t})},a.nextStep=function(){var e=a.state.current+1;a.props.form.validateFields(["RA","birth","RG","CPF","username","name","password","confirmPassword"],function(t,r){t||a.setState({current:e,RA:r.RA,birth:r.birth,RG:r.RG,CPF:r.CPF,username:r.username,name:r.name,password:r.password})})},a.beforeUploadPhoto=function(e){if("image/jpeg"===e.type||"image/png"===e.type){var t=[e];return a.setState({newProfilePhoto:t}),!0}return te.a.error("Extens\xe3o Inv\xe1lida! Permitido apenas imagens"),a.setState({newProfilePhoto:[]}),!1},a.changeProfilePhoto=function(){a.setState({changeProfilePhotoButtonloading:!0});var e=new FormData;e.append("api_key","784737987534174"),e.append("timestamp",Date.now()/1e3),e.append("upload_preset","hatsxc2p"),e.append("file",a.state.newProfilePhoto[0]),P.a.post("https://api.cloudinary.com/v1_1/haken/image/upload",e,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){a.setState({profilePhoto:e.data.secure_url,changeProfilePhotoButtonloading:!1})}).catch(function(){a.setState({newProfilePhoto:[],changeProfilePhotoButtonloading:!1})})},a.handleSubmit=function(){a.setState({buttonloading:!0}),a.props.form.validateFields(["email","cellphone","status","cep","neighborhood","address","number","complement","city","uf"],function(e,t){if(e)a.setState({buttonloading:!1});else{var r=t.email,n=t.cellphone,o=t.status,s=t.cep,i=t.address,l=t.neighborhood,c=t.number,m=t.complement,u=t.city,d=t.uf,p=a.state,h=p.RA,g=p.birth,f=p.RG,E=p.CPF,b=p.name,v=p.username,S=p.password,k={cep:s,address:i,neighborhood:l,number:c,complement:m,city:u,uf:d},C=p.profilePhoto||"https://api.adorable.io/avatars/285/".concat(v,".png");P.a.post("/api/members",{RA:h,birth:g,RG:f,CPF:E,username:v,name:b,cellphone:n,status:o.toString(),email:r,location:k,image:C,password:S}).then(function(){y.a.success({message:"Tudo Certo!",description:"Informa\xe7\xf5es Cadastradas!"}),a.setState({buttonloading:!1,nav:"/members"})}).catch(function(){a.setState({buttonloading:!1}),y.a.error({message:"Opa!",description:"Houve um problema aqui: N\xe3o conseguimos enviar dados no Servidor."})})}})},a.state={users:[],current:0,RA:"",birth:null,RG:"",CPF:"",username:"",name:"",password:"",email:"",cellphone:"",status:"6",location:{cep:"",neighborhood:"",address:"",number:null,complement:"",city:"",uf:""},hasAddress:!0,hasNeighborhood:!0,newProfilePhoto:[],profilePhoto:"",buttonloading:!1,changeProfilePhotoButtonloading:!1,nav:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/api/members").then(function(t){e.setState({users:t.data})})}},{key:"render",value:function(){var e=this;if(this.state.nav)return n.a.createElement(h.a,{to:this.state.nav});if(["-1","5","6","7"].includes(x()))return n.a.createElement(h.a,{to:"/notAuthorizate"});var t=this.props.form,a=t.getFieldDecorator,r=t.getFieldError,o=t.getFieldValue;return n.a.createElement(me,{page:"members"},n.a.createElement($.a,{gutter:16,style:{marginBottom:60}},n.a.createElement(H.a,{span:16,offset:4},0===this.state.current?n.a.createElement($.a,null,n.a.createElement(ea,{id:"info",level:2,style:{fontWeight:500,marginBottom:4}}," Dados Pessoais "),n.a.createElement(X.a,{style:{marginTop:0}}),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:8},n.a.createElement(Y.a,{shape:"square",size:200,src:this.state.profilePhoto?this.state.profilePhoto:o("username")?"https://api.adorable.io/avatars/285/".concat(o("username"),".png"):"https://api.adorable.io/avatars/285/".concat(this.state.username,".png")}),n.a.createElement(_e.a,{beforeUpload:this.beforeUploadPhoto,customRequest:this.changeProfilePhoto,fileList:this.state.newProfilePhoto,showUploadList:!1,accept:"image/*"},n.a.createElement(W.a,{loading:this.state.changeProfilePhotoButtonloading,icon:"plus",type:"primary",style:{backgroundColor:"#383A3F",borderColor:"#383A3F",position:"absolute",bottom:5,left:12}}," Adicionar Imagem "))),n.a.createElement(H.a,{span:14},n.a.createElement(I.a,{onSubmit:this.handleSubmitInfo},n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"RA",hasFeedback:!0,validateStatus:r("RA")?"error":o("RA")?"success":""},a("RA",{initialValue:this.state.RA,rules:[{required:!0,message:"Por favor, insira um RA!"},{validator:this.RAValidation}]})(n.a.createElement(J.a,{style:{width:"100%"},placeholder:"RA"})))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Data de Nascimento",hasFeedback:!0,validateStatus:r("birth")?"error":o("birth")?"success":""},a("birth",{initialValue:this.state.birth,rules:[{required:!0,message:"Por favor, insira uma data!"}]})(n.a.createElement(bt.a,{placeholder:"Data de Nascimento",format:"DD/MM/YYYY"}))))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"RG",hasFeedback:!0,validateStatus:r("RG")?"error":o("RG")?"success":""},a("RG",{initialValue:this.state.RG,rules:[{required:!0,message:"Por favor, insira um RG!"},{validator:this.RGValidation}]})(n.a.createElement(J.a,{style:{width:"100%"},placeholder:"RG"})))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"CPF",hasFeedback:!0,validateStatus:r("CPF")?"error":o("CPF")?"success":""},a("CPF",{initialValue:this.state.CPF,rules:[{required:!0,message:"Por favor, insira um CPF!"},{validator:this.CPFValidation}]})(n.a.createElement(J.a,{style:{width:"100%"},placeholder:"CPF"}))))),n.a.createElement(I.a.Item,{label:"Username",hasFeedback:!0,validateStatus:r("username")?"error":o("username")?"success":""},a("username",{initialValue:this.state.username,rules:[{required:!0,whitespace:!0,message:"Por favor, insira um username!"},{validator:this.usernameValidation}]})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"smile",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Username"}))),n.a.createElement(I.a.Item,{label:"Nome",hasFeedback:!0,validateStatus:r("name")?"error":o("name")?"success":""},a("name",{initialValue:this.state.name,rules:[{required:!0,whitespace:!0,message:"Por favor, insira um nome!"}]})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"user",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Nome"}))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Senha"},a("password",{initialValue:this.state.password,rules:[{required:!0,whitespace:!0,message:"Por favor, insira uma senha!"},{min:6,message:"Por favor, insira uma senha maior que 5!"},{validator:this.validateToNextPassword}]})(n.a.createElement(J.a.Password,{prefix:n.a.createElement(G.a,{type:"lock",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Senha"})))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Confirmar Senha",hasFeedback:!0,validateStatus:r("confirmPassword")?"error":o("confirmPassword")?"success":""},a("confirmPassword",{initialValue:this.state.password,rules:[{required:!0,whitespace:!0,message:"Por favor, insira uma senha!"},{min:6,message:"Por favor, insira uma senha maior que 5!"},{validator:this.compareToFirstPassword}]})(n.a.createElement(J.a,{type:"password",prefix:n.a.createElement(G.a,{type:"lock",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Repita a Senha"}))))))))):n.a.createElement($.a,null,n.a.createElement(ea,{id:"contact-info",level:2,style:{fontWeight:500,marginBottom:4}}," Dados de Contato "),n.a.createElement(X.a,{style:{marginTop:0}}),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:14,offset:5},n.a.createElement(I.a,{onSubmit:this.handleSubmitContactInfo},n.a.createElement(I.a.Item,{label:"Email",hasFeedback:!0,validateStatus:r("email")?"error":o("email")?"success":""},a("email",{initialValue:this.state.email,rules:[{required:!0,whitespace:!0,message:"Por favor, insira um email!"},{validator:this.emailValidation},{type:"email",message:"Por favor, insira um email v\xe1lido!"}]})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"mail",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Email"}))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Telefone Celular",hasFeedback:!0,validateStatus:r("cellphone")?"error":o("cellphone")?"success":""},a("cellphone",{initialValue:this.state.cellphone,rules:[{required:!0,message:"Por favor, insira um celular!"},{validator:this.cellphoneValidation}]})(n.a.createElement(J.a,{style:{width:"100%"},placeholder:"Telefone Celular"})))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Status",hasFeedback:!0,validateStatus:r("status")?"error":o("status")?"success":""},a("status",{initialValue:this.state.status,rules:[{required:!0,message:"Por favor, insira um status!"}]})(n.a.createElement(L.a,{placeholder:"Selecione Status",showSearch:!0,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},n.a.createElement(ta,{value:"5"}," Membro "),n.a.createElement(ta,{value:"6"}," Trainee ")))))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:6},n.a.createElement(I.a.Item,{label:"CEP",hasFeedback:!0,validateStatus:r("cep")?"error":o("cep")?"success":""},a("cep",{initialValue:this.state.location.cep,rules:[{required:!0,message:"Por favor, insira um cep!"},{validator:this.cepValidation}]})(n.a.createElement(J.a,{style:{width:"100%"},placeholder:"CEP"})))),n.a.createElement(H.a,{span:18},n.a.createElement(I.a.Item,{label:"Bairro",hasFeedback:!0,validateStatus:r("neighborhood")?"error":o("neighborhood")?"success":""},a("neighborhood",{initialValue:this.state.location.neighborhood,rules:[{required:!0,whitespace:!0,message:"Por favor, insira um bairro!"}]})(n.a.createElement(J.a,{disabled:this.state.hasNeighborhood,prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Bairro"}))))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:18},n.a.createElement(I.a.Item,{label:"Endere\xe7o",hasFeedback:!0,validateStatus:r("address")?"error":o("address")?"success":""},a("address",{initialValue:this.state.location.address,rules:[{required:!0,whitespace:!0,message:"Por favor, insira um endere\xe7o!"}]})(n.a.createElement(J.a,{disabled:this.state.hasAddress,prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Endere\xe7o"})))),n.a.createElement(H.a,{span:6},n.a.createElement(I.a.Item,{label:"N\xfamero",hasFeedback:!0,validateStatus:r("number")?"error":o("number")?"success":""},a("number",{initialValue:this.state.location.number,rules:[{required:!0,message:"Por favor, insira um n\xfamero!"}]})(n.a.createElement(O.a,{className:"no-number-options",placeholder:"N\xfamero"}))))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:9},n.a.createElement(I.a.Item,{label:"Complemento",hasFeedback:!0,validateStatus:r("complement")?"error":o("complement")?"success":""},a("complement",{initialValue:this.state.location.complement})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Complemento"})))),n.a.createElement(H.a,{span:10},n.a.createElement(I.a.Item,{label:"Cidade",hasFeedback:!0,validateStatus:r("city")?"error":o("city")?"success":""},a("city",{initialValue:this.state.location.city,rules:[{required:!0,whitespace:!0,message:"Por favor, insira uma cidade!"}]})(n.a.createElement(J.a,{disabled:!0,prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Cidade"})))),n.a.createElement(H.a,{span:5},n.a.createElement(I.a.Item,{label:"Estado",hasFeedback:!0,validateStatus:r("uf")?"error":o("uf")?"success":""},a("uf",{initialValue:this.state.location.uf,rules:[{required:!0,whitespace:!0,message:"Por favor, insira um estado!"}]})(n.a.createElement(J.a,{disabled:!0,prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Estado"}))))))))),n.a.createElement($.a,null,n.a.createElement(H.a,{span:14,offset:8,style:{textAlign:"right"}},this.state.current<1?n.a.createElement(W.a,{type:"primary",onClick:function(){return e.nextStep()}},"Pr\xf3ximo ",n.a.createElement(G.a,{type:"arrow-right"})):null)),n.a.createElement($.a,null,n.a.createElement(H.a,{span:7,offset:5},this.state.current>0?n.a.createElement(W.a,{icon:"arrow-left",onClick:function(){return e.prevStep()}}," Anterior "):null),n.a.createElement(H.a,{span:7,style:{textAlign:"right"}},1===this.state.current?n.a.createElement(W.a,{type:"primary",onClick:function(){return e.handleSubmit()},loading:this.state.buttonloading}," Cadastrar "):null))),n.a.createElement(H.a,{span:4,style:{marginTop:32}},n.a.createElement(Qt.a,{direction:"vertical",current:this.state.current,size:"small"},n.a.createElement(Zt,{title:"Dados Pessoais",description:"Quem \xe9 este polvilho?"}),n.a.createElement(Zt,{title:"Dados de Contato",description:"Como se comporta, onde vive, o que come."})))))}}]),t}(r.Component),ra=I.a.create()(aa),na=(a(179),a(91)),oa=(a(332),a(152)),sa=(a(222),K.a.Title),ia=K.a.Text,la=K.a.Paragraph,ca=oa.a.TabPane,ma=L.a.Option,ua=[{color:"#FED330",icon:"star",title:"Presidente",label:"Rei da Cocada Preta"},{color:"#26DE81",icon:"star",title:"Vice-Presidente/Diretor de RH",label:"Manda s\xf3 quando o presidente n\xe3o est\xe1."},{color:"#45AAF2",icon:"crown",title:"Diretor de Projetos",label:"The Best"},{color:"#0FB9B1",icon:"star",title:"Diretor Administrativo-Financeiro",label:"Contando Centavos..."},{color:"#A55EEA",icon:"star",title:"Diretor de Marketing",label:"Criando umas Artes"},{color:"#FD9644",icon:"thunderbolt",title:"Membro",label:"Abastecendo-se de Caf\xe9"},{color:"#FC5C65",icon:"fire",title:"Trainee",label:"Sofrendo"},{color:"#4B6584",icon:"bulb",title:"Anci\xe3o",label:"Os Baqueados"}],da=[{color:"#3867D6",icon:"deployment-unit",title:"Planejamento",label:"Come\xe7ando o sofrimento denovo."},{color:"#FA8231",icon:"rocket",title:"Inicializando",label:"Fechando contrato e preparando as almas de membros para o abate."},{color:"#45AAF2",icon:"coffee",title:"Em Andamento",label:"Abastecendo os membros com caf\xe9 para manter o progresso."},{color:"#778CA3",icon:"frown",title:"Cancelado",label:"Cliente deu pra tr\xe1s."},{color:"#EB3B5A",icon:"stop",title:"Congelado",label:"Sei l\xe1, deu uma parada por agora."},{color:"#20BF6B",icon:"like",title:"Acabou",label:"Acaboooouuuu!!"}],pa=[{color:"#F7B731",title:"Consultoria",icon:"book"},{color:"#FED330",title:"Site",icon:"desktop"},{color:"#26DE81",title:"Aplicativo",icon:"mobile"},{color:"#0FB9B1",title:"Sistema Web",icon:"ie"},{color:"#2BCBBA",title:"Sistema Interno",icon:"home"}],ha=["#FC5C65","#FA8231","#FD9644","#F7B731","#FED330","#26DE81","#0FB9B1","#2BCBBA","#2D98DA","#45AAF2","#4B7BEC","#8854D0","#A55EEA","#4B6584","#778CA3"],ga="a909ba7f264d474e8f36",fa="162fa8dcbaf50db000b185bc8678cf8aa119d272",Ea=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getUserDataForProfile=function(e){a.setState({nav:"",user:"",userGithub:"",programmingLanguages:[],commitsCount:[],additions:0,deletions:0,tab:"1",projects:[],currentPoints:0,loadingProjects:!0,loadingTasks:!1,loadingMoreTasks:!1,initLoadingTasks:!0,userList:[],userListAux:[],countTask:7,yearSearch:b()(),openYearSearch:!1,semesterSearch:b()().month()<=5?"0":"1"}),P.a.get("/api/task").then(function(t){var r=t.data;P.a.get("/api/members/searchProfile/".concat(e)).then(function(e){if(e.data)if(e.data.github_code){var t={headers:{Authorization:"token ".concat(e.data.github_code)}},n=[];e.data.points.forEach(function(e){var t=r[r.map(function(e){return e._id}).indexOf(e.task[0])];t&&n.push({task:t,point:e.point,date:e.date})}),e.data.points=n,e.data.points.sort(function(e,t){return b()(e.date).isBefore(b()(t.date))?1:b()(e.date).isAfter(b()(t.date))?-1:0});var o=[],s=[],i=0,l=0;e.data.points.forEach(function(e){b()(e.date).format("YYYY")===a.state.yearSearch.format("YYYY")&&(b()(e.date).month()<=5&&"0"===a.state.semesterSearch||b()(e.date).month()>5&&"1"===a.state.semesterSearch)&&(s.push(e),i+=Number(e.point),l<a.state.countTask&&o.push(e),l++)}),a.setState({user:e.data,currentPoints:i,initLoadingTasks:!1,userList:o,userListAux:s}),P.a.get("https://api.github.com/user",t).then(function(e){a.setState({userGithub:e.data}),a.loadProjects(),P.a.get("https://api.github.com/user/repos?per_page=100",t).then(function(e){var r=[],n=[],o=0,s=0;e.data.forEach(function(e){P.a.get("".concat(e.languages_url,"?per_page=100&client_id=").concat(ga,"&client_secret=").concat(fa),t).then(function(e){r=r.concat(Object.keys(e.data)),a.setState({programmingLanguages:Object(Ae.a)(new Set(r))})}),P.a.get("https://api.github.com/repos/".concat(e.owner.login,"/").concat(e.name,"/commits?author=").concat(a.state.userGithub.login,"&per_page=100&client_id=").concat(ga,"&client_secret=").concat(fa),t).then(function(e){n=n.concat(e.data),a.setState({commitsCount:n}),e.data.forEach(function(e){P.a.get("".concat(e.url,"?client_id=").concat(ga,"&client_secret=").concat(fa),t).then(function(e){o+=e.data.stats.additions,s+=e.data.stats.deletions,a.setState({additions:o,deletions:s})})})})})})}).catch(function(){y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos ler dados do Github."})})}else a.setState({user:e.data}),a.loadProjects(),y.a.warning({message:"Opps!",description:"Este usu\xe1rio n\xe3o sincronizou a conta com o Github"});else a.setState({nav:"/notFound"})}).catch(function(){y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos ler do Servidor."})})}).catch(function(){y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos ler do Servidor."})})},a.loadProjects=function(){P.a.get("/api/projects").then(function(e){P.a.get("/api/members").then(function(t){P.a.get("/api/customers").then(function(r){var n=r.data,o=Object(Ae.a)(new Set(e.data.filter(function(e){return e.leader[0]===a.state.user._id}).concat(e.data.filter(function(e){return e.members[0].includes(a.state.user._id)}))));o.forEach(function(e,a){o[a].leader=t.data[t.data.map(function(e){return e._id}).indexOf(e.leader[0])],o[a].customer=n[n.map(function(e){return e._id}).indexOf(e.customer[0])];var r=e.members[0];e.members[0].length?(e.members[0].forEach(function(e,a){r[a]=t.data[t.data.map(function(e){return e._id}).indexOf(e)]}),o[a].members=r):o[a].members=[r]}),a.setState({projects:o,loadingProjects:!1})})})})},a.onChangeTab=function(e){return a.setState({tab:e})},a.getNextBirthDay=function(e){var t=b()(e),a=b()().format("YYYY-MM-DD"),r=b()(a).diff(t,"years");b()(r).format("YYYY-MM-DD");var n=b()(t).add(r+1,"years");return b()(n).format("YYYY-MM-DD")},a.onLoadMoreTasks=function(){var e=[],t=a.state.countTask+7;a.setState({loadingMoreTasks:!0,countTask:t}),a.state.userListAux.forEach(function(a,r){r<t&&e.push(a)}),a.setState({userList:e,loadingMoreTasks:!1})},a.searchByYear=function(e){var t=a.state.user.points.filter(function(t){return b()(t.date).format("YYYY")===e.format("YYYY")&&(b()(t.date).month()<=5&&"0"===a.state.semesterSearch||b()(t.date).month()>5&&"1"===a.state.semesterSearch)}),r=[];t&&t.forEach(function(e,t){t<7&&r.push(e)}),a.setState({yearSearch:e,countTask:7,userListAux:t,userList:r,openYearSearch:!1})},a.searchBySemester=function(e){var t=a.state.user.points.filter(function(t){return b()(t.date).format("YYYY")===a.state.yearSearch.format("YYYY")&&(b()(t.date).month()<=5&&"0"===e||b()(t.date).month()>5&&"1"===e)}),r=[];t&&t.forEach(function(e,t){t<7&&r.push(e)}),a.setState({semesterSearch:e,countTask:7,userListAux:t,userList:r,openYearSearch:!1})},a.state={nav:"",user:"",userGithub:"",programmingLanguages:[],commitsCount:[],additions:0,deletions:0,tab:"1",projects:[],currentPoints:0,loadingProjects:!0,loadingTasks:!1,loadingMoreTasks:!1,initLoadingTasks:!0,userList:[],userListAux:[],countTask:7,yearSearch:b()(),openYearSearch:!1,semesterSearch:b()().month()<=5?"0":"1"},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getUserDataForProfile(this.props.match.params.username)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.getUserDataForProfile(e.match.params.username)}},{key:"render",value:function(){var e=this;if(this.state.nav)return n.a.createElement(h.a,{to:this.state.nav});if(["-1"].includes(x()))return n.a.createElement(h.a,{to:"/notAuthorizate"});var t=this.state,a=t.initLoadingTasks,r=t.loadingMoreTasks,o=a||r?null:n.a.createElement("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"}},this.state.userList.length!==this.state.userListAux.length?n.a.createElement(W.a,{onClick:this.onLoadMoreTasks}," Carregar Mais "):null);return n.a.createElement(me,null,n.a.createElement($.a,null,n.a.createElement(H.a,{span:16,offset:4},n.a.createElement($.a,null,n.a.createElement(je.a,{loading:!this.state.user,active:!0,avatar:!0},n.a.createElement(H.a,{span:6},n.a.createElement(Y.a,{style:{cursor:"pointer"},src:this.state.user.image,size:150}),this.state.user?n.a.createElement(U.a,{placement:"bottomRight",title:ua[this.state.user.status].title,content:ua[this.state.user.status].label},n.a.createElement(Y.a,{icon:ua[this.state.user.status].icon,style:{cursor:"pointer",verticalAlign:"bottom",marginLeft:"-45px",color:"white",backgroundColor:ua[this.state.user.status].color},size:36})):null),n.a.createElement(H.a,{span:18},n.a.createElement($.a,null,n.a.createElement(sa,{level:3,style:{marginBottom:0},ellipsis:!0},this.state.user.name," \xa0",n.a.createElement(U.a,{placement:"bottom",content:n.a.createElement(ia,null," RA ")},n.a.createElement(ia,{strong:!0},n.a.createElement(be.a,{style:{verticalAlign:3},color:this.state.user?ua[this.state.user.status].color:null}," ",this.state.user.RA," ")),n.a.createElement("br",null))),n.a.createElement(ia,{type:"secondary",style:{marginTop:0}}," @",this.state.user.username," ")),n.a.createElement($.a,{style:{marginTop:15}},n.a.createElement(ia,{strong:!0}," ",this.state.projects.length),n.a.createElement(ia,null," Filhos Desenvolvidos ")),n.a.createElement($.a,null,n.a.createElement(ia,null," Pontua\xe7\xe3o Atual:  "),n.a.createElement(ia,{strong:!0}," ",this.state.currentPoints," ")),n.a.createElement($.a,{style:{marginTop:10}},n.a.createElement(oa.a,{activeKey:this.state.tab,onChange:this.onChangeTab,tabPosition:"bottom"},n.a.createElement(ca,{tab:n.a.createElement("span",null," ",n.a.createElement(G.a,{type:"idcard"})," Informa\xe7\xf5es B\xe1sicas "),key:"1"}),n.a.createElement(ca,{tab:n.a.createElement("span",null," ",n.a.createElement(G.a,{type:"project"})," Projetos "),key:"2"}),n.a.createElement(ca,{tab:n.a.createElement("span",null," ",n.a.createElement(G.a,{type:"trophy"})," Meus Pontos "),key:"3"}))))))),this.state.user._id===A()?n.a.createElement(p.b,{to:"/edit/profile"},n.a.createElement(W.a,{style:{marginLeft:20}},"Editar Perfil ",n.a.createElement(G.a,{type:"edit"}))):null),n.a.createElement($.a,{style:{marginTop:50,marginBottom:50}},n.a.createElement(H.a,{span:16,offset:4},"1"===this.state.tab?n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:8},n.a.createElement(z.a,{hoverable:!0,loading:!this.state.userGithub,cover:n.a.createElement(je.a,{className:"skeleton-profile-github-account",loading:!this.state.userGithub,active:!0},n.a.createElement("img",{style:{height:200,objectFit:"cover"},alt:"Github Profile",src:this.state.userGithub.avatar_url}))},n.a.createElement(z.a.Meta,{title:n.a.createElement("span",null,n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.state.userGithub.html_url},n.a.createElement(na.a,{title:"Ver Perfil Online"},n.a.createElement(G.a,{type:"link"})))," \xa0 Informa\xe7\xf5es do Github"),description:n.a.createElement("span",null,this.state.userGithub.login?n.a.createElement(U.a,{placement:"left",content:"Github Username"}," ",n.a.createElement("span",null," @  ",this.state.userGithub.login," ",n.a.createElement("br",null)," ")," "):null,this.state.userGithub.bio?n.a.createElement(U.a,{placement:"left",content:"Github Bio"}," ",this.state.userGithub.bio," ",n.a.createElement("br",null)," "):null,this.state.userGithub.location?n.a.createElement(U.a,{placement:"left",content:"Localiza\xe7\xe3o"}," ",n.a.createElement("span",{role:"img","aria-label":"WorldMap"}," \ud83d\uddfa\ufe0f  ",this.state.userGithub.location," ",n.a.createElement("br",null)," ")," "):null,this.state.userGithub.blog?n.a.createElement(U.a,{placement:"left",content:"Blog"}," ",n.a.createElement("span",{role:"img","aria-label":"Global"}," \ud83c\udf10  ",this.state.userGithub.blog," ",n.a.createElement("br",null)," ")," "):null,this.state.userGithub.company?n.a.createElement(U.a,{placement:"left",content:"Empresa"}," ",n.a.createElement("span",{role:"img","aria-label":"Company"}," \ud83c\udfe2  ",this.state.userGithub.company," ",n.a.createElement("br",null)," ")," "):null,this.state.userGithub.created_at?n.a.createElement("span",null," Desde: ",b()(this.state.userGithub.created_at).format("DD/MM/YYYY")," ",n.a.createElement("br",null)," "):null)}))),n.a.createElement(H.a,{span:8},n.a.createElement(z.a,{extra:n.a.createElement("a",{href:this.state.user?"https://www.google.com/maps/search/?api=1&query=".concat("".concat(this.state.user.location.address,", ").concat(this.state.user.location.number," - ").concat(this.state.user.location.neighborhood,", ").concat(this.state.user.location.city," - ").concat(this.state.user.location.uf,", ").concat(this.state.user.location.cep)):null,target:"_blank",rel:"noopener noreferrer"},n.a.createElement(na.a,{title:"Ver Mapa Online"}," ",n.a.createElement(G.a,{type:"link"})," ")),loading:!this.state.user,title:"Endere\xe7o",hoverable:!0},n.a.createElement(z.a.Meta,{description:this.state.user?"".concat(this.state.user.location.address,", ").concat(this.state.user.location.number," - ").concat(this.state.user.location.neighborhood,", ").concat(this.state.user.location.city," - ").concat(this.state.user.location.uf,", ").concat(this.state.user.location.cep,". ").concat(this.state.user.location.complement?"(".concat(this.state.user.location.complement,")"):""):null})),n.a.createElement(z.a,{loading:!this.state.userGithub,cover:n.a.createElement(ia,{className:"ant-card-head-title",style:{marginTop:15,textAlign:"left",fontWeight:500,fontSize:16}}," Est\xe1tisticas "),style:{textAlign:"center",border:0}},n.a.createElement(z.a.Grid,{style:{margin:5,width:"calc(50% - 10px)",padding:"20px 10px"}},n.a.createElement(Y.a,{style:{color:"#3867D6",backgroundColor:"#3867D638"}},n.a.createElement(G.a,{type:"appstore",rotate:45})),n.a.createElement(sa,{style:{marginBottom:0,marginTop:10},level:3}," ",this.state.userGithub.public_repos+this.state.userGithub.total_private_repos," "),n.a.createElement(ia,{type:"secondary"}," reposit\xf3rios ")),n.a.createElement(z.a.Grid,{style:{margin:5,width:"calc(50% - 10px)",padding:"20px 10px"}},n.a.createElement(Y.a,{style:{color:"#F7B731",backgroundColor:"#F7B73138"}},n.a.createElement(G.a,{type:"to-top"})),n.a.createElement(sa,{style:{marginBottom:0,marginTop:10},level:3}," ",this.state.commitsCount.length," "),n.a.createElement(ia,{type:"secondary"}," commits ")),n.a.createElement(z.a.Grid,{style:{margin:5,width:"calc(50% - 10px)",padding:"20px 10px"}},n.a.createElement(Y.a,{style:{color:"#20BF6B",backgroundColor:"#20BF6B38"}},n.a.createElement(G.a,{type:"file-done"})),n.a.createElement(sa,{style:{marginBottom:0,marginTop:10},level:3}," ",this.state.additions," "),n.a.createElement(ia,{type:"secondary"}," linhas novas ")),n.a.createElement(z.a.Grid,{style:{margin:5,width:"calc(50% - 10px)",padding:"20px 10px"}},n.a.createElement(Y.a,{style:{color:"#EB3B5A",backgroundColor:"#EB3B5A38"}},n.a.createElement(G.a,{type:"diff"})),n.a.createElement(sa,{style:{marginBottom:0,marginTop:10},level:3}," ",this.state.deletions," "),n.a.createElement(ia,{type:"secondary"}," linhas deletadas ")))),n.a.createElement(H.a,{span:8},n.a.createElement(z.a,{actions:[n.a.createElement(U.a,{content:n.a.createElement(la,{style:{marginBottom:0},copyable:{text:this.state.user.email}}," ",this.state.user.email," ")},n.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"mailto:".concat(this.state.user.email)}," ",n.a.createElement(G.a,{type:"mail"})," ")),n.a.createElement(U.a,{content:n.a.createElement(la,{style:{marginBottom:0},copyable:{text:this.state.user.cellphone}}," ",this.state.user.cellphone," ")},n.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://wa.me/:".concat(this.state.user.cellphone)}," ",n.a.createElement(G.a,{type:"phone"})," "))],loading:!this.state.user,title:"Contato & Outras Informa\xe7\xf5es",hoverable:!0},n.a.createElement(z.a.Meta,{style:{textAlign:"center"},description:this.state.user?n.a.createElement("span",null,n.a.createElement(ia,null,this.state.user?0===b()(this.getNextBirthDay(this.state.user.birth)).diff(b()(),"days")?n.a.createElement("span",null,n.a.createElement(ia,{style:{fontSize:18},strong:!0},n.a.createElement("span",{role:"img","aria-label":"Aplause"},"\ud83c\udf89\ud83c\udf8a Feliz ",b()().diff(this.state.user.birth,"years")+1," aninhos \ud83c\udf8a\ud83c\udf89"))," ",n.a.createElement("br",null),"Hoje vai ter uma festa, \ud83c\udf82 e \ud83e\udd64, muitos \ud83c\udf6c\ud83c\udf6d\ud83c\udf6c\ud83c\udf6d pra voc\xea!! ",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(sa,{style:{marginBottom:0},level:2}," ",n.a.createElement("span",{role:"img","aria-label":"Applause"}," \ud83d\udc4f\ud83d\udc4f\ud83d\udc4f ")," ")):n.a.createElement("span",null,n.a.createElement(ia,null," ",b()().diff(this.state.user.birth,"years")," aninhos polvilho, ainda faltam ")," ",n.a.createElement("br",null),n.a.createElement(U.a,{content:"\ud83d\udcc6 N\xedver: ".concat(b()(this.getNextBirthDay(this.state.user.birth)).format("DD/MM/YYYY"))},n.a.createElement(sa,{style:{marginBottom:0},level:1}," ",b()(this.getNextBirthDay(this.state.user.birth)).diff(b()(),"days")," ")),n.a.createElement(ia,null," dias para o anivers\xe1rio de ",this.state.user.username," ")):null)):null})),n.a.createElement(z.a,{loading:!this.state.userGithub,style:{textAlign:"center",marginTop:15},title:"Linguagens Conhecidas",hoverable:!0},this.state.programmingLanguages.map(function(e,t){return n.a.createElement(be.a,{style:{margin:5},key:e,color:ha[t%15]}," ",e," ")})))):"2"===this.state.tab?n.a.createElement(R.a,{loading:this.state.loadingProjects,grid:{gutter:16,column:4},size:"small",dataSource:this.state.projects,renderItem:function(t){return n.a.createElement(z.a,{key:t._id,bordered:!0,hoverable:!0,bodyStyle:{cursor:"auto",paddingBottom:6},style:{marginTop:30}},n.a.createElement(H.a,{span:8},n.a.createElement("img",{alt:"Imagem do Projeto",style:{width:"100%",maxHeight:200,objectFit:"cover"},src:t.image})),n.a.createElement(H.a,{span:16},n.a.createElement($.a,{style:{marginBottom:15}},n.a.createElement(sa,{level:3,style:{marginBottom:0},ellipsis:!0},t.name," \xa0",n.a.createElement(U.a,{overlayStyle:{width:300},title:n.a.createElement(ia,null," ",n.a.createElement(G.a,{type:da[t.status].icon})," \xa0 ",da[t.status].title," "),content:n.a.createElement(la,{style:{marginBottom:0}}," ",da[t.status].label," ")},n.a.createElement(be.a,{style:{verticalAlign:3,fontWeight:600,cursor:"pointer"},color:da[t.status].color}," ",da[t.status].title," ")),n.a.createElement(W.a,{type:"primary",onClick:function(){return e.setState({nav:"/insideProject/".concat(t._id)})},icon:"eye",style:{position:"absolute",right:0},size:"small"}))),n.a.createElement(oa.a,{tabPosition:"bottom"},n.a.createElement(ca,{tab:n.a.createElement("span",null," ",n.a.createElement(G.a,{type:"laptop"})," Projeto "),key:"1"},n.a.createElement($.a,{style:{marginBottom:15,minHeight:120}},t.customer?n.a.createElement(H.a,{span:12,style:{margin:"auto"}},n.a.createElement(la,{style:{marginBottom:10}},n.a.createElement(ia,{strong:!0}," Cliente: "),n.a.createElement(ia,null," ",t.customer.name," "))):null,n.a.createElement(H.a,{span:12,style:{margin:"auto"}},n.a.createElement(la,{style:{marginBottom:10}},n.a.createElement(ia,{strong:!0}," Pre\xe7o: "),n.a.createElement(ia,null," R$ ",t.cost.toString().replace(/[^\d]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"."),",00 "))),t.labels.length>0?n.a.createElement(H.a,{span:12,style:{margin:"auto"}},n.a.createElement(la,{style:{marginBottom:10}},n.a.createElement(ia,{strong:!0}," R\xf3tulos: "),t.labels.map(function(e){return n.a.createElement(U.a,{key:e,placement:"top",content:pa[e].title},n.a.createElement(be.a,{style:{marginBottom:3,marginRight:2,fontWeight:600},key:e,color:pa[e].color}," ",n.a.createElement(G.a,{type:pa[e].icon})," "))}))):null,t.description?n.a.createElement(H.a,{span:24,style:{margin:"auto"}},n.a.createElement(la,{ellipsis:!0,style:{marginBottom:10}},n.a.createElement(ia,{strong:!0}," Descri\xe7\xe3o: "),n.a.createElement(ia,null," ",t.description," "))):null)),n.a.createElement(ca,{tab:n.a.createElement("span",null," ",n.a.createElement(G.a,{type:"team"})," Membros "),key:"2"},n.a.createElement(R.a,{style:{marginBottom:15,minHeight:120},grid:{gutter:16,column:2},size:"small",dataSource:Object(Ae.a)(new Set([t.leader].concat(t.members))),renderItem:function(e){return n.a.createElement(H.a,{key:e._id,span:12,style:{paddingLeft:20}},n.a.createElement(p.b,{to:"/profile/".concat(e.username)},n.a.createElement(Y.a,{size:30,style:{marginBottom:5},src:e.image}),e===t.leader?n.a.createElement(U.a,{placement:"top",content:"Lider do Projeto"},n.a.createElement(Y.a,{icon:"crown",style:{cursor:"pointer",position:"absolute",bottom:0,left:40,backgroundColor:"#F7B731"},size:20})):null,n.a.createElement(ia,{style:{marginLeft:11},ellipsis:!0},e.username)))}})))))}}):n.a.createElement($.a,{style:{marginBottom:0}},n.a.createElement($.a,{gutter:16,type:"flex",justify:"end",align:"top"},n.a.createElement(H.a,{span:14},n.a.createElement(sa,{id:"info",level:3,style:{fontWeight:500}}," Suas Atividades :P ")),n.a.createElement(H.a,{span:4},n.a.createElement(L.a,{onChange:function(t){return e.searchBySemester(t)},value:this.state.semesterSearch,className:"goalSelectBy",style:{width:"100%"},placeholder:"Selecione uma Meta"},n.a.createElement(ma,{value:"0"}," 1\xba Semestre "),n.a.createElement(ma,{value:"1"}," 2\xba Semestre "))),n.a.createElement(H.a,{span:6},n.a.createElement(bt.a,{onChange:function(t){return e.searchByYear(t)},allowClear:!1,onPanelChange:function(t){return e.searchByYear(t)},onOpenChange:function(t){return e.setState({openYearSearch:t})},open:this.state.openYearSearch,value:this.state.yearSearch,format:"YYYY",mode:"year"})),n.a.createElement(X.a,{style:{marginTop:0}})),n.a.createElement(R.a,{loading:this.state.loadingTasks,itemLayout:"horizontal",locale:{emptyText:"Voc\xea n\xe3o ganhou nenhum ponto ainda, mas n\xe3o fique triste ainda d\xe1 tempo \ud83d\ude1b"},loadMore:o,dataSource:this.state.userList,renderItem:function(e){return n.a.createElement(R.a.Item,null,n.a.createElement(je.a,{title:!1,loading:e.loading,active:!0},n.a.createElement(R.a.Item.Meta,{title:e.task.name,description:"Pontua\xe7\xe3o: ".concat(e.point," | Data: ").concat(b()(e.date).format("L"))})))}})))))}}]),t}(r.Component),ba=(a(769),z.a.Meta),va=K.a.Paragraph,ya=K.a.Title,Sa=K.a.Text,Pa=J.a.Search,ka=L.a.Option,Ca=[{color:"#3867D6",icon:"deployment-unit",title:"Planejamento",label:"Come\xe7ando o sofrimento denovo."},{color:"#FA8231",icon:"rocket",title:"Inicializando",label:"Fechando contrato e preparando as almas de membros para o abate."},{color:"#45AAF2",icon:"coffee",title:"Em Andamento",label:"Abastecendo os membros com caf\xe9 para manter o progresso."},{color:"#778CA3",icon:"frown",title:"Cancelado",label:"Cliente deu pra tr\xe1s."},{color:"#EB3B5A",icon:"stop",title:"Congelado",label:"Sei l\xe1, deu uma parada por agora."},{color:"#20BF6B",icon:"like",title:"Acabou",label:"Acaboooouuuu!!"}],wa=[{color:"#F7B731",title:"Consultoria"},{color:"#FED330",title:"Site"},{color:"#26DE81",title:"Aplicativo"},{color:"#0FB9B1",title:"Sistema Web"},{color:"#2BCBBA",title:"Sistema Interno"}],Fa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).search=function(e){""===e.target.value&&a.componentDidMount(),P.a.get("/api/customers/search/".concat(e.target.value)).then(function(e){var t=e.data;t.sort(function(e,t){return b()(e.createdAt).isBefore(t.createdAt)?1:b()(e.createdAt).isAfter(t.createdAt)?-1:0}),P.a.get("/api/projects").then(function(e){var r=e.data;t.forEach(function(e,a){t[a].projects=r.filter(function(t){return e._id===t.customer[0]})}),a.setState({customers:t})}).catch(function(){})}).catch(function(){})},a.filteredOptions=function(e,t){return!(t.props.label||!t.key.toLowerCase().includes(e.toLowerCase()))},a.showModalChangePassword=function(e){a.setState({visibleModalPassword:!0,customer:e})},a.showModalProfile=function(e){a.setState({visibleModalProfile:!0,customer:e})},a.hideModal=function(){a.setState({visibleModalPassword:!1,visibleModalProfile:!1,customer:""}),a.props.form.resetFields()},a.compareToFirstPassword=function(e,t,r){t&&t!==a.props.form.getFieldValue("password")?r("Senhas Diferentes!"):r()},a.validateToNextPassword=function(e,t,r){t&&a.props.form.getFieldValue("confirmPassword")&&a.props.form.validateFields(["confirmPassword"],{force:!0}),r()},a.handlePasswords=function(e){a.setState({passwordsButtonLoading:!0}),e.preventDefault(),a.props.form.validateFields(function(e,t){if(x()>4)a.setState({passwordsButtonLoading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: Voc\xea n\xe3o tem autoriza\xe7\xe3o, man\xe9"});else if(e)a.setState({passwordsButtonLoading:!1});else{var r=t.password;P.a.put("/api/customers",{id:a.state.customer._id,password:r}).then(function(){a.setState({passwordsButtonLoading:!1}),a.hideModal(),y.a.success({message:"Uhull",description:"Senha Atualizada com sucesso!"})}).catch(function(){a.setState({passwordsButtonLoading:!1}),a.hideModal(),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o sabemos ao certo, tente novamente, se persistirem os sintomas o m\xe9dico dever\xe1 ser consultado, ops, o t\xe9cnico."})})}})},a.state={loadingPage:!0,customers:[],tags:[],customer:"",visibleModalPassword:!1,visibleModalProfile:!1,passwordsButtonLoading:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/api/customers").then(function(t){var a=t.data;a.sort(function(e,t){return b()(e.createdAt).isBefore(t.createdAt)?1:b()(e.createdAt).isAfter(t.createdAt)?-1:0}),P.a.get("/api/projects").then(function(t){var r=t.data;a.forEach(function(e,t){a[t].projects=r.filter(function(t){return e._id===t.customer[0]})}),e.setState({customers:a,loadingPage:!1})}).catch(function(){})}).catch(function(){})}},{key:"render",value:function(){var e=this;if(this.state.nav)return n.a.createElement(h.a,{to:this.state.nav});if(["-1"].includes(x()))return n.a.createElement(h.a,{to:"/notAuthorizate"});var t=this.props.form,a=t.getFieldDecorator,r=t.getFieldValue,o=t.getFieldError;return n.a.createElement(me,{page:"customers"},n.a.createElement(D.a,{spinning:this.state.loadingPage},n.a.createElement($.a,{style:{marginBottom:0}},n.a.createElement(ya,{id:"info",level:2,style:{fontWeight:500}}," Nossos Clientes. "),n.a.createElement(X.a,{style:{marginTop:0}})),n.a.createElement($.a,{gutter:16,type:"flex",justify:"end"},n.a.createElement(H.a,{span:12},n.a.createElement(Pa,{placeholder:"Pesquise pelo nome, username, documento ou email",onChange:function(t){return e.search(t)},style:{marginBottom:18},size:"default"})),n.a.createElement(H.a,{span:6},n.a.createElement(L.a,{className:"membersSelectByCargo",filterOption:this.filteredOptions,onChange:function(t){return e.setState({tags:t})},style:{width:"100%"},mode:"multiple",placeholder:"Pesquise por Status de Projeto"},Ca.map(function(e,t){return n.a.createElement(ka,{key:e.title,value:t.toString()},n.a.createElement(be.a,{color:e.color}," ",e.title," "))}))),x()<5?n.a.createElement(p.b,{to:"/customerSignUp"},n.a.createElement(W.a,{type:"primary",icon:"plus"}," Adicionar Cliente ")):null),n.a.createElement($.a,{style:{marginBottom:50}},n.a.createElement(H.a,{span:22,offset:1},n.a.createElement(R.a,{grid:{gutter:16,column:4},size:"small",dataSource:this.state.customers,renderItem:function(t){return 0===e.state.tags.length||t.projects.map(function(e){return e.status.toString()}).some(function(t){return e.state.tags.includes(t)})?n.a.createElement(H.a,{style:{paddingTop:30},span:6},n.a.createElement(z.a,{bordered:!0,hoverable:!0},n.a.createElement(Y.a,{size:70,src:t.image}),n.a.createElement(U.a,{placement:"top",content:"Ver Perfil"},n.a.createElement(W.a,{size:"small",style:{position:"absolute",right:10,top:10},type:"primary",onClick:function(){return e.showModalProfile(t)},icon:"eye"})),x()<5?[n.a.createElement(W.a.Group,{key:t._id,size:"small",style:{position:"absolute",right:46,top:10}},n.a.createElement(U.a,{placement:"top",content:"Alterar Senha"},n.a.createElement(W.a,{onClick:function(){return e.showModalChangePassword(t)},icon:"lock"})))]:null,n.a.createElement(ba,{className:"meta-data-customer-card",style:{marginTop:20},title:t.name,description:[n.a.createElement(Sa,{key:t._id,type:"secondary"}," ",t.email," ")]}))):n.a.createElement("span",null)}}))),n.a.createElement(q.a,{visible:this.state.visibleModalPassword,footer:null,onCancel:this.hideModal,centered:!0},n.a.createElement($.a,{type:"flex",justify:"center"},n.a.createElement(Y.a,{size:60,src:this.state.customer.image})),n.a.createElement(va,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," Trocar Senhas "),n.a.createElement(X.a,{style:{minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},n.a.createElement(G.a,{type:"lock"})),n.a.createElement($.a,{style:{marginTop:20},gutter:16},n.a.createElement(I.a,{onSubmit:this.handlePasswords},n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Senha"},a("password",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira uma nova senha!"},{min:6,message:"Por favor, insira uma senha maior que 5!"},{validator:this.validateToNextPassword}]})(n.a.createElement(J.a.Password,{prefix:n.a.createElement(G.a,{type:"lock",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Nova Senha"})))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Confirmar Senha",hasFeedback:!0,validateStatus:o("confirmPassword")?"error":r("confirmPassword")?"success":""},a("confirmPassword",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira uma senha!"},{min:6,message:"Por favor, insira uma senha maior que 5!"},{validator:this.compareToFirstPassword}]})(n.a.createElement(J.a,{type:"password",prefix:n.a.createElement(G.a,{type:"lock",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Repita a Nova Senha"}))))),n.a.createElement($.a,{style:{textAlign:"right"}},n.a.createElement(W.a,{size:"default",onClick:this.hideModal,style:{marginRight:8}}," Cancelar "),n.a.createElement(W.a,{loading:this.state.passwordsButtonLoading,type:"primary",htmlType:"submit",size:"default"}," Cadastrar Nova Senha "))))),n.a.createElement(q.a,{visible:this.state.visibleModalProfile,footer:null,onCancel:this.hideModal,centered:!0},n.a.createElement($.a,{type:"flex",justify:"center"},n.a.createElement(Y.a,{size:60,src:this.state.customer.image})),n.a.createElement(va,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," Outras Informa\xe7\xf5es "),n.a.createElement(X.a,{style:{minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},n.a.createElement(G.a,{type:"crown"})),n.a.createElement($.a,{style:{padding:20,paddingBottom:0},gutter:16},n.a.createElement(ya,{level:4,style:{fontWeight:500}}," Informa\xe7\xf5es B\xe1sicas "),n.a.createElement(va,{style:{marginLeft:20,marginBottom:3}},n.a.createElement(Sa,{strong:!0}," Documento: "),n.a.createElement(Sa,{copyable:!0},this.state.customer.document)),n.a.createElement(va,{style:{marginLeft:20,marginBottom:3}},n.a.createElement(Sa,{strong:!0}," Username: "),n.a.createElement(Sa,null,"@",this.state.customer.username)),n.a.createElement(ya,{level:4,style:{fontWeight:500}}," Contato "),n.a.createElement(va,{style:{marginLeft:20,marginBottom:3}},n.a.createElement(Sa,{strong:!0}," Celular: "),n.a.createElement(Sa,{copyable:!0},this.state.customer.cellphone)),n.a.createElement(va,{style:{marginLeft:20,marginBottom:3}},n.a.createElement(Sa,{strong:!0}," Email: "),n.a.createElement(Sa,{copyable:!0},this.state.customer.email)),n.a.createElement(va,{style:{marginLeft:20,marginBottom:3}},n.a.createElement(Sa,{strong:!0}," Endere\xe7o: "),n.a.createElement(Sa,null,this.state.customer?"".concat(this.state.customer.location.address,", ").concat(this.state.customer.location.number," - ").concat(this.state.customer.location.neighborhood,", ").concat(this.state.customer.location.city," - ").concat(this.state.customer.location.uf,", ").concat(this.state.customer.location.cep,". ").concat(this.state.customer.location.complement?"(".concat(this.state.customer.location.complement,")"):""):""),n.a.createElement("a",{href:this.state.customer?"https://www.google.com/maps/search/?api=1&query=".concat("".concat(this.state.customer.location.address,", ").concat(this.state.customer.location.number," - ").concat(this.state.customer.location.neighborhood,", ").concat(this.state.customer.location.city," - ").concat(this.state.customer.location.uf,", ").concat(this.state.customer.location.cep)):null,target:"_blank",rel:"noopener noreferrer"},n.a.createElement(U.a,{content:"Ver Mapa Online"}," ",n.a.createElement(G.a,{type:"link"})," "))),n.a.createElement(ya,{level:4,style:{fontWeight:500}}," Projetos "),this.state.customer&&this.state.customer.projects.length>0?this.state.customer.projects.map(function(t){return n.a.createElement(U.a,{key:t._id,overlayStyle:{width:300},title:n.a.createElement(Sa,null," ",n.a.createElement(G.a,{type:Ca[t.status].icon})," \xa0 ",Ca[t.status].title," "),content:n.a.createElement("div",null,n.a.createElement(va,{type:"secondary",style:{textAlign:"center"}}," ",Ca[t.status].label," "),n.a.createElement(va,{style:{marginLeft:20,marginBottom:3}},n.a.createElement(Sa,{strong:!0}," Pre\xe7o: "),n.a.createElement(Sa,null," R$ ",t.cost.toString().replace(/[^\d]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"."),",00 ")),t.labels.length>0?n.a.createElement(va,{style:{marginLeft:20,marginBottom:3}},n.a.createElement(Sa,{strong:!0}," Labels: "),t.labels.map(function(e){return n.a.createElement(be.a,{style:{marginBottom:3,marginRight:2,fontWeight:600},key:e,color:wa[e].color}," ",wa[e].title," ")})):null)},n.a.createElement(Sa,{style:{cursor:"pointer"},onClick:function(){return e.setState({nav:"/insideProject/".concat(t._id)})}},n.a.createElement(Y.a,{size:5,style:{backgroundColor:Ca[t.status].color,verticalAlign:"text-top",marginLeft:20}}),n.a.createElement(Sa,null," ",t.name," "),n.a.createElement("br",null)))}):n.a.createElement(va,null," Este cliente ainda n\xe3o tem nenhum projeto ",n.a.createElement("span",{role:"img","aria-label":"Triste"},"\ud83d\ude25"),". ")))))}}]),t}(r.Component),xa=I.a.create()(Fa),Ba=Qt.a.Step,Aa=K.a.Title,ja=L.a.Option,Ta=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).documentValidation=function(e,t,r){var n=a.state.users,o=a.documentMask(t);a.props.form.setFieldsValue({document:o}),o?n[n.map(function(e){return e.document}).indexOf(o)]&&o!==a.state.user.document?r("Documento j\xe1 Cadastrado!"):14!==o.length&&0===a.props.form.getFieldValue("documentType")?r("CPF deve ter 11 d\xedgitos!"):18!==o.length&&1===a.props.form.getFieldValue("documentType")?r("CPNJ deve ter 14 d\xedgitos!"):r():r(),void 0===a.props.form.isFieldValidating("document")&&a.props.form.validateFields(["document"])},a.usernameValidation=function(e,t,r){var n=a.state.users;a.props.form.setFieldsValue({username:t.replace(/ /g,"")}),n[n.map(function(e){return e.username}).indexOf(t)]?r("Username j\xe1 Cadastrado!"):r()},a.emailValidation=function(e,t,r){var n=a.state.users;n[n.map(function(e){return e.email}).indexOf(t)]?r("Email j\xe1 Cadastrado!"):r()},a.cellphoneValidation=function(e,t,r){var n=t?t.substring(0,16).replace(/[^\d]/g,"").replace(/^(\d{2})(\d{1})(\d{4})(\d)/,"($1) $2 $3-$4"):"";a.props.form.setFieldsValue({cellphone:n}),n&&16!==n.toString().length?r("Telefone deve ter 16 d\xedgitos!"):r(),void 0===a.props.form.isFieldValidating("cellphone")&&a.props.form.validateFields(["cellphone"])},a.cepValidation=function(){var e=Object(ze.a)(Ne.a.mark(function e(t,r,n){var o,s;return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r?r.substring(0,9).replace(/[^\d]/g,"").replace(/^(\d{5})(\d)/,"$1-$2"):"",a.props.form.setFieldsValue({cep:o}),!o||9!==o.length){e.next=15;break}return e.prev=3,e.next=6,P.a.get("http://api.postmon.com.br/v1/cep/".concat(o));case 6:200===(s=e.sent).status&&(a.props.form.setFieldsValue({city:s.data.cidade,uf:s.data.estado}),a.setState({hasAddress:!0,hasNeighborhood:!0}),s.data.logradouro?a.props.form.setFieldsValue({address:s.data.logradouro}):a.setState({hasAddress:!1}),s.data.bairro?a.props.form.setFieldsValue({neighborhood:s.data.bairro}):a.setState({hasNeighborhood:!1}),n()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n("CEP n\xe3o Existe!");case 13:e.next=16;break;case 15:o&&9!==o.length?n("CEP deve ter 9 d\xedgitos!"):n();case 16:void 0===a.props.form.isFieldValidating("cep")&&a.props.form.validateFields(["cep"]);case 17:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t,a,r){return e.apply(this,arguments)}}(),a.compareToFirstPassword=function(e,t,r){t&&t!==a.props.form.getFieldValue("password")?r("Senhas Diferentes!"):r()},a.validateToNextPassword=function(e,t,r){t&&a.props.form.getFieldValue("confirmPassword")&&a.props.form.validateFields(["confirmPassword"],{force:!0}),r()},a.documentMask=function(e){return e?0===a.props.form.getFieldValue("documentType")?"".concat(e).substring(0,14).replace(/[^\d]/g,"").replace(/^(\d{3})(\d{3})(\d{3})(\d)/,"$1.$2.$3-$4"):"".concat(e).substring(0,18).replace(/[^\d]/g,"").replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d)/,"$1.$2.$3/$4-$5"):""},a.prevStep=function(){var e=a.state.current-1,t={cep:a.props.form.getFieldValue("cep"),neighborhood:a.props.form.getFieldValue("neighborhood"),address:a.props.form.getFieldValue("address"),number:a.props.form.getFieldValue("number"),complement:a.props.form.getFieldValue("complement"),city:a.props.form.getFieldValue("city"),uf:a.props.form.getFieldValue("uf")};a.setState({current:e,email:a.props.form.getFieldValue("email"),cellphone:a.props.form.getFieldValue("cellphone"),location:t})},a.nextStep=function(){var e=a.state.current+1;a.props.form.validateFields(["document","documentType","username","name","password","confirmPassword"],function(t,r){t||a.setState({current:e,document:r.document,documentType:r.documentType,username:r.username,name:r.name,password:r.password})})},a.beforeUploadPhoto=function(e){if("image/jpeg"===e.type||"image/png"===e.type){var t=[e];return a.setState({newProfilePhoto:t}),!0}return te.a.error("Extens\xe3o Inv\xe1lida! Permitido apenas imagens"),a.setState({newProfilePhoto:[]}),!1},a.changeProfilePhoto=function(){a.setState({changeProfilePhotoButtonloading:!0});var e=new FormData;e.append("api_key","784737987534174"),e.append("timestamp",Date.now()/1e3),e.append("upload_preset","hatsxc2p"),e.append("file",a.state.newProfilePhoto[0]),P.a.post("https://api.cloudinary.com/v1_1/haken/image/upload",e,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){a.setState({profilePhoto:e.data.secure_url,changeProfilePhotoButtonloading:!1})}).catch(function(){a.setState({newProfilePhoto:[],changeProfilePhotoButtonloading:!1})})},a.handleSubmit=function(){a.setState({buttonloading:!0}),a.props.form.validateFields(["email","cellphone","cep","neighborhood","address","number","complement","city","uf"],function(e,t){if(e)a.setState({buttonloading:!1});else{var r=t.email,n=t.cellphone,o=t.cep,s=t.address,i=t.neighborhood,l=t.number,c=t.complement,m=t.city,u=t.uf,d=a.state,p=d.document,h=d.documentType,g=d.name,f=d.username,E=d.password,b={cep:o,address:s,neighborhood:i,number:l,complement:c,city:m,uf:u},v=d.profilePhoto||"https://api.adorable.io/avatars/285/".concat(f,".png");P.a.post("/api/customers",{document:p,documentType:h.toString(),name:g,username:f,cellphone:n,email:r,location:b,image:v,password:E}).then(function(){y.a.success({message:"Tudo Certo!",description:"Informa\xe7\xf5es Cadastradas!"}),a.setState({buttonloading:!1,nav:"/customers"})}).catch(function(){a.setState({buttonloading:!1}),y.a.error({message:"Opa!",description:"Houve um problema aqui: N\xe3o conseguimos enviar dados no Servidor."})})}})},a.state={users:[],current:0,document:"",documentType:0,username:"",name:"",password:"",email:"",cellphone:"",location:{cep:"",neighborhood:"",address:"",number:null,complement:"",city:"",uf:""},hasAddress:!0,hasNeighborhood:!0,newProfilePhoto:[],profilePhoto:"",buttonloading:!1,changeProfilePhotoButtonloading:!1,nav:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/api/customers").then(function(t){e.setState({users:t.data})})}},{key:"render",value:function(){var e=this;if(this.state.nav)return n.a.createElement(h.a,{to:this.state.nav});if(["-1","5","6","7"].includes(x()))return n.a.createElement(h.a,{to:"/notAuthorizate"});var t=this.props.form,a=t.getFieldDecorator,r=t.getFieldError,o=t.getFieldValue;return n.a.createElement(me,{page:"customers"},n.a.createElement($.a,{gutter:16,style:{marginBottom:60}},n.a.createElement(H.a,{span:16,offset:4},0===this.state.current?n.a.createElement($.a,null,n.a.createElement(Aa,{id:"info",level:2,style:{fontWeight:500,marginBottom:4}}," Dados Pessoais "),n.a.createElement(X.a,{style:{marginTop:0}}),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:8},n.a.createElement(Y.a,{shape:"square",size:200,src:this.state.profilePhoto?this.state.profilePhoto:o("username")?"https://api.adorable.io/avatars/285/".concat(o("username"),".png"):"https://api.adorable.io/avatars/285/".concat(this.state.username,".png")}),n.a.createElement(_e.a,{beforeUpload:this.beforeUploadPhoto,customRequest:this.changeProfilePhoto,fileList:this.state.newProfilePhoto,showUploadList:!1,accept:"image/*"},n.a.createElement(W.a,{loading:this.state.changeProfilePhotoButtonloading,icon:"plus",type:"primary",style:{backgroundColor:"#383A3F",borderColor:"#383A3F",position:"absolute",bottom:5,left:12}}," Adicionar Imagem "))),n.a.createElement(H.a,{span:14},n.a.createElement(I.a,{onSubmit:this.handleSubmitInfo},n.a.createElement(I.a.Item,{label:"Documento",hasFeedback:!0,validateStatus:r("document")?"error":o("document")?"success":""},n.a.createElement(J.a.Group,{compact:!0},a("document",{initialValue:this.state.document,rules:[{required:!0,message:"Por favor, insira um documento!"},{validator:this.documentValidation}]})(n.a.createElement(J.a,{style:{width:"80%"},placeholder:"Documento"})),a("documentType",{initialValue:this.state.documentType})(n.a.createElement(L.a,{style:{width:"20%"}},n.a.createElement(ja,{value:0}," CPF "),n.a.createElement(ja,{value:1}," CNPJ "))))),n.a.createElement(I.a.Item,{label:"Username",hasFeedback:!0,validateStatus:r("username")?"error":o("username")?"success":""},a("username",{initialValue:this.state.username,rules:[{required:!0,whitespace:!0,message:"Por favor, insira um username!"},{validator:this.usernameValidation}]})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"smile",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Username"}))),n.a.createElement(I.a.Item,{label:"Nome",hasFeedback:!0,validateStatus:r("name")?"error":o("name")?"success":""},a("name",{initialValue:this.state.name,rules:[{required:!0,whitespace:!0,message:"Por favor, insira um nome!"}]})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"user",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Nome"}))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Senha"},a("password",{initialValue:this.state.password,rules:[{required:!0,whitespace:!0,message:"Por favor, insira uma senha!"},{min:6,message:"Por favor, insira uma senha maior que 5!"},{validator:this.validateToNextPassword}]})(n.a.createElement(J.a.Password,{prefix:n.a.createElement(G.a,{type:"lock",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Senha"})))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Confirmar Senha",hasFeedback:!0,validateStatus:r("confirmPassword")?"error":o("confirmPassword")?"success":""},a("confirmPassword",{initialValue:this.state.password,rules:[{required:!0,whitespace:!0,message:"Por favor, insira uma senha!"},{min:6,message:"Por favor, insira uma senha maior que 5!"},{validator:this.compareToFirstPassword}]})(n.a.createElement(J.a,{type:"password",prefix:n.a.createElement(G.a,{type:"lock",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Repita a Senha"}))))))))):n.a.createElement($.a,null,n.a.createElement(Aa,{id:"contact-info",level:2,style:{fontWeight:500,marginBottom:4}}," Dados de Contato "),n.a.createElement(X.a,{style:{marginTop:0}}),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:14,offset:5},n.a.createElement(I.a,{onSubmit:this.handleSubmitContactInfo},n.a.createElement(I.a.Item,{label:"Email",hasFeedback:!0,validateStatus:r("email")?"error":o("email")?"success":""},a("email",{initialValue:this.state.email,rules:[{required:!0,whitespace:!0,message:"Por favor, insira um email!"},{validator:this.emailValidation},{type:"email",message:"Por favor, insira um email v\xe1lido!"}]})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"mail",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Email"}))),n.a.createElement(I.a.Item,{label:"Telefone Celular",style:{width:"200px"},hasFeedback:!0,validateStatus:r("cellphone")?"error":o("cellphone")?"success":""},a("cellphone",{initialValue:this.state.cellphone,rules:[{required:!0,message:"Por favor, insira um celular!"},{validator:this.cellphoneValidation}]})(n.a.createElement(J.a,{style:{width:"100%"},placeholder:"Telefone Celular"}))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:6},n.a.createElement(I.a.Item,{label:"CEP",hasFeedback:!0,validateStatus:r("cep")?"error":o("cep")?"success":""},a("cep",{initialValue:this.state.location.cep,rules:[{required:!0,message:"Por favor, insira um cep!"},{validator:this.cepValidation}]})(n.a.createElement(J.a,{style:{width:"100%"},placeholder:"CEP"})))),n.a.createElement(H.a,{span:18},n.a.createElement(I.a.Item,{label:"Bairro",hasFeedback:!0,validateStatus:r("neighborhood")?"error":o("neighborhood")?"success":""},a("neighborhood",{initialValue:this.state.location.neighborhood,rules:[{required:!0,whitespace:!0,message:"Por favor, insira um bairro!"}]})(n.a.createElement(J.a,{disabled:this.state.hasNeighborhood,prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Bairro"}))))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:18},n.a.createElement(I.a.Item,{label:"Endere\xe7o",hasFeedback:!0,validateStatus:r("address")?"error":o("address")?"success":""},a("address",{initialValue:this.state.location.address,rules:[{required:!0,whitespace:!0,message:"Por favor, insira um endere\xe7o!"}]})(n.a.createElement(J.a,{disabled:this.state.hasAddress,prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Endere\xe7o"})))),n.a.createElement(H.a,{span:6},n.a.createElement(I.a.Item,{label:"N\xfamero",hasFeedback:!0,validateStatus:r("number")?"error":o("number")?"success":""},a("number",{initialValue:this.state.location.number,rules:[{required:!0,message:"Por favor, insira um n\xfamero!"}]})(n.a.createElement(O.a,{className:"no-number-options",placeholder:"N\xfamero"}))))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:9},n.a.createElement(I.a.Item,{label:"Complemento",hasFeedback:!0,validateStatus:r("complement")?"error":o("complement")?"success":""},a("complement",{initialValue:this.state.location.complement})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Complemento"})))),n.a.createElement(H.a,{span:10},n.a.createElement(I.a.Item,{label:"Cidade",hasFeedback:!0,validateStatus:r("city")?"error":o("city")?"success":""},a("city",{initialValue:this.state.location.city,rules:[{required:!0,whitespace:!0,message:"Por favor, insira uma cidade!"}]})(n.a.createElement(J.a,{disabled:!0,prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Cidade"})))),n.a.createElement(H.a,{span:5},n.a.createElement(I.a.Item,{label:"Estado",hasFeedback:!0,validateStatus:r("uf")?"error":o("uf")?"success":""},a("uf",{initialValue:this.state.location.uf,rules:[{required:!0,whitespace:!0,message:"Por favor, insira um estado!"}]})(n.a.createElement(J.a,{disabled:!0,prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Estado"}))))))))),n.a.createElement($.a,null,n.a.createElement(H.a,{span:14,offset:8,style:{textAlign:"right"}},this.state.current<1?n.a.createElement(W.a,{type:"primary",onClick:function(){return e.nextStep()}},"Pr\xf3ximo ",n.a.createElement(G.a,{type:"arrow-right"})):null)),n.a.createElement($.a,null,n.a.createElement(H.a,{span:7,offset:5},this.state.current>0?n.a.createElement(W.a,{icon:"arrow-left",onClick:function(){return e.prevStep()}}," Anterior "):null),n.a.createElement(H.a,{span:7,style:{textAlign:"right"}},1===this.state.current?n.a.createElement(W.a,{type:"primary",onClick:function(){return e.handleSubmit()},loading:this.state.buttonloading}," Cadastrar "):null))),n.a.createElement(H.a,{span:4,style:{marginTop:32}},n.a.createElement(Qt.a,{direction:"vertical",current:this.state.current,size:"small"},n.a.createElement(Ba,{title:"Dados Pessoais",description:"Quem \xe9 o cliente?"}),n.a.createElement(Ba,{title:"Dados de Contato",description:"Onde encontramos ele?"})))))}}]),t}(r.Component),Ma=I.a.create()(Ta),Da=(a(394),a(171)),Oa=Da.a.Link,La=K.a.Title,Ia=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).RAValidation=function(e,t,r){var n=a.state.users,o=t?t.substring(0,9).replace(/[^\d]/g,""):"";a.props.form.setFieldsValue({RA:o}),o&&o.length>=10?r("RA deve ter menos que 10 d\xedgitos!"):n[n.map(function(e){return e.RA}).indexOf(o)]&&o!==a.state.user.RA?r("RA j\xe1 Cadastrado!"):r(),void 0===a.props.form.isFieldValidating("RA")&&a.props.form.validateFields(["RA"])},a.RGValidation=function(e,t,r){var n=t?t.substring(0,14).toUpperCase():"";a.props.form.setFieldsValue({RG:n}),n&&n.length>=15?r("RG deve ter menos que 15 d\xedgitos!"):r(),void 0===a.props.form.isFieldValidating("RG")&&a.props.form.validateFields(["RG"])},a.CPFValidation=function(e,t,r){var n=t?t.substring(0,14).replace(/[^\d]/g,"").replace(/^(\d{3})(\d{3})(\d{3})(\d)/,"$1.$2.$3-$4"):"";a.props.form.setFieldsValue({CPF:n}),n&&14!==n.length?r("CPF deve ter 14 d\xedgitos!"):r(),void 0===a.props.form.isFieldValidating("CPF")&&a.props.form.validateFields(["CPF"])},a.usernameValidation=function(e,t,r){var n=a.state.users;a.props.form.setFieldsValue({username:t.replace(/ /g,"")}),n[n.map(function(e){return e.username}).indexOf(t)]&&t!==a.state.user.username?r("Username j\xe1 Cadastrado!"):r(),void 0===a.props.form.isFieldValidating("username")&&a.props.form.validateFields(["username"])},a.cellphoneValidation=function(e,t,r){var n=t?t.substring(0,16).replace(/[^\d]/g,"").replace(/^(\d{2})(\d{1})(\d{4})(\d)/,"($1) $2 $3-$4"):"";a.props.form.setFieldsValue({cellphone:n}),n&&16!==n.toString().length?r("Telefone deve ter 16 d\xedgitos!"):r(),void 0===a.props.form.isFieldValidating("cellphone")&&a.props.form.validateFields(["cellphone"])},a.cepValidation=function(){var e=Object(ze.a)(Ne.a.mark(function e(t,r,n){var o,s;return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r?r.substring(0,9).replace(/[^\d]/g,"").replace(/^(\d{5})(\d)/,"$1-$2"):"",a.props.form.setFieldsValue({cep:o}),!o||9!==o.length){e.next=15;break}return e.prev=3,e.next=6,P.a.get("http://api.postmon.com.br/v1/cep/".concat(o));case 6:200===(s=e.sent).status&&(a.props.form.setFieldsValue({city:s.data.cidade,uf:s.data.estado}),a.setState({hasAddress:!0,hasNeighborhood:!0}),s.data.logradouro?a.props.form.setFieldsValue({address:s.data.logradouro}):a.setState({hasAddress:!1}),s.data.bairro?a.props.form.setFieldsValue({neighborhood:s.data.bairro}):a.setState({hasNeighborhood:!1}),n()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n("CEP n\xe3o Existe!");case 13:e.next=16;break;case 15:o&&9!==o.length?n("CEP deve ter 9 d\xedgitos!"):n();case 16:void 0===a.props.form.isFieldValidating("cep")&&a.props.form.validateFields(["cep"]);case 17:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t,a,r){return e.apply(this,arguments)}}(),a.compareToFirstPassword=function(e,t,r){t&&t!==a.props.form.getFieldValue("password")?r("Senhas Diferentes!"):r()},a.validateToNextPassword=function(e,t,r){t&&a.props.form.getFieldValue("confirmPassword")&&a.props.form.validateFields(["confirmPassword"],{force:!0}),r()},a.beforeUploadPhoto=function(e){if("image/jpeg"===e.type||"image/png"===e.type){var t=[e];return a.setState({newProfilePhoto:t}),!0}return te.a.error("Extens\xe3o Inv\xe1lida! Permitido apenas imagens"),a.setState({newProfilePhoto:[]}),!1},a.changeProfilePhoto=function(){a.setState({changeProfilePhotoButtonloading:!0});var e=new FormData;e.append("api_key","784737987534174"),e.append("timestamp",Date.now()/1e3),e.append("upload_preset","hatsxc2p"),e.append("file",a.state.newProfilePhoto[0]),P.a.post("https://api.cloudinary.com/v1_1/haken/image/upload",e,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){var t=a.state.user._id,r=e.data.secure_url;P.a.put("/api/members",{id:t,image:r}).then(function(){y.a.success({message:"Uhull",description:"Foto de Perfil Atualizada!"}),a.setState({changeProfilePhotoButtonloading:!1}),a.componentDidMount()}).catch(function(){a.setState({changeProfilePhotoButtonloading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos enviar dados no Servidor."})})}).catch(function(){a.setState({changeProfilePhotoButtonloading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos enviar dados no Servidor de Imagens."})})},a.handleSubmitInfo=function(e){e.preventDefault(),a.setState({infoButtonloading:!0}),a.props.form.validateFields(["RA","RG","CPF","username","name","birth"],function(e,t){if(e)a.setState({infoButtonloading:!1});else{var r=a.state.user._id,n=t.RA,o=t.RG,s=t.CPF,i=t.username,l=t.name,c=t.birth;P.a.put("/api/members",{id:r,RA:n,RG:o,CPF:s,username:i,name:l,birth:c}).then(function(){y.a.success({message:"Uhull",description:"Informa\xe7\xf5es Atualizadas!"}),a.setState({infoButtonloading:!1}),a.componentDidMount()}).catch(function(){a.setState({infoButtonloading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos enviar dados no Servidor."})})}})},a.handleSubmitContactInfo=function(e){e.preventDefault(),a.setState({contactInfoButtonloading:!0}),a.props.form.validateFields(["email","cellphone","cep","address","neighborhood","number","complement","city","uf"],function(e,t){if(e)a.setState({contactInfoButtonloading:!1});else{var r=a.state.user._id,n=t.email,o=t.cellphone,s={cep:t.cep,address:t.address,neighborhood:t.neighborhood,number:t.number,complement:t.complement,city:t.city,uf:t.uf};P.a.put("/api/members",{id:r,email:n,cellphone:o,location:s}).then(function(){y.a.success({message:"Uhull",description:"Informa\xe7\xf5es Atualizadas!"}),a.setState({contactInfoButtonloading:!1}),a.componentDidMount()}).catch(function(){a.setState({contactInfoButtonloading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos enviar dados no Servidor."})})}})},a.handleSubmitChangePassword=function(e){e.preventDefault(),a.setState({changePasswordButtonloading:!0}),a.props.form.validateFields(["password","confirmPassword"],function(e,t){if(e)a.setState({changePasswordButtonloading:!1});else{var r=a.state.user._id,n=t.password;P.a.put("/api/members",{id:r,password:n}).then(function(){y.a.success({message:"Uhull",description:"Informa\xe7\xf5es Atualizadas!"}),a.setState({changePasswordButtonloading:!1}),a.componentDidMount()}).catch(function(){a.setState({changePasswordButtonloading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o conseguimos enviar dados no Servidor."})})}})},a.handleUnlinkGithubAccount=function(e){e.preventDefault(),a.setState({githubButtonloading:!0}),P.a.put("/api/members",{id:A(),githubCode:""}).then(function(){y.a.success({message:"Voc\xea desconectou a conta com o Github!!",description:"AEE! HACCOON est\xe1 de portas abertas."}),a.setState({githubButtonloading:!1,nav:"/home"})}).catch(function(){a.setState({githubButtonloading:!1}),y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o foi poss\xedvel conectar no servidor"})})},a.state={user:"",users:[],hasAddress:!0,hasNeighborhood:!0,newProfilePhoto:[],infoButtonloading:!1,contactInfoButtonloading:!1,changeProfilePhotoButtonloading:!1,changePasswordButtonloading:!1,githubButtonloading:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/api/members").then(function(t){e.setState({users:t.data})}),P.a.get("/api/members/id/".concat(A())).then(function(t){e.setState({user:t.data,newProfilePhoto:[]}),e.props.form.setFieldsValue({RA:t.data.RA,username:t.data.username,name:t.data.name,email:t.data.email,birth:b()(t.data.birth),cellphone:t.data.cellphone,RG:t.data.RG,CPF:t.data.CPF,cep:t.data.location.cep,address:t.data.location.address,neighborhood:t.data.location.neighborhood,city:t.data.location.city,number:t.data.location.number,complement:t.data.location.complement,uf:t.data.location.uf,password:"",confirmPassword:""})})}},{key:"render",value:function(){if(this.state.nav)return n.a.createElement(h.a,{to:this.state.nav});var e=this.props.form,t=e.getFieldDecorator,a=e.getFieldError,r=e.getFieldValue;return n.a.createElement(D.a,{spinning:!this.state.user},n.a.createElement($.a,{style:{marginBottom:60}},n.a.createElement(H.a,{span:16,offset:4},n.a.createElement(La,{id:"info",level:2,style:{fontWeight:500,marginBottom:4}}," Seus Dados "),n.a.createElement(X.a,{style:{marginTop:0}}),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:8},n.a.createElement(Y.a,{shape:"square",size:200,src:this.state.user.image}),n.a.createElement(_e.a,{beforeUpload:this.beforeUploadPhoto,customRequest:this.changeProfilePhoto,fileList:this.state.newProfilePhoto,showUploadList:!1,accept:"image/*"},n.a.createElement(W.a,{loading:this.state.changeProfilePhotoButtonloading,icon:"edit",type:"primary",style:{backgroundColor:"#383A3F",borderColor:"#383A3F",position:"absolute",bottom:5,left:12}}," Editar Imagem "))),n.a.createElement(H.a,{span:14},n.a.createElement(I.a,{onSubmit:this.handleSubmitInfo},n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"RA",hasFeedback:!0,validateStatus:a("RA")?"error":r("RA")&&r("RA")!==this.state.user.RA?"success":""},t("RA",{rules:[{required:!0,message:"Por favor, insira um RA!"},{validator:this.RAValidation}]})(n.a.createElement(J.a,{style:{width:"100%"},placeholder:"RA"})))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Data de Nascimento",hasFeedback:!0,validateStatus:a("birth")?"error":r("birth")&&!b()(this.state.user.birth).isSame(r("birth"))?"success":""},t("birth",{rules:[{required:!0,message:"Por favor, insira uma data!"}]})(n.a.createElement(bt.a,{placeholder:"Data de Nascimento",format:"DD/MM/YYYY"}))))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"RG",hasFeedback:!0,validateStatus:a("RG")?"error":r("RG")&&r("RG")!==this.state.user.RG?"success":""},t("RG",{rules:[{required:!0,message:"Por favor, insira um RG!"},{validator:this.RGValidation}]})(n.a.createElement(J.a,{style:{width:"100%"},placeholder:"RG"})))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"CPF",hasFeedback:!0,validateStatus:a("CPF")?"error":r("CPF")&&r("CPF")!==this.state.user.CPF?"success":""},t("CPF",{rules:[{required:!0,message:"Por favor, insira um CPF!"},{validator:this.CPFValidation}]})(n.a.createElement(J.a,{style:{width:"100%"},placeholder:"CPF"}))))),n.a.createElement(I.a.Item,{label:"Username",hasFeedback:!0,validateStatus:a("username")?"error":r("username")&&r("username")!==this.state.user.username?"success":""},t("username",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira um username!"},{validator:this.usernameValidation}]})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"smile",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Username"}))),n.a.createElement(I.a.Item,{label:"Nome",hasFeedback:!0,validateStatus:a("name")?"error":r("name")&&r("name")!==this.state.user.name?"success":""},t("name",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira um nome!"}]})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"user",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Nome"}))),n.a.createElement($.a,{style:{textAlign:"right"}},n.a.createElement(W.a,{style:{marginRight:10},onClick:this.handleUnlinkGithubAccount,icon:"github",loading:this.state.githubButtonloading,type:"danger"}," Desvincular Conta "),n.a.createElement(W.a,{loading:this.state.infoButtonloading,htmlType:"submit",type:"primary"}," Alterar Dados "))))),n.a.createElement(La,{id:"contact-info",level:2,style:{fontWeight:500,marginBottom:4,marginTop:40}}," Dados de Contato "),n.a.createElement(X.a,{style:{marginTop:0}}),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:14,offset:8},n.a.createElement(I.a,{onSubmit:this.handleSubmitContactInfo},n.a.createElement(I.a.Item,{label:"Email",hasFeedback:!0,validateStatus:a("email")?"error":r("email")&&r("email")!==this.state.user.email?"success":""},t("email",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira um email!"},{type:"email",message:"Por favor, insira um email v\xe1lido!"}]})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"mail",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Email"}))),n.a.createElement(I.a.Item,{label:"Telefone Celular",style:{width:"200px"},hasFeedback:!0,validateStatus:a("cellphone")?"error":r("cellphone")&&r("cellphone")!==this.state.user.cellphone?"success":""},t("cellphone",{rules:[{required:!0,message:"Por favor, insira um celular!"},{validator:this.cellphoneValidation}]})(n.a.createElement(J.a,{style:{width:"100%"},placeholder:"Telefone Celular"}))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:6},n.a.createElement(I.a.Item,{label:"CEP",hasFeedback:!0,validateStatus:a("cep")?"error":r("cep")&&r("cep")!==this.state.user.location.cep?"success":""},t("cep",{rules:[{required:!0,message:"Por favor, insira um cep!"},{validator:this.cepValidation}]})(n.a.createElement(J.a,{style:{width:"100%"},placeholder:"CEP"})))),n.a.createElement(H.a,{span:18},n.a.createElement(I.a.Item,{label:"Bairro",hasFeedback:!0,validateStatus:a("neighborhood")?"error":r("neighborhood")&&r("neighborhood")!==this.state.user.location.neighborhood?"success":""},t("neighborhood",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira um bairro!"}]})(n.a.createElement(J.a,{disabled:this.state.hasNeighborhood,prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Bairro"}))))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:18},n.a.createElement(I.a.Item,{label:"Endere\xe7o",hasFeedback:!0,validateStatus:a("address")?"error":r("address")&&r("address")!==this.state.user.location.address?"success":""},t("address",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira um endere\xe7o!"}]})(n.a.createElement(J.a,{disabled:this.state.hasAddress,prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Endere\xe7o"})))),n.a.createElement(H.a,{span:6},n.a.createElement(I.a.Item,{label:"N\xfamero",hasFeedback:!0,validateStatus:a("number")?"error":r("number")&&r("number")!==this.state.user.location.number?"success":""},t("number",{rules:[{required:!0,message:"Por favor, insira um n\xfamero!"}]})(n.a.createElement(O.a,{className:"no-number-options",placeholder:"N\xfamero"}))))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:9},n.a.createElement(I.a.Item,{label:"Complemento",hasFeedback:!0,validateStatus:a("complement")?"error":r("complement")&&r("complement")!==this.state.user.location.complement?"success":""},t("complement")(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Complemento"})))),n.a.createElement(H.a,{span:10},n.a.createElement(I.a.Item,{label:"Cidade",hasFeedback:!0,validateStatus:a("city")?"error":r("city")&&r("city")!==this.state.user.location.city?"success":""},t("city",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira uma cidade!"}]})(n.a.createElement(J.a,{disabled:!0,prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Cidade"})))),n.a.createElement(H.a,{span:5},n.a.createElement(I.a.Item,{label:"Estado",hasFeedback:!0,validateStatus:a("uf")?"error":r("uf")&&r("uf")!==this.state.user.location.uf?"success":""},t("uf",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira um estado!"}]})(n.a.createElement(J.a,{disabled:!0,prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Estado"}))))),n.a.createElement($.a,{style:{textAlign:"right"}},n.a.createElement(W.a,{loading:this.state.contactInfoButtonloading,htmlType:"submit",type:"primary"}," Alterar Dados "))))),n.a.createElement(La,{id:"change-password",level:2,style:{fontWeight:500,marginBottom:4,marginTop:40}}," Trocar Senha "),n.a.createElement(X.a,{style:{marginTop:0}}),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:14,offset:8},n.a.createElement(I.a,{onSubmit:this.handleSubmitChangePassword},n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Senha"},t("password",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira uma senha!"},{min:6,message:"Por favor, insira uma senha maior que 5!"},{validator:this.validateToNextPassword}]})(n.a.createElement(J.a.Password,{prefix:n.a.createElement(G.a,{type:"lock",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Senha"})))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Confirmar Senha",hasFeedback:!0,validateStatus:a("confirmPassword")?"error":r("confirmPassword")?"success":""},t("confirmPassword",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira uma senha!"},{min:6,message:"Por favor, insira uma senha maior que 5!"},{validator:this.compareToFirstPassword}]})(n.a.createElement(J.a,{type:"password",prefix:n.a.createElement(G.a,{type:"lock",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Repita a Senha"}))))),n.a.createElement($.a,{style:{textAlign:"right"}},n.a.createElement(W.a,{loading:this.state.changePasswordButtonloading,htmlType:"submit",type:"primary"}," Alterar Senha ")))))),n.a.createElement(H.a,{span:4,style:{marginTop:60}},n.a.createElement(Da.a,{offsetTop:20,bounds:500},n.a.createElement(Oa,{href:"#info",title:"Informa\xe7\xf5es B\xe1sicas"}),n.a.createElement(Oa,{href:"#contact-info",title:"Informa\xe7\xf5es de Contato"}),n.a.createElement(Oa,{href:"#change-password",title:"Trocar Senha"})))))}}]),t}(r.Component),Ra=I.a.create()(Ia),Va=Da.a.Link,_a=K.a.Title,qa=L.a.Option,Na=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).documentValidation=function(e,t,r){var n=a.state.users,o=a.documentMask(t);a.props.form.setFieldsValue({document:o}),o?n[n.map(function(e){return e.document}).indexOf(o)]&&o!==a.state.user.document?r("Documento j\xe1 Cadastrado!"):14!==o.length&&0===a.props.form.getFieldValue("documentType")?r("CPF deve ter 11 d\xedgitos!"):18!==o.length&&1===a.props.form.getFieldValue("documentType")?r("CPNJ deve ter 14 d\xedgitos!"):r():r(),void 0===a.props.form.isFieldValidating("document")&&a.props.form.validateFields(["document"])},a.usernameValidation=function(e,t,r){var n=a.state.users;a.props.form.setFieldsValue({username:t.replace(/ /g,"")}),n[n.map(function(e){return e.username}).indexOf(t)]&&t!==a.state.user.username?r("Username j\xe1 Cadastrado!"):r()},a.emailValidation=function(e,t,r){var n=a.state.users;n[n.map(function(e){return e.email}).indexOf(t)]&&t!==a.state.user.email?r("Email j\xe1 Cadastrado!"):r()},a.cellphoneValidation=function(e,t,r){var n=t?t.substring(0,16).replace(/[^\d]/g,"").replace(/^(\d{2})(\d{1})(\d{4})(\d)/,"($1) $2 $3-$4"):"";a.props.form.setFieldsValue({cellphone:n}),n&&16!==n.toString().length?r("Telefone deve ter 16 d\xedgitos!"):r(),void 0===a.props.form.isFieldValidating("cellphone")&&a.props.form.validateFields(["cellphone"])},a.cepValidation=function(){var e=Object(ze.a)(Ne.a.mark(function e(t,r,n){var o,s;return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r?r.substring(0,9).replace(/[^\d]/g,"").replace(/^(\d{5})(\d)/,"$1-$2"):"",a.props.form.setFieldsValue({cep:o}),!o||9!==o.length){e.next=15;break}return e.prev=3,e.next=6,P.a.get("http://api.postmon.com.br/v1/cep/".concat(o));case 6:200===(s=e.sent).status&&(a.props.form.setFieldsValue({city:s.data.cidade,uf:s.data.estado}),a.setState({hasAddress:!0,hasNeighborhood:!0}),s.data.logradouro?a.props.form.setFieldsValue({address:s.data.logradouro}):a.setState({hasAddress:!1}),s.data.bairro?a.props.form.setFieldsValue({neighborhood:s.data.bairro}):a.setState({hasNeighborhood:!1}),n()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n("CEP n\xe3o Existe!");case 13:e.next=16;break;case 15:o&&9!==o.length?n("CEP deve ter 9 d\xedgitos!"):n();case 16:void 0===a.props.form.isFieldValidating("cep")&&a.props.form.validateFields(["cep"]);case 17:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t,a,r){return e.apply(this,arguments)}}(),a.compareToFirstPassword=function(e,t,r){t&&t!==a.props.form.getFieldValue("password")?r("Senhas Diferentes!"):r()},a.validateToNextPassword=function(e,t,r){t&&a.props.form.getFieldValue("confirmPassword")&&a.props.form.validateFields(["confirmPassword"],{force:!0}),r()},a.documentMask=function(e){return e?0===a.props.form.getFieldValue("documentType")?"".concat(e).substring(0,14).replace(/[^\d]/g,"").replace(/^(\d{3})(\d{3})(\d{3})(\d)/,"$1.$2.$3-$4"):"".concat(e).substring(0,18).replace(/[^\d]/g,"").replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d)/,"$1.$2.$3/$4-$5"):""},a.beforeUploadPhoto=function(e){if("image/jpeg"===e.type||"image/png"===e.type){var t=[e];return a.setState({newProfilePhoto:t}),!0}return te.a.error("Extens\xe3o Inv\xe1lida! Permitido apenas imagens"),a.setState({newProfilePhoto:[]}),!1},a.changeProfilePhoto=function(){a.setState({changeProfilePhotoButtonloading:!0});var e=new FormData;e.append("api_key","784737987534174"),e.append("timestamp",Date.now()/1e3),e.append("upload_preset","hatsxc2p"),e.append("file",a.state.newProfilePhoto[0]),P.a.post("https://api.cloudinary.com/v1_1/haken/image/upload",e,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){var t=a.state.user._id,r=e.data.secure_url;P.a.put("/api/customers",{id:t,image:r}).then(function(){y.a.success({message:"Uhull",description:"Foto de Perfil Atualizada!"}),a.setState({changeProfilePhotoButtonloading:!1}),a.componentDidMount()}).catch(function(){a.setState({changeProfilePhotoButtonloading:!1}),y.a.error({message:"Opa!",description:"Houve um problema aqui: N\xe3o conseguimos enviar dados no Servidor."})})}).catch(function(){a.setState({changeProfilePhotoButtonloading:!1}),y.a.error({message:"Opa!",description:"Houve um problema aqui: N\xe3o conseguimos enviar dados no Servidor de Imagens."})})},a.handleSubmitInfo=function(e){e.preventDefault(),a.setState({infoButtonloading:!0}),a.props.form.validateFields(["document","documentType","username","name"],function(e,t){if(e)a.setState({infoButtonloading:!1});else{var r=a.state.user._id,n=t.document,o=t.documentType,s=t.username,i=t.name;P.a.put("/api/customers",{id:r,document:n,documentType:o.toString(),username:s,name:i}).then(function(){y.a.success({message:"Tudo Certo!",description:"Informa\xe7\xf5es Atualizadas!"}),a.setState({infoButtonloading:!1}),a.componentDidMount()}).catch(function(){a.setState({infoButtonloading:!1}),y.a.error({message:"Opa!",description:"Houve um problema aqui: N\xe3o conseguimos enviar dados no Servidor."})})}})},a.handleSubmitContactInfo=function(e){e.preventDefault(),a.setState({contactInfoButtonloading:!0}),a.props.form.validateFields(["email","cep","address","neighborhood","number","complement","city","uf","cellphone"],function(e,t){if(e)a.setState({contactInfoButtonloading:!1});else{var r=a.state.user._id,n=t.email,o=t.cellphone,s={cep:t.cep,address:t.address,neighborhood:t.neighborhood,number:t.number,complement:t.complement,city:t.city,uf:t.uf};P.a.put("/api/customers",{id:r,email:n,cellphone:o,location:s}).then(function(){y.a.success({message:"Tudo Certo!",description:"Informa\xe7\xf5es Atualizadas!"}),a.setState({contactInfoButtonloading:!1}),a.componentDidMount()}).catch(function(){a.setState({contactInfoButtonloading:!1}),y.a.error({message:"Opa!",description:"Houve um problema aqui: N\xe3o conseguimos enviar dados no Servidor."})})}})},a.handleSubmitChangePassword=function(e){e.preventDefault(),a.setState({changePasswordButtonloading:!0}),a.props.form.validateFields(["password","confirmPassword"],function(e,t){if(e)a.setState({changePasswordButtonloading:!1});else{var r=a.state.user._id,n=t.password;P.a.put("/api/customers",{id:r,password:n}).then(function(){y.a.success({message:"Tudo Certo!",description:"Informa\xe7\xf5es Atualizadas!"}),a.setState({changePasswordButtonloading:!1}),a.componentDidMount()}).catch(function(){a.setState({changePasswordButtonloading:!1}),y.a.error({message:"Opa!",description:"Houve um problema aqui: N\xe3o conseguimos enviar dados no Servidor."})})}})},a.state={user:"",users:[],hasAddress:!0,hasNeighborhood:!0,newProfilePhoto:[],infoButtonloading:!1,contactInfoButtonloading:!1,changeProfilePhotoButtonloading:!1,changePasswordButtonloading:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/api/customers").then(function(t){e.setState({users:t.data})}),P.a.get("/api/customers/id/".concat(A())).then(function(t){e.setState({user:t.data,newProfilePhoto:[]}),e.props.form.setFieldsValue({document:t.data.document,documentType:t.data.documentType,username:t.data.username,name:t.data.name,email:t.data.email,cellphone:t.data.cellphone,cep:t.data.location.cep,address:t.data.location.address,neighborhood:t.data.location.neighborhood,city:t.data.location.city,number:t.data.location.number,complement:t.data.location.complement,uf:t.data.location.uf,password:"",confirmPassword:""})})}},{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=e.getFieldError,r=e.getFieldValue;return n.a.createElement(D.a,{spinning:!this.state.user},n.a.createElement($.a,{gutter:16,style:{marginBottom:60}},n.a.createElement(H.a,{span:16,offset:4},n.a.createElement(_a,{id:"info",level:2,style:{fontWeight:500,marginBottom:4}}," Seus Dados "),n.a.createElement(X.a,{style:{marginTop:0}}),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:8},n.a.createElement(Y.a,{shape:"square",size:200,src:this.state.user.image}),n.a.createElement(_e.a,{beforeUpload:this.beforeUploadPhoto,customRequest:this.changeProfilePhoto,fileList:this.state.newProfilePhoto,showUploadList:!1,accept:"image/*"},n.a.createElement(W.a,{loading:this.state.changeProfilePhotoButtonloading,icon:"edit",type:"primary",style:{backgroundColor:"#383A3F",borderColor:"#383A3F",position:"absolute",bottom:5,left:12}}," Editar Imagem "))),n.a.createElement(H.a,{span:14},n.a.createElement(I.a,{onSubmit:this.handleSubmitInfo},n.a.createElement(I.a.Item,{label:"Documento",hasFeedback:!0,validateStatus:a("document")?"error":r("document")&&r("document")!==this.state.user.document?"success":""},n.a.createElement(J.a.Group,{compact:!0},t("document",{rules:[{required:!0,message:"Por favor, insira um documento!"},{validator:this.documentValidation}]})(n.a.createElement(J.a,{style:{width:"80%"},placeholder:"Documento"})),t("documentType")(n.a.createElement(L.a,{style:{width:"20%"}},n.a.createElement(qa,{value:0}," CPF "),n.a.createElement(qa,{value:1}," CNPJ "))))),n.a.createElement(I.a.Item,{label:"Username",hasFeedback:!0,validateStatus:a("username")?"error":r("username")&&r("username")!==this.state.user.username?"success":""},t("username",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira um username!"},{validator:this.usernameValidation}]})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"smile",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Username"}))),n.a.createElement(I.a.Item,{label:"Nome",hasFeedback:!0,validateStatus:a("name")?"error":r("name")&&r("name")!==this.state.user.name?"success":""},t("name",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira um nome!"}]})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"user",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Nome"}))),n.a.createElement($.a,{style:{textAlign:"right"}},n.a.createElement(W.a,{loading:this.state.infoButtonloading,htmlType:"submit",type:"primary"}," Alterar Dados "))))),n.a.createElement(_a,{id:"contact-info",level:2,style:{fontWeight:500,marginBottom:4,marginTop:40}}," Dados de Contato "),n.a.createElement(X.a,{style:{marginTop:0}}),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:14,offset:8},n.a.createElement(I.a,{onSubmit:this.handleSubmitContactInfo},n.a.createElement(I.a.Item,{label:"Email",hasFeedback:!0,validateStatus:a("email")?"error":r("email")&&r("email")!==this.state.user.email?"success":""},t("email",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira um email!"},{validator:this.emailValidation},{type:"email",message:"Por favor, insira um email v\xe1lido!"}]})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"mail",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Email"}))),n.a.createElement(I.a.Item,{label:"Telefone Celular",style:{width:"200px"},hasFeedback:!0,validateStatus:a("cellphone")?"error":r("cellphone")&&r("cellphone")!==this.state.user.cellphone?"success":""},t("cellphone",{rules:[{required:!0,message:"Por favor, insira um celular!"},{validator:this.cellphoneValidation}]})(n.a.createElement(J.a,{style:{width:"100%"},placeholder:"Telefone Celular"}))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:6},n.a.createElement(I.a.Item,{label:"CEP",hasFeedback:!0,validateStatus:a("cep")?"error":r("cep")&&r("cep")!==this.state.user.location.cep?"success":""},t("cep",{rules:[{required:!0,message:"Por favor, insira um cep!"},{validator:this.cepValidation}]})(n.a.createElement(J.a,{style:{width:"100%"},placeholder:"CEP"})))),n.a.createElement(H.a,{span:18},n.a.createElement(I.a.Item,{label:"Bairro",hasFeedback:!0,validateStatus:a("neighborhood")?"error":r("neighborhood")&&r("neighborhood")!==this.state.user.location.neighborhood?"success":""},t("neighborhood",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira um bairro!"}]})(n.a.createElement(J.a,{disabled:this.state.hasNeighborhood,prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Bairro"}))))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:18},n.a.createElement(I.a.Item,{label:"Endere\xe7o",hasFeedback:!0,validateStatus:a("address")?"error":r("address")&&r("address")!==this.state.user.location.address?"success":""},t("address",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira um endere\xe7o!"}]})(n.a.createElement(J.a,{disabled:this.state.hasAddress,prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Endere\xe7o"})))),n.a.createElement(H.a,{span:6},n.a.createElement(I.a.Item,{label:"N\xfamero",hasFeedback:!0,validateStatus:a("number")?"error":r("number")&&r("number")!==this.state.user.location.number?"success":""},t("number",{rules:[{required:!0,message:"Por favor, insira um n\xfamero!"}]})(n.a.createElement(O.a,{className:"no-number-options",placeholder:"N\xfamero"}))))),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:9},n.a.createElement(I.a.Item,{label:"Complemento",hasFeedback:!0,validateStatus:a("complement")?"error":r("complement")&&r("complement")!==this.state.user.location.complement?"success":""},t("complement")(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Complemento"})))),n.a.createElement(H.a,{span:10},n.a.createElement(I.a.Item,{label:"Cidade",hasFeedback:!0,validateStatus:a("city")?"error":r("city")&&r("city")!==this.state.user.location.city?"success":""},t("city",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira uma cidade!"}]})(n.a.createElement(J.a,{disabled:!0,prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Cidade"})))),n.a.createElement(H.a,{span:5},n.a.createElement(I.a.Item,{label:"Estado",hasFeedback:!0,validateStatus:a("uf")?"error":r("uf")&&r("uf")!==this.state.user.location.uf?"success":""},t("uf",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira um estado!"}]})(n.a.createElement(J.a,{disabled:!0,prefix:n.a.createElement(G.a,{type:"home",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Estado"}))))),n.a.createElement($.a,{style:{textAlign:"right"}},n.a.createElement(W.a,{loading:this.state.contactInfoButtonloading,htmlType:"submit",type:"primary"}," Alterar Dados "))))),n.a.createElement(_a,{id:"change-password",level:2,style:{fontWeight:500,marginBottom:4,marginTop:40}}," Trocar Senha "),n.a.createElement(X.a,{style:{marginTop:0}}),n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:14,offset:8},n.a.createElement(I.a,{onSubmit:this.handleSubmitChangePassword},n.a.createElement($.a,{gutter:16},n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Senha"},t("password",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira uma senha!"},{min:6,message:"Por favor, insira uma senha maior que 5!"},{validator:this.validateToNextPassword}]})(n.a.createElement(J.a.Password,{prefix:n.a.createElement(G.a,{type:"lock",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Senha"})))),n.a.createElement(H.a,{span:12},n.a.createElement(I.a.Item,{label:"Confirmar Senha",hasFeedback:!0,validateStatus:a("confirmPassword")?"error":r("confirmPassword")?"success":""},t("confirmPassword",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira uma senha!"},{min:6,message:"Por favor, insira uma senha maior que 5!"},{validator:this.compareToFirstPassword}]})(n.a.createElement(J.a,{type:"password",prefix:n.a.createElement(G.a,{type:"lock",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Repita a Senha"}))))),n.a.createElement($.a,{style:{textAlign:"right"}},n.a.createElement(W.a,{loading:this.state.changePasswordButtonloading,htmlType:"submit",type:"primary"}," Alterar Senha ")))))),n.a.createElement(H.a,{span:4,style:{marginTop:60}},n.a.createElement(Da.a,{offsetTop:20,bounds:500},n.a.createElement(Va,{href:"#info",title:"Informa\xe7\xf5es B\xe1sicas"}),n.a.createElement(Va,{href:"#contact-info",title:"Informa\xe7\xf5es de Contato"}),n.a.createElement(Va,{href:"#change-password",title:"Trocar Senha"})))))}}]),t}(r.Component),za=I.a.create()(Na),Ya=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={status:x()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(me,null,"-1"!==this.state.status?n.a.createElement(Ra,null):n.a.createElement(za,null))}}]),t}(r.Component),Ga=(a(772),a(334)),Ua=K.a.Title,Wa=K.a.Text,Ha=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).showMainModal=function(){e.setState({mainVisible:!0,loginVisible:!1}),e.props.form.resetFields()},e.showModalLogin=function(t){e.setState({loginVisible:!0,mainVisible:!1,status:t})},e.handleSubmitLogin=function(t){t.preventDefault(),e.setState({loading:!0}),e.props.form.validateFields(function(t,a){if(t)e.setState({loading:!1});else{var r=a.param,n=a.password;1===e.state.status?P.a.post("/api/members/login",{param:r,password:n}).then(function(t){j(t.data.token,t.data.user.status,t.data.user.name,t.data.user.id),y.a.success({message:"Bem Vindo, ".concat(t.data.user.name),description:"AEE! HACCOON est\xe1 de portas abertas."}),e.setState({nav:"/home"})}).catch(function(t){e.setState({loading:!1}),401===t.response.status?y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: Credenciais Erradas Chapa."}):y.a.error({message:"Errooouu!",description:"Tem problema aqui, \xf3: N\xe3o sabemos ao certo, tente novamente, se persistirem os sintomas o m\xe9dico dever\xe1 ser consultado, ops, o t\xe9cnico."})}):P.a.post("/api/customers/login",{param:r,password:n}).then(function(t){j(t.data.token,t.data.user.status,t.data.user.name,t.data.user.id),y.a.success({message:"Bem Vindo, ".concat(t.data.user.name),description:"Seu login foi aprovado, bem-vindo!"}),e.setState({nav:"/projects"})}).catch(function(t){e.setState({loading:!1}),401===t.response.status?y.a.error({message:"Opa!",description:"Houve um problema aqui: Credenciais Erradas."}):y.a.error({message:"Opa!",description:"Houve um problema aqui: N\xe3o sabemos ao certo, em caso de d\xfavidas, contate o suporte t\xe9cnico."})})}})},e.state={nav:"",mainVisible:!0,loginVisible:!1,status:"",loading:!1},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){F()&&("-1"===x()?this.setState({nav:"/projects"}):this.setState({nav:"/home"}))}},{key:"render",value:function(){var e=this;if(this.state.nav)return n.a.createElement(h.a,{to:this.state.nav});var t=this.props.form.getFieldDecorator;return n.a.createElement($.a,null,n.a.createElement(q.a,{mask:!1,closable:!1,footer:null,visible:this.state.mainVisible,centered:!0},n.a.createElement($.a,{style:{textAlign:"center"}},n.a.createElement("img",{style:{height:60,cursor:"pointer"},src:Ga,alt:"Logo HACCOON"})),n.a.createElement($.a,{style:{textAlign:"center",marginTop:8}},n.a.createElement(Wa,null," Bem vindo ao sistema HACCOON, escolha uma das op\xe7\xf5es abaixo para fazer seu login e entrar no sistema. ")),n.a.createElement($.a,{style:{marginTop:25,textAlign:"center"}},n.a.createElement(H.a,{style:{padding:10,borderRight:"1px solid #E0E0DF"},span:12},n.a.createElement(Y.a,{style:{color:"#3867D6",backgroundColor:"#3867D638"}},n.a.createElement(G.a,{type:"crown"})),n.a.createElement(Ua,{style:{marginBottom:0,marginTop:10},level:3}," Clientes "),n.a.createElement(Wa,{type:"secondary"}," Para clientes que fazem parte da hist\xf3ria da Haken. "),n.a.createElement(W.a,{onClick:function(){return e.showModalLogin(-1)},type:"primary",style:{marginTop:10,width:"100%",backgroundColor:"#3867D6",borderColor:"#3867D6"}},n.a.createElement(G.a,{style:{fontSize:10,verticalAlign:"middle"},type:"left"})," Fazer Login")),n.a.createElement(H.a,{style:{padding:10},span:12},n.a.createElement(Y.a,{style:{color:"#20BF6B",backgroundColor:"#20BF6B38"}},n.a.createElement(G.a,{type:"team"})),n.a.createElement(Ua,{style:{marginBottom:0,marginTop:10},level:3}," Equipe "),n.a.createElement(Wa,{type:"secondary"}," Para toda fam\xedlia, nossos membros, trainees e diretores. "),n.a.createElement(W.a,{onClick:function(){return e.showModalLogin(1)},type:"primary",style:{marginTop:10,width:"100%",backgroundColor:"#20BF6B",borderColor:"#20BF6B"}},"Fazer Login ",n.a.createElement(G.a,{style:{fontSize:10,verticalAlign:"middle"},type:"right"}))))),n.a.createElement(q.a,{mask:!1,closable:!1,footer:null,visible:this.state.loginVisible,centered:!0},n.a.createElement(I.a,{onSubmit:this.handleSubmitLogin},n.a.createElement($.a,{style:{marginBottom:30}},n.a.createElement(W.a,{className:1===this.state.status?"back-button-member":"back-button-customer",onClick:this.state.loading?null:this.showMainModal,style:{fontSize:20,color:"rgba(0, 0, 0, 0.25)",padding:0,borderWidth:0}},n.a.createElement(G.a,{type:"arrow-left"}))),n.a.createElement(I.a.Item,null,t("param",1===this.state.status?{rules:[{required:!0,message:"Por favor, insira um R.A ou Username!"}]}:{rules:[{required:!0,message:"Por favor, insira um Username ou Email!"}]})(n.a.createElement(J.a,{prefix:n.a.createElement(G.a,{type:"idcard",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:1===this.state.status?"R.A ou Username":"Username ou Email"}))),n.a.createElement(I.a.Item,null,t("password",{rules:[{required:!0,message:"Por favor, insira uma senha!"},{min:6,message:"Por favor, insira uma senha maior que 5!"}]})(n.a.createElement(J.a.Password,{prefix:n.a.createElement(G.a,{type:"lock",style:{color:"rgba(0, 0, 0, .25)"}}),placeholder:"Senha"}))),n.a.createElement(I.a.Item,{style:{marginBottom:0}},n.a.createElement(W.a,{loading:this.state.loading,icon:"login",type:"primary",htmlType:"submit",style:{width:"100%",backgroundColor:"".concat(1===this.state.status?"#20BF6B":"#3867D6"),borderColor:"".concat(1===this.state.status?"#20BF6B":"#3867D6")}},"Entrar")))))}}]),t}(r.Component),$a=I.a.create()(Ha),Xa=(a(773),K.a.Title),Ja=K.a.Text,Ka=K.a.Paragraph,Qa=a(774),Za=[{color:"#F7B731",title:"Consultoria",icon:"book"},{color:"#FED330",title:"Site",icon:"desktop"},{color:"#26DE81",title:"Aplicativo",icon:"mobile"},{color:"#0FB9B1",title:"Sistema Web",icon:"ie"},{color:"#2BCBBA",title:"Sistema Interno",icon:"home"}],er=[{color:"#3867D6",icon:"deployment-unit",title:"Planejamento",label:"Come\xe7ando o sofrimento denovo."},{color:"#FA8231",icon:"rocket",title:"Inicializando",label:"Fechando contrato e preparando as almas de membros para o abate."},{color:"#45AAF2",icon:"coffee",title:"Em Andamento",label:"Abastecendo os membros com caf\xe9 para manter o progresso."},{color:"#778CA3",icon:"frown",title:"Cancelado",label:"Cliente deu pra tr\xe1s."},{color:"#EB3B5A",icon:"stop",title:"Congelado",label:"Sei l\xe1, deu uma parada por agora."},{color:"#20BF6B",icon:"like",title:"Acabou",label:"Acaboooouuuu!!"}],tr=[{name:"FEJEPAR",color:"#FC5C65"},{name:"Reuni\xe3o DIREX",color:"#FA8231"},{name:"Reuni\xe3o Geral",color:"#FD9644"},{name:"Reuni\xe3o com Cliente",color:"#F7B731"},{name:"Levantamento de Requisitos",color:"#FED330"},{name:"Planning Poker",color:"#26DE81"},{name:"Processo Seletivo",color:"#0FB9B1"},{name:"Reuni\xe3o do Conselho",color:"#2D98DA"},{name:"Reuni\xe3o de Projeto",color:"#4B7BEC"},{name:"Outros",color:"#A55EEA"}],ar=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).loadEvents=function(){P.a.get("/api/calendar").then(function(e){P.a.get("/api/members").then(function(t){var r=t.data;a.setState({members:r,events:e.data}),a.formatEvents()}).catch(function(){})}).catch(function(){})},a.loadProjects=function(){P.a.get("/api/projects").then(function(e){P.a.get("/api/members").then(function(t){P.a.get("/api/customers").then(function(r){var n=r.data,o=Object(Ae.a)(new Set(e.data.filter(function(e){return e.leader[0]===A()}).concat(e.data.filter(function(e){return e.members[0].includes(A())}))));o.forEach(function(e,a){o[a].leader=t.data[t.data.map(function(e){return e._id}).indexOf(e.leader[0])],o[a].customer=n[n.map(function(e){return e._id}).indexOf(e.customer[0])];var r=e.members[0];e.members[0].length?(e.members[0].forEach(function(e,a){r[a]=t.data[t.data.map(function(e){return e._id}).indexOf(e)]}),o[a].members=r):o[a].members=[r]});var s=[];t.data.forEach(function(e){if(0!==e.points.length){var t=0,a={};e.points.forEach(function(e){b()().isSame(b()(e.year),"year")&&(t+=parseInt(e.point,10))}),a.image=e.image,a.name=e.name,a.username=e.username,a.point=t,s.push(a)}}),s.sort(function(e,t){return e.point<=t.point}),a.setState({projects:o,filteredMembers:s})})})})},a.state={projects:[],events:[],filteredMembers:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.loadProjects(),this.loadEvents()}},{key:"formatEvents",value:function(){var e=this.state.events.filter(function(e){return b()(e.initialDate).isSameOrAfter(b()().format())});this.setState({events:e})}},{key:"render",value:function(){var e=this;return this.state.nav?n.a.createElement(h.a,{to:this.state.nav}):["-1"].includes(x())?n.a.createElement(h.a,{to:"/notAuthorizate"}):n.a.createElement(me,{page:"home"},n.a.createElement($.a,null,n.a.createElement($.a,{style:{marginBottom:15}},n.a.createElement(H.a,null,n.a.createElement(z.a,{bordered:!1},n.a.createElement($.a,null,this.state.events.length>0?n.a.createElement(ft.a,{autoplay:!0},this.state.events.map(function(t){return n.a.createElement($.a,{key:t._id},n.a.createElement(Xa,{level:4,style:{marginBottom:0,paddingBottom:6,borderBottom:"1px solid #E9E9E9",fontWeight:500}},n.a.createElement(U.a,{placement:"topLeft",content:tr[t.status].name,arrowPointAtCenter:!0},n.a.createElement(Y.a,{size:14,style:{backgroundColor:"".concat(tr[t.status].color),marginBottom:3,marginRight:14}})),t.name),n.a.createElement("div",{style:{height:10}}),n.a.createElement(H.a,{span:16},n.a.createElement(Ja,null,n.a.createElement(G.a,{type:"calendar",style:{marginRight:5}})," ",0===b()(t.finalDate).diff(b()(t.initialDate),"days")?t.allDay?b()(t.initialDate).format("dddd, D MMMM"):"".concat(b()(t.initialDate).format("dddd, D MMMM")," \u2802").concat(b()(t.initialDate).format("HH:mm")," - ").concat(b()(t.finalDate).format("HH:mm")):t.allDay?"".concat(b()(t.initialDate).format("D")," - ").concat(b()(t.finalDate).format("D")," de ").concat(b()(t.finalDate).format("MMMM")," de ").concat(b()(t.finalDate).format("YYYY")):"".concat(b()(t.initialDate).format("D MMMM YYYY, HH:mm")," - ").concat(b()(t.finalDate).format("D MMMM YYYY, HH:mm"))),n.a.createElement("div",{style:{height:10}}),n.a.createElement(Ja,null,t.description?n.a.createElement(G.a,{type:"align-left",style:{marginRight:5}}):null," ",t.description),n.a.createElement("div",{style:{height:10}}),n.a.createElement(Ja,null,t.membersInvited.length>0&&t.membersInvited[0].length>0?n.a.createElement("div",null,n.a.createElement(G.a,{type:"user",style:{marginRight:5}}),t.membersInvited.length," membros convidados"):null),n.a.createElement("div",{style:{height:5}}),t.membersInvited.length>0&&t.membersInvited[0].length>0?t.membersInvited.map(function(a){var r=a[0],o=e.state.members.map(function(e){return e._id}).indexOf(r),s=t.membersPresent.map(function(e){return e[0]}).includes(r);return o>-1?n.a.createElement(Ka,{key:r,style:{marginBottom:5}},n.a.createElement(Y.a,{style:{height:24,width:24,marginRight:5,marginLeft:20},src:e.state.members[o].image}),s?n.a.createElement(Y.a,{size:16,style:{backgroundColor:"#87d068",marginLeft:-12,verticalAlign:"bottom",marginBottom:-2},icon:"check"}):null,n.a.createElement(Ja,{style:{marginLeft:2}}," ",e.state.members[o].name," ")):null}):null,n.a.createElement("div",{style:{height:5}})),n.a.createElement(H.a,{span:8},n.a.createElement(ft.a,null,t.photos&&t.photos.length>0?t.photos.map(function(e){return n.a.createElement("div",{key:e.url,style:{width:"100% !important",height:"200px !important",overflow:"hidden !important"}},n.a.createElement("img",{style:{width:"100%",height:200,objectFit:"cover"},alt:"Imagem do Evento",src:e.url}))}):null)))})):null)))),n.a.createElement($.a,{style:{marginBottom:15}},n.a.createElement(H.a,null,n.a.createElement(z.a,{bordered:!1},n.a.createElement($.a,null,n.a.createElement(ft.a,null,this.state.projects.map(function(t){return"-1"!==x()||t.customer&&t.customer._id===A()?n.a.createElement(z.a,{bordered:!1,key:t._id,hoverable:!0,bodyStyle:{cursor:"auto",paddingBottom:6},style:{marginTop:30}},n.a.createElement(H.a,{span:8},n.a.createElement("img",{alt:"Imagem do Projeto",style:{width:"100%",maxHeight:200,objectFit:"cover"},src:t.image})),n.a.createElement(H.a,{span:16},n.a.createElement($.a,{style:{marginBottom:15}},n.a.createElement(Xa,{level:3,style:{marginBottom:0},ellipsis:!0},t.name," \xa0",n.a.createElement(U.a,{overlayStyle:{width:300},title:n.a.createElement(Ja,null," ",n.a.createElement(G.a,{type:er[t.status].icon})," \xa0 ",er[t.status].title," "),content:n.a.createElement(Ka,{style:{marginBottom:0}}," ",er[t.status].label," ")},n.a.createElement(be.a,{style:{verticalAlign:3,fontWeight:600,cursor:"pointer"},color:er[t.status].color}," ",er[t.status].title," ")),n.a.createElement(W.a,{type:"primary",onClick:function(){return e.setState({nav:"/insideProject/".concat(t._id)})},icon:"eye",style:{position:"absolute",right:0},size:"small"}))),n.a.createElement($.a,{style:{marginBottom:15,minHeight:120}},t.customer?n.a.createElement(H.a,{span:12,style:{margin:"auto"}},n.a.createElement(Ka,{style:{marginBottom:10}},n.a.createElement(Ja,{strong:!0}," Cliente: "),n.a.createElement(Ja,null," ",t.customer.name," "))):null,n.a.createElement(H.a,{span:12,style:{margin:"auto"}},n.a.createElement(Ka,{style:{marginBottom:10}},n.a.createElement(Ja,{strong:!0}," Pre\xe7o: "),n.a.createElement(Ja,null," R$ ",t.cost.toString().replace(/[^\d]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"."),",00 "))),t.labels.length>0?n.a.createElement(H.a,{span:12,style:{margin:"auto"}},n.a.createElement(Ka,{style:{marginBottom:10}},n.a.createElement(Ja,{strong:!0}," R\xf3tulos: "),t.labels.map(function(e){return n.a.createElement(U.a,{key:e,placement:"top",content:Za[e].title},n.a.createElement(be.a,{style:{marginBottom:3,marginRight:2,fontWeight:600},key:e,color:Za[e].color}," ",n.a.createElement(G.a,{type:Za[e].icon})," "))}))):null,t.description?n.a.createElement(H.a,{span:24,style:{margin:"auto"}},n.a.createElement(Ka,{ellipsis:!0,style:{marginBottom:10}},n.a.createElement(Ja,{strong:!0}," Descri\xe7\xe3o: "),n.a.createElement(Ja,null," ",t.description," "))):null))):n.a.createElement("span",null)})))))),n.a.createElement($.a,{gutter:16,style:{marginBottom:15}},n.a.createElement(H.a,{span:11},n.a.createElement(z.a,{bordered:!1,style:{height:300}},n.a.createElement($.a,null,n.a.createElement(Xa,{level:3},"Vencedor Gamification"),n.a.createElement(R.a,{style:{marginBottom:15,minHeight:120},grid:{gutter:16,column:2},size:"small",dataSource:this.state.filteredMembers,renderItem:function(e){return n.a.createElement(H.a,{key:e._id,span:12,style:{paddingLeft:20}},n.a.createElement(U.a,{title:e.name,content:n.a.createElement(Ja,null,e.point)},n.a.createElement(p.b,{to:"/profile/".concat(e.username)},n.a.createElement(Y.a,{size:30,style:{marginBottom:5},src:e.image}),n.a.createElement(Ja,{style:{marginLeft:11},ellipsis:!0},e.name))))}})))),n.a.createElement(H.a,{span:1},n.a.createElement(X.a,{type:"vertical",style:{height:300}})),n.a.createElement(H.a,{span:11},n.a.createElement(z.a,{bordered:!1,style:{height:300}},n.a.createElement($.a,null,n.a.createElement(Xa,{level:3},"Gamification Podium"),void 0!==this.state.filteredMembers[0]?n.a.createElement($.a,{style:{marginBottom:200}},n.a.createElement(H.a,{style:{marginTop:-80}},n.a.createElement(p.b,{to:"/profile/".concat(this.state.filteredMembers[2].username)},n.a.createElement(Y.a,{size:50,style:{position:"relative",zIndex:10,marginBottom:-280,marginLeft:95},src:this.state.filteredMembers[2].image,alt:"HACCOON's podium"})),n.a.createElement(p.b,{to:"/profile/".concat(this.state.filteredMembers[1].username)},n.a.createElement(Y.a,{size:50,style:{position:"relative",zIndex:10,marginBottom:-275,marginLeft:115},src:this.state.filteredMembers[1].image,alt:"HACCOON's podium"})),n.a.createElement(p.b,{to:"/profile/".concat(this.state.filteredMembers[0].username)},n.a.createElement(Y.a,{size:50,style:{position:"relative",zIndex:10,marginBottom:-145,marginLeft:175},src:this.state.filteredMembers[0].image,alt:"HACCOON's podium"})),n.a.createElement("img",{style:{height:300,zIndex:1},src:Qa,alt:"HACCOON's podium"}))):n.a.createElement(Ja,null,"Carregando")))))))}}]),t}(r.Component),rr=a(775),nr=K.a.Title,or=ee.a.Content,sr=[{error:404,title:"P\xe1gina n\xe3o encontrada",label:"Ops! Parece que esta p\xe1gina foi roubada, recarregue a p\xe1gina ou verifique se est\xe1 buscando a p\xe1gina certa."},{error:500,title:"P\xe1gina n\xe3o autorizada",label:"Ops! Parece que esta p\xe1gina foi roubada e voc\xea n\xe3o t\xeam autoriza\xe7\xe3o para encontr\xe1-la, recarregue a p\xe1gina ou tor\xe7a para que algu\xe9m te de uma autoriza\xe7\xe3o."}],ir=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).state={error:""},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({error:sr[sr.map(function(e){return e.error}).indexOf(this.props.error)]})}},{key:"render",value:function(){return n.a.createElement(ee.a,{style:{height:"100vh",overflow:"hidden",width:"100%"}},n.a.createElement(Q.a,null),n.a.createElement(ne,null),n.a.createElement(or,{style:{padding:24,paddingTop:50,background:"#FFF",minHeight:280}},n.a.createElement($.a,null,n.a.createElement(H.a,{span:13},n.a.createElement(nr,{style:{color:"#EB3B5A",fontSize:208,fontWeight:800,textAlign:"center",marginBottom:0}}," ",this.state.error.error," "),n.a.createElement(nr,{style:{textAlign:"center",fontWeight:800,marginBottom:0,marginTop:-25}}," ",this.state.error.title," "),n.a.createElement(nr,{level:4,style:{textAlign:"center",fontWeight:"lighter",maxWidth:560,marginLeft:"auto",marginRight:"auto"}}," ",this.state.error.label," "),n.a.createElement(nr,{onClick:function(){return window.history.back()},level:4,style:{fontWeight:800,cursor:"pointer",marginTop:100,maxWidth:400,marginLeft:"auto",marginRight:"auto"}}," ",n.a.createElement(G.a,{style:{color:"#3867D6"},type:"caret-left"})," Voltar \xe0 \xfaltima localiza\xe7\xe3o ")),n.a.createElement(H.a,{span:11},n.a.createElement("img",{style:{height:"100vh",marginTop:20},src:rr,alt:"HACCOON's Raccoon"})))))}}]),t}(r.Component);a(776),a(777);b.a.locale("pt-BR");var lr=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(i.c,{locale:f.a},n.a.createElement(p.a,null,n.a.createElement(h.d,null,n.a.createElement(h.b,{path:"/githubconnection",exact:!0,component:M}),n.a.createElement(h.b,{path:"/gamification",exact:!0,component:Ee}),n.a.createElement(h.b,{path:"/insideProject/:id",exact:!0,component:Ve}),n.a.createElement(h.b,{path:"/editProject/:id",exact:!0,component:Xe}),n.a.createElement(h.b,{path:"/projects",exact:!0,component:xe}),n.a.createElement(h.b,{path:"/newProject",exact:!0,component:at}),n.a.createElement(h.b,{path:"/files",exact:!0,component:dt}),n.a.createElement(h.b,{path:"/files/:id",exact:!0,component:dt}),n.a.createElement(h.b,{path:"/calendar",exact:!0,component:Ot}),n.a.createElement(h.b,{path:"/goals",exact:!0,component:zt}),n.a.createElement(h.b,{path:"/members",exact:!0,component:Kt}),n.a.createElement(h.b,{path:"/memberSignUp",exact:!0,component:ra}),n.a.createElement(h.b,{path:"/profile/:username",exact:!0,component:Ea}),n.a.createElement(h.b,{path:"/customerSignUp",exact:!0,component:Ma}),n.a.createElement(h.b,{path:"/customers",exact:!0,component:xa}),n.a.createElement(h.b,{path:"/edit/profile",exact:!0,component:Ya}),n.a.createElement(h.b,{path:"/",exact:!0,component:$a}),n.a.createElement(h.b,{path:"/home",exact:!0,component:ar}),n.a.createElement(h.b,{exact:!0,path:"/notAuthorizate",render:function(){return n.a.createElement(ir,{error:500})}}),n.a.createElement(h.b,{exact:!0,path:"/notFound",render:function(){return n.a.createElement(ir,{error:404})}}),n.a.createElement(h.b,{exact:!0,path:"*",render:function(){return n.a.createElement(ir,{error:404})}}))))}}]),t}(r.Component);v();var cr=lr;a(782),a(783);s.a.render(n.a.createElement(cr,null),document.getElementById("root")),v()}},[[447,1,2]]]);
//# sourceMappingURL=main.658dfe17.chunk.js.map